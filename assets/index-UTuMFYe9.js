(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=o(a);fetch(a.href,c)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(i){return i===null||typeof i!="object"?null:(i=z$1&&i[z$1]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,e,o){this.props=i,this.context=e,this.refs=D$1,this.updater=o||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,e){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,e,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,e,o){this.props=i,this.context=e,this.refs=D$1,this.updater=o||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,e,o){var s,a={},c=null,d=null;if(e!=null)for(s in e.ref!==void 0&&(d=e.ref),e.key!==void 0&&(c=""+e.key),e)J.call(e,s)&&!L$1.hasOwnProperty(s)&&(a[s]=e[s]);var h=arguments.length-2;if(h===1)a.children=o;else if(1<h){for(var _=Array(h),g=0;g<h;g++)_[g]=arguments[g+2];a.children=_}if(i&&i.defaultProps)for(s in h=i.defaultProps,h)a[s]===void 0&&(a[s]=h[s]);return{$$typeof:l$1,type:i,key:c,ref:d,props:a,_owner:K$1.current}}function N$1(i,e){return{$$typeof:l$1,type:i.type,key:e,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$1}function escape$1(i){var e={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(o){return e[o]})}var P$1=/\/+/g;function Q$1(i,e){return typeof i=="object"&&i!==null&&i.key!=null?escape$1(""+i.key):e.toString(36)}function R$1(i,e,o,s,a){var c=typeof i;(c==="undefined"||c==="boolean")&&(i=null);var d=!1;if(i===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(i.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=i,a=a(d),i=s===""?"."+Q$1(d,0):s,I$1(a)?(o="",i!=null&&(o=i.replace(P$1,"$&/")+"/"),R$1(a,e,o,"",function(g){return g})):a!=null&&(O$1(a)&&(a=N$1(a,o+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(P$1,"$&/")+"/")+i)),e.push(a)),1;if(d=0,s=s===""?".":s+":",I$1(i))for(var h=0;h<i.length;h++){c=i[h];var _=s+Q$1(c,h);d+=R$1(c,e,o,_,a)}else if(_=A$1(i),typeof _=="function")for(i=_.call(i),h=0;!(c=i.next()).done;)c=c.value,_=s+Q$1(c,h++),d+=R$1(c,e,o,_,a);else if(c==="object")throw e=String(i),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(i,e,o){if(i==null)return i;var s=[],a=0;return R$1(i,s,"","",function(c){return e.call(o,c,a++)}),s}function T$1(i){if(i._status===-1){var e=i._result;e=e(),e.then(function(o){(i._status===0||i._status===-1)&&(i._status=1,i._result=o)},function(o){(i._status===0||i._status===-1)&&(i._status=2,i._result=o)}),i._status===-1&&(i._status=0,i._result=e)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(i,e,o){S$1(i,function(){e.apply(this,arguments)},o)},count:function(i){var e=0;return S$1(i,function(){e++}),e},toArray:function(i){return S$1(i,function(e){return e})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(i,e,o){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var s=C$1({},i.props),a=i.key,c=i.ref,d=i._owner;if(e!=null){if(e.ref!==void 0&&(c=e.ref,d=K$1.current),e.key!==void 0&&(a=""+e.key),i.type&&i.type.defaultProps)var h=i.type.defaultProps;for(_ in e)J.call(e,_)&&!L$1.hasOwnProperty(_)&&(s[_]=e[_]===void 0&&h!==void 0?h[_]:e[_])}var _=arguments.length-2;if(_===1)s.children=o;else if(1<_){h=Array(_);for(var g=0;g<_;g++)h[g]=arguments[g+2];s.children=h}return{$$typeof:l$1,type:i.type,key:a,ref:c,props:s,_owner:d}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var e=M$1.bind(null,i);return e.type=i,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$1,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,e){return{$$typeof:x,type:i,compare:e===void 0?null:e}};react_production_min.startTransition=function(i){var e=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=e}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(i,e){return U$1.current.useCallback(i,e)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,e){return U$1.current.useEffect(i,e)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,e,o){return U$1.current.useImperativeHandle(i,e,o)};react_production_min.useInsertionEffect=function(i,e){return U$1.current.useInsertionEffect(i,e)};react_production_min.useLayoutEffect=function(i,e){return U$1.current.useLayoutEffect(i,e)};react_production_min.useMemo=function(i,e){return U$1.current.useMemo(i,e)};react_production_min.useReducer=function(i,e,o){return U$1.current.useReducer(i,e,o)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,e,o){return U$1.current.useSyncExternalStore(i,e,o)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(i,e,o){var s,a={},c=null,d=null;o!==void 0&&(c=""+o),e.key!==void 0&&(c=""+e.key),e.ref!==void 0&&(d=e.ref);for(s in e)m$1.call(e,s)&&!p$1.hasOwnProperty(s)&&(a[s]=e[s]);if(i&&i.defaultProps)for(s in e=i.defaultProps,e)a[s]===void 0&&(a[s]=e[s]);return{$$typeof:k,type:i,key:c,ref:d,props:a,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(Ot,Pt){var dt=Ot.length;Ot.push(Pt);t:for(;0<dt;){var Mt=dt-1>>>1,Nt=Ot[Mt];if(0<a(Nt,Pt))Ot[Mt]=Pt,Ot[dt]=Nt,dt=Mt;else break t}}function o(Ot){return Ot.length===0?null:Ot[0]}function s(Ot){if(Ot.length===0)return null;var Pt=Ot[0],dt=Ot.pop();if(dt!==Pt){Ot[0]=dt;t:for(var Mt=0,Nt=Ot.length,ft=Nt>>>1;Mt<ft;){var yt=2*(Mt+1)-1,wt=Ot[yt],_t=yt+1,Et=Ot[_t];if(0>a(wt,dt))_t<Nt&&0>a(Et,wt)?(Ot[Mt]=Et,Ot[_t]=dt,Mt=_t):(Ot[Mt]=wt,Ot[yt]=dt,Mt=yt);else if(_t<Nt&&0>a(Et,dt))Ot[Mt]=Et,Ot[_t]=dt,Mt=_t;else break t}}return Pt}function a(Ot,Pt){var dt=Ot.sortIndex-Pt.sortIndex;return dt!==0?dt:Ot.id-Pt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var _=[],g=[],b=1,j=null,$=3,rt=!1,lt=!1,it=!1,ht=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function nt(Ot){for(var Pt=o(g);Pt!==null;){if(Pt.callback===null)s(g);else if(Pt.startTime<=Ot)s(g),Pt.sortIndex=Pt.expirationTime,e(_,Pt);else break;Pt=o(g)}}function st(Ot){if(it=!1,nt(Ot),!lt)if(o(_)!==null)lt=!0,Dt(ut);else{var Pt=o(g);Pt!==null&&At(st,Pt.startTime-Ot)}}function ut(Ot,Pt){lt=!1,it&&(it=!1,et(xt),xt=-1),rt=!0;var dt=$;try{for(nt(Pt),j=o(_);j!==null&&(!(j.expirationTime>Pt)||Ot&&!Wt());){var Mt=j.callback;if(typeof Mt=="function"){j.callback=null,$=j.priorityLevel;var Nt=Mt(j.expirationTime<=Pt);Pt=i.unstable_now(),typeof Nt=="function"?j.callback=Nt:j===o(_)&&s(_),nt(Pt)}else s(_);j=o(_)}if(j!==null)var ft=!0;else{var yt=o(g);yt!==null&&At(st,yt.startTime-Pt),ft=!1}return ft}finally{j=null,$=dt,rt=!1}}var St=!1,jt=null,xt=-1,Rt=5,kt=-1;function Wt(){return!(i.unstable_now()-kt<Rt)}function Ct(){if(jt!==null){var Ot=i.unstable_now();kt=Ot;var Pt=!0;try{Pt=jt(!0,Ot)}finally{Pt?pt():(St=!1,jt=null)}}else St=!1}var pt;if(typeof tt=="function")pt=function(){tt(Ct)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,bt=gt.port2;gt.port1.onmessage=Ct,pt=function(){bt.postMessage(null)}}else pt=function(){ht(Ct,0)};function Dt(Ot){jt=Ot,St||(St=!0,pt())}function At(Ot,Pt){xt=ht(function(){Ot(i.unstable_now())},Pt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Ot){Ot.callback=null},i.unstable_continueExecution=function(){lt||rt||(lt=!0,Dt(ut))},i.unstable_forceFrameRate=function(Ot){0>Ot||125<Ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rt=0<Ot?Math.floor(1e3/Ot):5},i.unstable_getCurrentPriorityLevel=function(){return $},i.unstable_getFirstCallbackNode=function(){return o(_)},i.unstable_next=function(Ot){switch($){case 1:case 2:case 3:var Pt=3;break;default:Pt=$}var dt=$;$=Pt;try{return Ot()}finally{$=dt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Ot,Pt){switch(Ot){case 1:case 2:case 3:case 4:case 5:break;default:Ot=3}var dt=$;$=Ot;try{return Pt()}finally{$=dt}},i.unstable_scheduleCallback=function(Ot,Pt,dt){var Mt=i.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Mt+dt:Mt):dt=Mt,Ot){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=dt+Nt,Ot={id:b++,callback:Pt,priorityLevel:Ot,startTime:dt,expirationTime:Nt,sortIndex:-1},dt>Mt?(Ot.sortIndex=dt,e(g,Ot),o(_)===null&&Ot===o(g)&&(it?(et(xt),xt=-1):it=!0,At(st,dt-Mt))):(Ot.sortIndex=Nt,e(_,Ot),lt||rt||(lt=!0,Dt(ut))),Ot},i.unstable_shouldYield=Wt,i.unstable_wrapCallback=function(Ot){var Pt=$;return function(){var dt=$;$=Pt;try{return Ot.apply(this,arguments)}finally{$=dt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(i){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+i,o=1;o<arguments.length;o++)e+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+i+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,e){ha(i,e),ha(i+"Capture",e)}function ha(i,e){for(ea[i]=e,i=0;i<e.length;i++)da.add(e[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,e,o,s){if(o!==null&&o.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:o!==null?!o.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,e,o,s){if(e===null||typeof e>"u"||pa(i,e,o,s))return!0;if(s)return!1;if(o!==null)switch(o.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v(i,e,o,s,a,c,d){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=o,this.propertyName=i,this.type=e,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var e=i[0];z[e]=new v(e,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var e=i.replace(ra,sa);z[e]=new v(e,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var e=i.replace(ra,sa);z[e]=new v(e,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var e=i.replace(ra,sa);z[e]=new v(e,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,e,o,s){var a=z.hasOwnProperty(e)?z[e]:null;(a!==null?a.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,o,a,s)&&(o=null),s||a===null?oa(e)&&(o===null?i.removeAttribute(e):i.setAttribute(e,""+o)):a.mustUseProperty?i[a.propertyName]=o===null?a.type===3?!1:"":o:(e=a.attributeName,s=a.attributeNamespace,o===null?i.removeAttribute(e):(a=a.type,o=a===3||a===4&&o===!0?"":""+o,s?i.setAttributeNS(s,e,o):i.setAttribute(e,o))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(o){var e=o.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+i}var Na=!1;function Oa(i,e){if(!i||Na)return"";Na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(g){var s=g}Reflect.construct(i,[],e)}else{try{e.call()}catch(g){s=g}i.call(e.prototype)}else{try{throw Error()}catch(g){s=g}i()}}catch(g){if(g&&s&&typeof g.stack=="string"){for(var a=g.stack.split(`
`),c=s.stack.split(`
`),d=a.length-1,h=c.length-1;1<=d&&0<=h&&a[d]!==c[h];)h--;for(;1<=d&&0<=h;d--,h--)if(a[d]!==c[h]){if(d!==1||h!==1)do if(d--,h--,0>h||a[d]!==c[h]){var _=`
`+a[d].replace(" at new "," at ");return i.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",i.displayName)),_}while(1<=d&&0<=h);break}}}finally{Na=!1,Error.prepareStackTrace=o}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var e=i.render;return i=i.displayName,i||(i=e.displayName||e.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return e=i.displayName||null,e!==null?e:Qa(i.type)||"Memo";case Ha:e=i._payload,i=i._init;try{return Qa(i(e))}catch{}}return null}function Ra(i){var e=i.type;switch(i.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=e.render,i=i.displayName||i.name||"",e.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var e=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(i){var e=Ta(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,e),s=""+i[e];if(!i.hasOwnProperty(e)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var a=o.get,c=o.set;return Object.defineProperty(i,e,{configurable:!0,get:function(){return a.call(this)},set:function(d){s=""+d,c.call(this,d)}}),Object.defineProperty(i,e,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){i._valueTracker=null,delete i[e]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var e=i._valueTracker;if(!e)return!0;var o=e.getValue(),s="";return i&&(s=Ta(i)?i.checked?"true":"false":i.value),i=s,i!==o?(e.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,e){var o=e.checked;return A({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??i._wrapperState.initialChecked})}function Za(i,e){var o=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;o=Sa(e.value!=null?e.value:o),i._wrapperState={initialChecked:s,initialValue:o,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(i,e){e=e.checked,e!=null&&ta(i,"checked",e,!1)}function bb(i,e){ab(i,e);var o=Sa(e.value),s=e.type;if(o!=null)s==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+o):i.value!==""+o&&(i.value=""+o);else if(s==="submit"||s==="reset"){i.removeAttribute("value");return}e.hasOwnProperty("value")?cb(i,e.type,o):e.hasOwnProperty("defaultValue")&&cb(i,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(i.defaultChecked=!!e.defaultChecked)}function db(i,e,o){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+i._wrapperState.initialValue,o||e===i.value||(i.value=e),i.defaultValue=e}o=i.name,o!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,o!==""&&(i.name=o)}function cb(i,e,o){(e!=="number"||Xa(i.ownerDocument)!==i)&&(o==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+o&&(i.defaultValue=""+o))}var eb=Array.isArray;function fb(i,e,o,s){if(i=i.options,e){e={};for(var a=0;a<o.length;a++)e["$"+o[a]]=!0;for(o=0;o<i.length;o++)a=e.hasOwnProperty("$"+i[o].value),i[o].selected!==a&&(i[o].selected=a),a&&s&&(i[o].defaultSelected=!0)}else{for(o=""+Sa(o),e=null,a=0;a<i.length;a++){if(i[a].value===o){i[a].selected=!0,s&&(i[a].defaultSelected=!0);return}e!==null||i[a].disabled||(e=i[a])}e!==null&&(e.selected=!0)}}function gb(i,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},e,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,e){var o=e.value;if(o==null){if(o=e.children,e=e.defaultValue,o!=null){if(e!=null)throw Error(p(92));if(eb(o)){if(1<o.length)throw Error(p(93));o=o[0]}e=o}e==null&&(e=""),o=e}i._wrapperState={initialValue:Sa(o)}}function ib(i,e){var o=Sa(e.value),s=Sa(e.defaultValue);o!=null&&(o=""+o,o!==i.value&&(i.value=o),e.defaultValue==null&&i.defaultValue!==o&&(i.defaultValue=o)),s!=null&&(i.defaultValue=""+s)}function jb(i){var e=i.textContent;e===i._wrapperState.initialValue&&e!==""&&e!==null&&(i.value=e)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,e){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(e):i==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,o,s,a){MSApp.execUnsafeLocalFunction(function(){return i(e,o,s,a)})}:i}(function(i,e){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;e.firstChild;)i.appendChild(e.firstChild)}});function ob(i,e){if(e){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=e;return}}i.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(e){e=e+i.charAt(0).toUpperCase()+i.substring(1),pb[e]=pb[i]})});function rb(i,e,o){return e==null||typeof e=="boolean"||e===""?"":o||typeof e!="number"||e===0||pb.hasOwnProperty(i)&&pb[i]?(""+e).trim():e+"px"}function sb(i,e){i=i.style;for(var o in e)if(e.hasOwnProperty(o)){var s=o.indexOf("--")===0,a=rb(o,e[o],s);o==="float"&&(o="cssFloat"),s?i.setProperty(o,a):i[o]=a}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,e){if(e){if(tb[i]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p(137,i));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p(62))}}function vb(i,e){if(i.indexOf("-")===-1)return typeof e.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p(280));var e=i.stateNode;e&&(e=Db(e),yb(i.stateNode,i.type,e))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,e=Ab;if(Ab=zb=null,Bb(i),e)for(i=0;i<e.length;i++)Bb(e[i])}}function Gb(i,e){return i(e)}function Hb(){}var Ib=!1;function Jb(i,e,o){if(Ib)return i(e,o);Ib=!0;try{return Gb(i,e,o)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,e){var o=i.stateNode;if(o===null)return null;var s=Db(o);if(s===null)return null;o=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(i=i.type,s=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!s;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(p(231,e,typeof o));return o}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,e,o,s,a,c,d,h,_){var g=Array.prototype.slice.call(arguments,3);try{e.apply(o,g)}catch(b){this.onError(b)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,e,o,s,a,c,d,h,_){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,e,o,s,a,c,d,h,_){if(Tb.apply(this,arguments),Ob){if(Ob){var g=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=g)}}function Vb(i){var e=i,o=i;if(i.alternate)for(;e.return;)e=e.return;else{i=e;do e=i,e.flags&4098&&(o=e.return),i=e.return;while(i)}return e.tag===3?o:null}function Wb(i){if(i.tag===13){var e=i.memoizedState;if(e===null&&(i=i.alternate,i!==null&&(e=i.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p(188))}function Yb(i){var e=i.alternate;if(!e){if(e=Vb(i),e===null)throw Error(p(188));return e!==i?null:i}for(var o=i,s=e;;){var a=o.return;if(a===null)break;var c=a.alternate;if(c===null){if(s=a.return,s!==null){o=s;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===o)return Xb(a),i;if(c===s)return Xb(a),e;c=c.sibling}throw Error(p(188))}if(o.return!==s.return)o=a,s=c;else{for(var d=!1,h=a.child;h;){if(h===o){d=!0,o=a,s=c;break}if(h===s){d=!0,s=a,o=c;break}h=h.sibling}if(!d){for(h=c.child;h;){if(h===o){d=!0,o=c,s=a;break}if(h===s){d=!0,s=c,o=a;break}h=h.sibling}if(!d)throw Error(p(189))}}if(o.alternate!==s)throw Error(p(190))}if(o.tag!==3)throw Error(p(188));return o.stateNode.current===o?i:e}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var e=$b(i);if(e!==null)return e;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,e){var o=i.pendingLanes;if(o===0)return 0;var s=0,a=i.suspendedLanes,c=i.pingedLanes,d=o&268435455;if(d!==0){var h=d&~a;h!==0?s=tc(h):(c&=d,c!==0&&(s=tc(c)))}else d=o&~a,d!==0?s=tc(d):c!==0&&(s=tc(c));if(s===0)return 0;if(e!==0&&e!==s&&!(e&a)&&(a=s&-s,c=e&-e,a>=c||a===16&&(c&4194240)!==0))return e;if(s&4&&(s|=o&16),e=i.entangledLanes,e!==0)for(i=i.entanglements,e&=s;0<e;)o=31-oc(e),a=1<<o,s|=i[o],e&=~a;return s}function vc(i,e){switch(i){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,e){for(var o=i.suspendedLanes,s=i.pingedLanes,a=i.expirationTimes,c=i.pendingLanes;0<c;){var d=31-oc(c),h=1<<d,_=a[d];_===-1?(!(h&o)||h&s)&&(a[d]=vc(h,e)):_<=e&&(i.expiredLanes|=h),c&=~h}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var e=[],o=0;31>o;o++)e.push(i);return e}function Ac(i,e,o){i.pendingLanes|=e,e!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,e=31-oc(e),i[e]=o}function Bc(i,e){var o=i.pendingLanes&~e;i.pendingLanes=e,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=e,i.mutableReadLanes&=e,i.entangledLanes&=e,e=i.entanglements;var s=i.eventTimes;for(i=i.expirationTimes;0<o;){var a=31-oc(o),c=1<<a;e[a]=0,s[a]=-1,i[a]=-1,o&=~c}}function Cc(i,e){var o=i.entangledLanes|=e;for(i=i.entanglements;o;){var s=31-oc(o),a=1<<s;a&e|i[s]&e&&(i[s]|=e),o&=~a}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,e){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(i,e,o,s,a,c){return i===null||i.nativeEvent!==c?(i={blockedOn:e,domEventName:o,eventSystemFlags:s,nativeEvent:c,targetContainers:[a]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),i):(i.eventSystemFlags|=s,e=i.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),i)}function Uc(i,e,o,s,a){switch(e){case"focusin":return Lc=Tc(Lc,i,e,o,s,a),!0;case"dragenter":return Mc=Tc(Mc,i,e,o,s,a),!0;case"mouseover":return Nc=Tc(Nc,i,e,o,s,a),!0;case"pointerover":var c=a.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,i,e,o,s,a)),!0;case"gotpointercapture":return c=a.pointerId,Pc.set(c,Tc(Pc.get(c)||null,i,e,o,s,a)),!0}return!1}function Vc(i){var e=Wc(i.target);if(e!==null){var o=Vb(e);if(o!==null){if(e=o.tag,e===13){if(e=Wb(o),e!==null){i.blockedOn=e,Ic(i.priority,function(){Gc(o)});return}}else if(e===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var e=i.targetContainers;0<e.length;){var o=Yc(i.domEventName,i.eventSystemFlags,e[0],i.nativeEvent);if(o===null){o=i.nativeEvent;var s=new o.constructor(o.type,o);wb=s,o.target.dispatchEvent(s),wb=null}else return e=Cb(o),e!==null&&Fc(e),i.blockedOn=o,!1;e.shift()}return!0}function Zc(i,e,o){Xc(i)&&o.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,e){i.blockedOn===e&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function e(a){return ad(a,i)}if(0<Kc.length){ad(Kc[0],i);for(var o=1;o<Kc.length;o++){var s=Kc[o];s.blockedOn===i&&(s.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(e),Pc.forEach(e),o=0;o<Qc.length;o++)s=Qc[o],s.blockedOn===i&&(s.blockedOn=null);for(;0<Qc.length&&(o=Qc[0],o.blockedOn===null);)Vc(o),o.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,e,o,s){var a=C,c=cd.transition;cd.transition=null;try{C=1,fd(i,e,o,s)}finally{C=a,cd.transition=c}}function gd(i,e,o,s){var a=C,c=cd.transition;cd.transition=null;try{C=4,fd(i,e,o,s)}finally{C=a,cd.transition=c}}function fd(i,e,o,s){if(dd){var a=Yc(i,e,o,s);if(a===null)hd(i,e,s,id,o),Sc(i,s);else if(Uc(a,i,e,o,s))s.stopPropagation();else if(Sc(i,s),e&4&&-1<Rc.indexOf(i)){for(;a!==null;){var c=Cb(a);if(c!==null&&Ec(c),c=Yc(i,e,o,s),c===null&&hd(i,e,s,id,o),c===a)break;a=c}a!==null&&s.stopPropagation()}else hd(i,e,s,null,o)}}var id=null;function Yc(i,e,o,s){if(id=null,i=xb(s),i=Wc(i),i!==null)if(e=Vb(i),e===null)i=null;else if(o=e.tag,o===13){if(i=Wb(e),i!==null)return i;i=null}else if(o===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;i=null}else e!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,e=ld,o=e.length,s,a="value"in kd?kd.value:kd.textContent,c=a.length;for(i=0;i<o&&e[i]===a[i];i++);var d=o-i;for(s=1;s<=d&&e[o-s]===a[c-s];s++);return md=a.slice(i,1<s?1-s:void 0)}function od(i){var e=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&e===13&&(i=13)):i=e,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function e(o,s,a,c,d){this._reactName=o,this._targetInst=a,this.type=s,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var h in i)i.hasOwnProperty(h)&&(o=i[h],this[h]=o?o(c):c[h]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(i):(i=Od[i])?!!e[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var e=Md[i.key]||i.key;if(e!=="Unidentified")return e}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(i,e){switch(i){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,e){switch(i){case"compositionend":return he(e);case"keypress":return e.which!==32?null:(fe=!0,ee);case"textInput":return i=e.data,i===ee&&fe?null:i;default:return null}}function ke(i,e){if(ie)return i==="compositionend"||!ae&&ge(i,e)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de&&e.locale!=="ko"?null:e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e==="input"?!!le[i.type]:e==="textarea"}function ne(i,e,o,s){Eb(s),e=oe(e,"onChange"),0<e.length&&(o=new td("onChange","change",null,o,s),i.push({event:o,listeners:e}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var e=ue(i);if(Wa(e))return i}function ve(i,e){if(i==="change")return e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var e=[];ne(e,qe,i,xb(i)),Jb(re,e)}}function Ce(i,e,o){i==="focusin"?(Ae(),pe=e,qe=o,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,e){if(i==="click")return te(e)}function Fe(i,e){if(i==="input"||i==="change")return te(e)}function Ge(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,e){if(He(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;var o=Object.keys(i),s=Object.keys(e);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var a=o[s];if(!ja.call(e,a)||!He(i[a],e[a]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,e){var o=Je(i);i=0;for(var s;o;){if(o.nodeType===3){if(s=i+o.textContent.length,i<=e&&s>=e)return{node:o,offset:e-i};i=s}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Je(o)}}function Le(i,e){return i&&e?i===e?!0:i&&i.nodeType===3?!1:e&&e.nodeType===3?Le(i,e.parentNode):"contains"in i?i.contains(e):i.compareDocumentPosition?!!(i.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var i=window,e=Xa();e instanceof i.HTMLIFrameElement;){try{var o=typeof e.contentWindow.location.href=="string"}catch{o=!1}if(o)i=e.contentWindow;else break;e=Xa(i.document)}return e}function Ne(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e&&(e==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||e==="textarea"||i.contentEditable==="true")}function Oe(i){var e=Me(),o=i.focusedElem,s=i.selectionRange;if(e!==o&&o&&o.ownerDocument&&Le(o.ownerDocument.documentElement,o)){if(s!==null&&Ne(o)){if(e=s.start,i=s.end,i===void 0&&(i=e),"selectionStart"in o)o.selectionStart=e,o.selectionEnd=Math.min(i,o.value.length);else if(i=(e=o.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var a=o.textContent.length,c=Math.min(s.start,a);s=s.end===void 0?c:Math.min(s.end,a),!i.extend&&c>s&&(a=s,s=c,c=a),a=Ke(o,c);var d=Ke(o,s);a&&d&&(i.rangeCount!==1||i.anchorNode!==a.node||i.anchorOffset!==a.offset||i.focusNode!==d.node||i.focusOffset!==d.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),i.removeAllRanges(),c>s?(i.addRange(e),i.extend(d.node,d.offset)):(e.setEnd(d.node,d.offset),i.addRange(e)))}}for(e=[],i=o;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<e.length;o++)i=e[o],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,e,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te||Qe==null||Qe!==Xa(s)||(s=Qe,"selectionStart"in s&&Ne(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Se&&Ie(Se,s)||(Se=s,s=oe(Re,"onSelect"),0<s.length&&(e=new td("onSelect","select",null,e,o),i.push({event:e,listeners:s}),e.target=Qe)))}function Ve(i,e){var o={};return o[i.toLowerCase()]=e.toLowerCase(),o["Webkit"+i]="webkit"+e,o["Moz"+i]="moz"+e,o}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var e=We[i],o;for(o in e)if(e.hasOwnProperty(o)&&o in Ye)return Xe[i]=e[o];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,e){df.set(i,e),fa(e,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,e,o){var s=i.type||"unknown-event";i.currentTarget=o,Ub(s,e,void 0,i),i.currentTarget=null}function se(i,e){e=(e&4)!==0;for(var o=0;o<i.length;o++){var s=i[o],a=s.event;s=s.listeners;t:{var c=void 0;if(e)for(var d=s.length-1;0<=d;d--){var h=s[d],_=h.instance,g=h.currentTarget;if(h=h.listener,_!==c&&a.isPropagationStopped())break t;nf(a,h,g),c=_}else for(d=0;d<s.length;d++){if(h=s[d],_=h.instance,g=h.currentTarget,h=h.listener,_!==c&&a.isPropagationStopped())break t;nf(a,h,g),c=_}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,e){var o=e[of];o===void 0&&(o=e[of]=new Set);var s=i+"__bubble";o.has(s)||(pf(e,i,2,!1),o.add(s))}function qf(i,e,o){var s=0;e&&(s|=4),pf(o,i,s,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,i),qf(o,!0,i))});var e=i.nodeType===9?i:i.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(i,e,o,s){switch(jd(e)){case 1:var a=ed;break;case 4:a=gd;break;default:a=fd}o=a.bind(null,e,o,i),a=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),s?a!==void 0?i.addEventListener(e,o,{capture:!0,passive:a}):i.addEventListener(e,o,!0):a!==void 0?i.addEventListener(e,o,{passive:a}):i.addEventListener(e,o,!1)}function hd(i,e,o,s,a){var c=s;if(!(e&1)&&!(e&2)&&s!==null)t:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var h=s.stateNode.containerInfo;if(h===a||h.nodeType===8&&h.parentNode===a)break;if(d===4)for(d=s.return;d!==null;){var _=d.tag;if((_===3||_===4)&&(_=d.stateNode.containerInfo,_===a||_.nodeType===8&&_.parentNode===a))return;d=d.return}for(;h!==null;){if(d=Wc(h),d===null)return;if(_=d.tag,_===5||_===6){s=c=d;continue t}h=h.parentNode}}s=s.return}Jb(function(){var g=c,b=xb(o),j=[];t:{var $=df.get(i);if($!==void 0){var rt=td,lt=i;switch(i){case"keypress":if(od(o)===0)break t;case"keydown":case"keyup":rt=Rd;break;case"focusin":lt="focus",rt=Fd;break;case"focusout":lt="blur",rt=Fd;break;case"beforeblur":case"afterblur":rt=Fd;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Vd;break;case $e:case af:case bf:rt=Hd;break;case cf:rt=Xd;break;case"scroll":rt=vd;break;case"wheel":rt=Zd;break;case"copy":case"cut":case"paste":rt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Td}var it=(e&4)!==0,ht=!it&&i==="scroll",et=it?$!==null?$+"Capture":null:$;it=[];for(var tt=g,nt;tt!==null;){nt=tt;var st=nt.stateNode;if(nt.tag===5&&st!==null&&(nt=st,et!==null&&(st=Kb(tt,et),st!=null&&it.push(tf(tt,st,nt)))),ht)break;tt=tt.return}0<it.length&&($=new rt($,lt,null,o,b),j.push({event:$,listeners:it}))}}if(!(e&7)){t:{if($=i==="mouseover"||i==="pointerover",rt=i==="mouseout"||i==="pointerout",$&&o!==wb&&(lt=o.relatedTarget||o.fromElement)&&(Wc(lt)||lt[uf]))break t;if((rt||$)&&($=b.window===b?b:($=b.ownerDocument)?$.defaultView||$.parentWindow:window,rt?(lt=o.relatedTarget||o.toElement,rt=g,lt=lt?Wc(lt):null,lt!==null&&(ht=Vb(lt),lt!==ht||lt.tag!==5&&lt.tag!==6)&&(lt=null)):(rt=null,lt=g),rt!==lt)){if(it=Bd,st="onMouseLeave",et="onMouseEnter",tt="mouse",(i==="pointerout"||i==="pointerover")&&(it=Td,st="onPointerLeave",et="onPointerEnter",tt="pointer"),ht=rt==null?$:ue(rt),nt=lt==null?$:ue(lt),$=new it(st,tt+"leave",rt,o,b),$.target=ht,$.relatedTarget=nt,st=null,Wc(b)===g&&(it=new it(et,tt+"enter",lt,o,b),it.target=nt,it.relatedTarget=ht,st=it),ht=st,rt&&lt)e:{for(it=rt,et=lt,tt=0,nt=it;nt;nt=vf(nt))tt++;for(nt=0,st=et;st;st=vf(st))nt++;for(;0<tt-nt;)it=vf(it),tt--;for(;0<nt-tt;)et=vf(et),nt--;for(;tt--;){if(it===et||et!==null&&it===et.alternate)break e;it=vf(it),et=vf(et)}it=null}else it=null;rt!==null&&wf(j,$,rt,it,!1),lt!==null&&ht!==null&&wf(j,ht,lt,it,!0)}}t:{if($=g?ue(g):window,rt=$.nodeName&&$.nodeName.toLowerCase(),rt==="select"||rt==="input"&&$.type==="file")var ut=ve;else if(me($))if(we)ut=Fe;else{ut=De;var St=Ce}else(rt=$.nodeName)&&rt.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(ut=Ee);if(ut&&(ut=ut(i,g))){ne(j,ut,o,b);break t}St&&St(i,$,g),i==="focusout"&&(St=$._wrapperState)&&St.controlled&&$.type==="number"&&cb($,"number",$.value)}switch(St=g?ue(g):window,i){case"focusin":(me(St)||St.contentEditable==="true")&&(Qe=St,Re=g,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(j,o,b);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(j,o,b)}var jt;if(ae)t:{switch(i){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else ie?ge(i,o)&&(xt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(xt="onCompositionStart");xt&&(de&&o.locale!=="ko"&&(ie||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ie&&(jt=nd()):(kd=b,ld="value"in kd?kd.value:kd.textContent,ie=!0)),St=oe(g,xt),0<St.length&&(xt=new Ld(xt,i,null,o,b),j.push({event:xt,listeners:St}),jt?xt.data=jt:(jt=he(o),jt!==null&&(xt.data=jt)))),(jt=ce?je(i,o):ke(i,o))&&(g=oe(g,"onBeforeInput"),0<g.length&&(b=new Ld("onBeforeInput","beforeinput",null,o,b),j.push({event:b,listeners:g}),b.data=jt))}se(j,e)})}function tf(i,e,o){return{instance:i,listener:e,currentTarget:o}}function oe(i,e){for(var o=e+"Capture",s=[];i!==null;){var a=i,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=Kb(i,o),c!=null&&s.unshift(tf(i,c,a)),c=Kb(i,e),c!=null&&s.push(tf(i,c,a))),i=i.return}return s}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,e,o,s,a){for(var c=e._reactName,d=[];o!==null&&o!==s;){var h=o,_=h.alternate,g=h.stateNode;if(_!==null&&_===s)break;h.tag===5&&g!==null&&(h=g,a?(_=Kb(o,c),_!=null&&d.unshift(tf(o,_,h))):a||(_=Kb(o,c),_!=null&&d.push(tf(o,_,h)))),o=o.return}d.length!==0&&i.push({event:e,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,e,o){if(e=zf(e),zf(i)!==e&&o)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,e){return i==="textarea"||i==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,e){var o=e,s=0;do{var a=o.nextSibling;if(i.removeChild(o),a&&a.nodeType===8)if(o=a.data,o==="/$"){if(s===0){i.removeChild(a),bd(e);return}s--}else o!=="$"&&o!=="$?"&&o!=="$!"||s++;o=a}while(o);bd(e)}function Lf(i){for(;i!=null;i=i.nextSibling){var e=i.nodeType;if(e===1||e===3)break;if(e===8){if(e=i.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var e=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(e===0)return i;e--}else o==="/$"&&e++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var e=i[Of];if(e)return e;for(var o=i.parentNode;o;){if(e=o[uf]||o[Of]){if(o=e.alternate,e.child!==null||o!==null&&o.child!==null)for(i=Mf(i);i!==null;){if(o=i[Of])return o;i=Mf(i)}return e}i=o,o=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,e){Tf++,Sf[Tf]=i.current,i.current=e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,e){var o=i.type.contextTypes;if(!o)return Vf;var s=i.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in o)a[c]=e[c];return s&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=e,i.__reactInternalMemoizedMaskedChildContext=a),a}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,e,o){if(H.current!==Vf)throw Error(p(168));G(H,e),G(Wf,o)}function bg(i,e,o){var s=i.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return o;s=s.getChildContext();for(var a in s)if(!(a in e))throw Error(p(108,Ra(i)||"Unknown",a));return A({},o,s)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,e,o){var s=i.stateNode;if(!s)throw Error(p(169));o?(i=bg(i,e,Xf),s.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,e=C;try{var o=eg;for(C=1;i<o.length;i++){var s=o[i];do s=s(!0);while(s!==null)}eg=null,fg=!1}catch(a){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),a}finally{C=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,e){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=e}function ug(i,e,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var s=rg;i=sg;var a=32-oc(s)-1;s&=~(1<<a),o+=1;var c=32-oc(e)+a;if(30<c){var d=a-a%5;c=(s&(1<<d)-1).toString(32),s>>=d,a-=d,rg=1<<32-oc(e)+a|o<<a|s,sg=c+i}else rg=1<<c|o<<a|s,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,e){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=e,o.return=i,e=i.deletions,e===null?(i.deletions=[o],i.flags|=16):e.push(o)}function Cg(i,e){switch(i.tag){case 5:var o=i.type;return e=e.nodeType!==1||o.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(i.stateNode=e,xg=i,yg=Lf(e.firstChild),!0):!1;case 6:return e=i.pendingProps===""||e.nodeType!==3?null:e,e!==null?(i.stateNode=e,xg=i,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(o=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:e,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=e,o.return=i,i.child=o,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var e=yg;if(e){var o=e;if(!Cg(i,e)){if(Dg(i))throw Error(p(418));e=Lf(o.nextSibling);var s=xg;e&&Cg(i,e)?Ag(s,o):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var e;if((e=i.tag!==3)&&!(e=i.tag!==5)&&(e=i.type,e=e!=="head"&&e!=="body"&&!Ef(i.type,i.memoizedProps)),e&&(e=yg)){if(Dg(i))throw Hg(),Error(p(418));for(;e;)Ag(i,e),e=Lf(e.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p(317));t:{for(i=i.nextSibling,e=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"){if(e===0){yg=Lf(i.nextSibling);break t}e--}else o!=="$"&&o!=="$!"&&o!=="$?"||e++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,e,o){if(i=o.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p(309));var s=o.stateNode}if(!s)throw Error(p(147,i));var a=s,c=""+i;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===c?e.ref:(e=function(d){var h=a.refs;d===null?delete h[c]:h[c]=d},e._stringRef=c,e)}if(typeof i!="string")throw Error(p(284));if(!o._owner)throw Error(p(290,i))}return i}function Mg(i,e){throw i=Object.prototype.toString.call(e),Error(p(31,i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i))}function Ng(i){var e=i._init;return e(i._payload)}function Og(i){function e(et,tt){if(i){var nt=et.deletions;nt===null?(et.deletions=[tt],et.flags|=16):nt.push(tt)}}function o(et,tt){if(!i)return null;for(;tt!==null;)e(et,tt),tt=tt.sibling;return null}function s(et,tt){for(et=new Map;tt!==null;)tt.key!==null?et.set(tt.key,tt):et.set(tt.index,tt),tt=tt.sibling;return et}function a(et,tt){return et=Pg(et,tt),et.index=0,et.sibling=null,et}function c(et,tt,nt){return et.index=nt,i?(nt=et.alternate,nt!==null?(nt=nt.index,nt<tt?(et.flags|=2,tt):nt):(et.flags|=2,tt)):(et.flags|=1048576,tt)}function d(et){return i&&et.alternate===null&&(et.flags|=2),et}function h(et,tt,nt,st){return tt===null||tt.tag!==6?(tt=Qg(nt,et.mode,st),tt.return=et,tt):(tt=a(tt,nt),tt.return=et,tt)}function _(et,tt,nt,st){var ut=nt.type;return ut===ya?b(et,tt,nt.props.children,st,nt.key):tt!==null&&(tt.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===Ha&&Ng(ut)===tt.type)?(st=a(tt,nt.props),st.ref=Lg(et,tt,nt),st.return=et,st):(st=Rg(nt.type,nt.key,nt.props,null,et.mode,st),st.ref=Lg(et,tt,nt),st.return=et,st)}function g(et,tt,nt,st){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==nt.containerInfo||tt.stateNode.implementation!==nt.implementation?(tt=Sg(nt,et.mode,st),tt.return=et,tt):(tt=a(tt,nt.children||[]),tt.return=et,tt)}function b(et,tt,nt,st,ut){return tt===null||tt.tag!==7?(tt=Tg(nt,et.mode,st,ut),tt.return=et,tt):(tt=a(tt,nt),tt.return=et,tt)}function j(et,tt,nt){if(typeof tt=="string"&&tt!==""||typeof tt=="number")return tt=Qg(""+tt,et.mode,nt),tt.return=et,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case va:return nt=Rg(tt.type,tt.key,tt.props,null,et.mode,nt),nt.ref=Lg(et,null,tt),nt.return=et,nt;case wa:return tt=Sg(tt,et.mode,nt),tt.return=et,tt;case Ha:var st=tt._init;return j(et,st(tt._payload),nt)}if(eb(tt)||Ka(tt))return tt=Tg(tt,et.mode,nt,null),tt.return=et,tt;Mg(et,tt)}return null}function $(et,tt,nt,st){var ut=tt!==null?tt.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number")return ut!==null?null:h(et,tt,""+nt,st);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case va:return nt.key===ut?_(et,tt,nt,st):null;case wa:return nt.key===ut?g(et,tt,nt,st):null;case Ha:return ut=nt._init,$(et,tt,ut(nt._payload),st)}if(eb(nt)||Ka(nt))return ut!==null?null:b(et,tt,nt,st,null);Mg(et,nt)}return null}function rt(et,tt,nt,st,ut){if(typeof st=="string"&&st!==""||typeof st=="number")return et=et.get(nt)||null,h(tt,et,""+st,ut);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case va:return et=et.get(st.key===null?nt:st.key)||null,_(tt,et,st,ut);case wa:return et=et.get(st.key===null?nt:st.key)||null,g(tt,et,st,ut);case Ha:var St=st._init;return rt(et,tt,nt,St(st._payload),ut)}if(eb(st)||Ka(st))return et=et.get(nt)||null,b(tt,et,st,ut,null);Mg(tt,st)}return null}function lt(et,tt,nt,st){for(var ut=null,St=null,jt=tt,xt=tt=0,Rt=null;jt!==null&&xt<nt.length;xt++){jt.index>xt?(Rt=jt,jt=null):Rt=jt.sibling;var kt=$(et,jt,nt[xt],st);if(kt===null){jt===null&&(jt=Rt);break}i&&jt&&kt.alternate===null&&e(et,jt),tt=c(kt,tt,xt),St===null?ut=kt:St.sibling=kt,St=kt,jt=Rt}if(xt===nt.length)return o(et,jt),I&&tg(et,xt),ut;if(jt===null){for(;xt<nt.length;xt++)jt=j(et,nt[xt],st),jt!==null&&(tt=c(jt,tt,xt),St===null?ut=jt:St.sibling=jt,St=jt);return I&&tg(et,xt),ut}for(jt=s(et,jt);xt<nt.length;xt++)Rt=rt(jt,et,xt,nt[xt],st),Rt!==null&&(i&&Rt.alternate!==null&&jt.delete(Rt.key===null?xt:Rt.key),tt=c(Rt,tt,xt),St===null?ut=Rt:St.sibling=Rt,St=Rt);return i&&jt.forEach(function(Wt){return e(et,Wt)}),I&&tg(et,xt),ut}function it(et,tt,nt,st){var ut=Ka(nt);if(typeof ut!="function")throw Error(p(150));if(nt=ut.call(nt),nt==null)throw Error(p(151));for(var St=ut=null,jt=tt,xt=tt=0,Rt=null,kt=nt.next();jt!==null&&!kt.done;xt++,kt=nt.next()){jt.index>xt?(Rt=jt,jt=null):Rt=jt.sibling;var Wt=$(et,jt,kt.value,st);if(Wt===null){jt===null&&(jt=Rt);break}i&&jt&&Wt.alternate===null&&e(et,jt),tt=c(Wt,tt,xt),St===null?ut=Wt:St.sibling=Wt,St=Wt,jt=Rt}if(kt.done)return o(et,jt),I&&tg(et,xt),ut;if(jt===null){for(;!kt.done;xt++,kt=nt.next())kt=j(et,kt.value,st),kt!==null&&(tt=c(kt,tt,xt),St===null?ut=kt:St.sibling=kt,St=kt);return I&&tg(et,xt),ut}for(jt=s(et,jt);!kt.done;xt++,kt=nt.next())kt=rt(jt,et,xt,kt.value,st),kt!==null&&(i&&kt.alternate!==null&&jt.delete(kt.key===null?xt:kt.key),tt=c(kt,tt,xt),St===null?ut=kt:St.sibling=kt,St=kt);return i&&jt.forEach(function(Ct){return e(et,Ct)}),I&&tg(et,xt),ut}function ht(et,tt,nt,st){if(typeof nt=="object"&&nt!==null&&nt.type===ya&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case va:t:{for(var ut=nt.key,St=tt;St!==null;){if(St.key===ut){if(ut=nt.type,ut===ya){if(St.tag===7){o(et,St.sibling),tt=a(St,nt.props.children),tt.return=et,et=tt;break t}}else if(St.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===Ha&&Ng(ut)===St.type){o(et,St.sibling),tt=a(St,nt.props),tt.ref=Lg(et,St,nt),tt.return=et,et=tt;break t}o(et,St);break}else e(et,St);St=St.sibling}nt.type===ya?(tt=Tg(nt.props.children,et.mode,st,nt.key),tt.return=et,et=tt):(st=Rg(nt.type,nt.key,nt.props,null,et.mode,st),st.ref=Lg(et,tt,nt),st.return=et,et=st)}return d(et);case wa:t:{for(St=nt.key;tt!==null;){if(tt.key===St)if(tt.tag===4&&tt.stateNode.containerInfo===nt.containerInfo&&tt.stateNode.implementation===nt.implementation){o(et,tt.sibling),tt=a(tt,nt.children||[]),tt.return=et,et=tt;break t}else{o(et,tt);break}else e(et,tt);tt=tt.sibling}tt=Sg(nt,et.mode,st),tt.return=et,et=tt}return d(et);case Ha:return St=nt._init,ht(et,tt,St(nt._payload),st)}if(eb(nt))return lt(et,tt,nt,st);if(Ka(nt))return it(et,tt,nt,st);Mg(et,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"?(nt=""+nt,tt!==null&&tt.tag===6?(o(et,tt.sibling),tt=a(tt,nt),tt.return=et,et=tt):(o(et,tt),tt=Qg(nt,et.mode,st),tt.return=et,et=tt),d(et)):o(et,tt)}return ht}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(i){var e=Wg.current;E(Wg),i._currentValue=e}function bh(i,e,o){for(;i!==null;){var s=i.alternate;if((i.childLanes&e)!==e?(i.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),i===o)break;i=i.return}}function ch(i,e){Xg=i,Zg=Yg=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&e&&(dh=!0),i.firstContext=null)}function eh(i){var e=i._currentValue;if(Zg!==i)if(i={context:i,memoizedValue:e,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=i,Xg.dependencies={lanes:0,firstContext:i}}else Yg=Yg.next=i;return e}var fh=null;function gh(i){fh===null?fh=[i]:fh.push(i)}function hh(i,e,o,s){var a=e.interleaved;return a===null?(o.next=o,gh(e)):(o.next=a.next,a.next=o),e.interleaved=o,ih(i,s)}function ih(i,e){i.lanes|=e;var o=i.alternate;for(o!==null&&(o.lanes|=e),o=i,i=i.return;i!==null;)i.childLanes|=e,o=i.alternate,o!==null&&(o.childLanes|=e),o=i,i=i.return;return o.tag===3?o.stateNode:null}var jh=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(i,e){i=i.updateQueue,e.updateQueue===i&&(e.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mh(i,e){return{eventTime:i,lane:e,tag:0,payload:null,callback:null,next:null}}function nh(i,e,o){var s=i.updateQueue;if(s===null)return null;if(s=s.shared,K&2){var a=s.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),s.pending=e,ih(i,o)}return a=s.interleaved,a===null?(e.next=e,gh(s)):(e.next=a.next,a.next=e),s.interleaved=e,ih(i,o)}function oh(i,e,o){if(e=e.updateQueue,e!==null&&(e=e.shared,(o&4194240)!==0)){var s=e.lanes;s&=i.pendingLanes,o|=s,e.lanes=o,Cc(i,o)}}function ph(i,e){var o=i.updateQueue,s=i.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var a=null,c=null;if(o=o.firstBaseUpdate,o!==null){do{var d={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};c===null?a=c=d:c=c.next=d,o=o.next}while(o!==null);c===null?a=c=e:c=c.next=e}else a=c=e;o={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:s.shared,effects:s.effects},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=e:i.next=e,o.lastBaseUpdate=e}function qh(i,e,o,s){var a=i.updateQueue;jh=!1;var c=a.firstBaseUpdate,d=a.lastBaseUpdate,h=a.shared.pending;if(h!==null){a.shared.pending=null;var _=h,g=_.next;_.next=null,d===null?c=g:d.next=g,d=_;var b=i.alternate;b!==null&&(b=b.updateQueue,h=b.lastBaseUpdate,h!==d&&(h===null?b.firstBaseUpdate=g:h.next=g,b.lastBaseUpdate=_))}if(c!==null){var j=a.baseState;d=0,b=g=_=null,h=c;do{var $=h.lane,rt=h.eventTime;if((s&$)===$){b!==null&&(b=b.next={eventTime:rt,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});t:{var lt=i,it=h;switch($=e,rt=o,it.tag){case 1:if(lt=it.payload,typeof lt=="function"){j=lt.call(rt,j,$);break t}j=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=it.payload,$=typeof lt=="function"?lt.call(rt,j,$):lt,$==null)break t;j=A({},j,$);break t;case 2:jh=!0}}h.callback!==null&&h.lane!==0&&(i.flags|=64,$=a.effects,$===null?a.effects=[h]:$.push(h))}else rt={eventTime:rt,lane:$,tag:h.tag,payload:h.payload,callback:h.callback,next:null},b===null?(g=b=rt,_=j):b=b.next=rt,d|=$;if(h=h.next,h===null){if(h=a.shared.pending,h===null)break;$=h,h=$.next,$.next=null,a.lastBaseUpdate=$,a.shared.pending=null}}while(!0);if(b===null&&(_=j),a.baseState=_,a.firstBaseUpdate=g,a.lastBaseUpdate=b,e=a.shared.interleaved,e!==null){a=e;do d|=a.lane,a=a.next;while(a!==e)}else c===null&&(a.shared.lanes=0);rh|=d,i.lanes=d,i.memoizedState=j}}function sh(i,e,o){if(i=e.effects,e.effects=null,i!==null)for(e=0;e<i.length;e++){var s=i[e],a=s.callback;if(a!==null){if(s.callback=null,s=o,typeof a!="function")throw Error(p(191,a));a.call(s)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(i){if(i===th)throw Error(p(174));return i}function yh(i,e){switch(G(wh,e),G(vh,i),G(uh,th),i=e.nodeType,i){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:i=i===8?e.parentNode:e,e=i.namespaceURI||null,i=i.tagName,e=lb(e,i)}E(uh),G(uh,e)}function zh(){E(uh),E(vh),E(wh)}function Ah(i){xh(wh.current);var e=xh(uh.current),o=lb(e,i.type);e!==o&&(G(vh,i),G(uh,o))}function Bh(i){vh.current===i&&(E(uh),E(vh))}var L=Uf(0);function Ch(i){for(var e=i;e!==null;){if(e.tag===13){var o=e.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function Eh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(i,e){if(e===null)return!1;for(var o=0;o<e.length&&o<i.length;o++)if(!He(i[o],e[o]))return!1;return!0}function Nh(i,e,o,s,a,c){if(Hh=c,M=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=i===null||i.memoizedState===null?Oh:Ph,i=o(s,a),Jh){c=0;do{if(Jh=!1,Kh=0,25<=c)throw Error(p(301));c+=1,O=N=null,e.updateQueue=null,Fh.current=Qh,i=o(s,a)}while(Jh)}if(Fh.current=Rh,e=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,e)throw Error(p(300));return i}function Sh(){var i=Kh!==0;return Kh=0,i}function Th(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=i:O=O.next=i,O}function Uh(){if(N===null){var i=M.alternate;i=i!==null?i.memoizedState:null}else i=N.next;var e=O===null?M.memoizedState:O.next;if(e!==null)O=e,N=i;else{if(i===null)throw Error(p(310));N=i,i={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=i:O=O.next=i}return O}function Vh(i,e){return typeof e=="function"?e(i):e}function Wh(i){var e=Uh(),o=e.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=i;var s=N,a=s.baseQueue,c=o.pending;if(c!==null){if(a!==null){var d=a.next;a.next=c.next,c.next=d}s.baseQueue=a=c,o.pending=null}if(a!==null){c=a.next,s=s.baseState;var h=d=null,_=null,g=c;do{var b=g.lane;if((Hh&b)===b)_!==null&&(_=_.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),s=g.hasEagerState?g.eagerState:i(s,g.action);else{var j={lane:b,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};_===null?(h=_=j,d=s):_=_.next=j,M.lanes|=b,rh|=b}g=g.next}while(g!==null&&g!==c);_===null?d=s:_.next=h,He(s,e.memoizedState)||(dh=!0),e.memoizedState=s,e.baseState=d,e.baseQueue=_,o.lastRenderedState=s}if(i=o.interleaved,i!==null){a=i;do c=a.lane,M.lanes|=c,rh|=c,a=a.next;while(a!==i)}else a===null&&(o.lanes=0);return[e.memoizedState,o.dispatch]}function Xh(i){var e=Uh(),o=e.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=i;var s=o.dispatch,a=o.pending,c=e.memoizedState;if(a!==null){o.pending=null;var d=a=a.next;do c=i(c,d.action),d=d.next;while(d!==a);He(c,e.memoizedState)||(dh=!0),e.memoizedState=c,e.baseQueue===null&&(e.baseState=c),o.lastRenderedState=c}return[c,s]}function Yh(){}function Zh(i,e){var o=M,s=Uh(),a=e(),c=!He(s.memoizedState,a);if(c&&(s.memoizedState=a,dh=!0),s=s.queue,$h(ai.bind(null,o,s,i),[i]),s.getSnapshot!==e||c||O!==null&&O.memoizedState.tag&1){if(o.flags|=2048,bi(9,ci.bind(null,o,s,a,e),void 0,null),Q===null)throw Error(p(349));Hh&30||di(o,e,a)}return a}function di(i,e,o){i.flags|=16384,i={getSnapshot:e,value:o},e=M.updateQueue,e===null?(e={lastEffect:null,stores:null},M.updateQueue=e,e.stores=[i]):(o=e.stores,o===null?e.stores=[i]:o.push(i))}function ci(i,e,o,s){e.value=o,e.getSnapshot=s,ei(e)&&fi(i)}function ai(i,e,o){return o(function(){ei(e)&&fi(i)})}function ei(i){var e=i.getSnapshot;i=i.value;try{var o=e();return!He(i,o)}catch{return!0}}function fi(i){var e=ih(i,1);e!==null&&gi(e,i,1,-1)}function hi(i){var e=Th();return typeof i=="function"&&(i=i()),e.memoizedState=e.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:i},e.queue=i,i=i.dispatch=ii.bind(null,M,i),[e.memoizedState,i]}function bi(i,e,o,s){return i={tag:i,create:e,destroy:o,deps:s,next:null},e=M.updateQueue,e===null?(e={lastEffect:null,stores:null},M.updateQueue=e,e.lastEffect=i.next=i):(o=e.lastEffect,o===null?e.lastEffect=i.next=i:(s=o.next,o.next=i,i.next=s,e.lastEffect=i)),i}function ji(){return Uh().memoizedState}function ki(i,e,o,s){var a=Th();M.flags|=i,a.memoizedState=bi(1|e,o,void 0,s===void 0?null:s)}function li(i,e,o,s){var a=Uh();s=s===void 0?null:s;var c=void 0;if(N!==null){var d=N.memoizedState;if(c=d.destroy,s!==null&&Mh(s,d.deps)){a.memoizedState=bi(e,o,c,s);return}}M.flags|=i,a.memoizedState=bi(1|e,o,c,s)}function mi(i,e){return ki(8390656,8,i,e)}function $h(i,e){return li(2048,8,i,e)}function ni(i,e){return li(4,2,i,e)}function oi(i,e){return li(4,4,i,e)}function pi(i,e){if(typeof e=="function")return i=i(),e(i),function(){e(null)};if(e!=null)return i=i(),e.current=i,function(){e.current=null}}function qi(i,e,o){return o=o!=null?o.concat([i]):null,li(4,4,pi.bind(null,e,i),o)}function ri(){}function si(i,e){var o=Uh();e=e===void 0?null:e;var s=o.memoizedState;return s!==null&&e!==null&&Mh(e,s[1])?s[0]:(o.memoizedState=[i,e],i)}function ti(i,e){var o=Uh();e=e===void 0?null:e;var s=o.memoizedState;return s!==null&&e!==null&&Mh(e,s[1])?s[0]:(i=i(),o.memoizedState=[i,e],i)}function ui(i,e,o){return Hh&21?(He(o,e)||(o=yc(),M.lanes|=o,rh|=o,i.baseState=!0),e):(i.baseState&&(i.baseState=!1,dh=!0),i.memoizedState=o)}function vi(i,e){var o=C;C=o!==0&&4>o?o:4,i(!0);var s=Gh.transition;Gh.transition={};try{i(!1),e()}finally{C=o,Gh.transition=s}}function wi(){return Uh().memoizedState}function xi(i,e,o){var s=yi(i);if(o={lane:s,action:o,hasEagerState:!1,eagerState:null,next:null},zi(i))Ai(e,o);else if(o=hh(i,e,o,s),o!==null){var a=R();gi(o,i,s,a),Bi(o,e,s)}}function ii(i,e,o){var s=yi(i),a={lane:s,action:o,hasEagerState:!1,eagerState:null,next:null};if(zi(i))Ai(e,a);else{var c=i.alternate;if(i.lanes===0&&(c===null||c.lanes===0)&&(c=e.lastRenderedReducer,c!==null))try{var d=e.lastRenderedState,h=c(d,o);if(a.hasEagerState=!0,a.eagerState=h,He(h,d)){var _=e.interleaved;_===null?(a.next=a,gh(e)):(a.next=_.next,_.next=a),e.interleaved=a;return}}catch{}finally{}o=hh(i,e,a,s),o!==null&&(a=R(),gi(o,i,s,a),Bi(o,e,s))}}function zi(i){var e=i.alternate;return i===M||e!==null&&e===M}function Ai(i,e){Jh=Ih=!0;var o=i.pending;o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e}function Bi(i,e,o){if(o&4194240){var s=e.lanes;s&=i.pendingLanes,o|=s,e.lanes=o,Cc(i,o)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(i,e){return Th().memoizedState=[i,e===void 0?null:e],i},useContext:eh,useEffect:mi,useImperativeHandle:function(i,e,o){return o=o!=null?o.concat([i]):null,ki(4194308,4,pi.bind(null,e,i),o)},useLayoutEffect:function(i,e){return ki(4194308,4,i,e)},useInsertionEffect:function(i,e){return ki(4,2,i,e)},useMemo:function(i,e){var o=Th();return e=e===void 0?null:e,i=i(),o.memoizedState=[i,e],i},useReducer:function(i,e,o){var s=Th();return e=o!==void 0?o(e):e,s.memoizedState=s.baseState=e,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:e},s.queue=i,i=i.dispatch=xi.bind(null,M,i),[s.memoizedState,i]},useRef:function(i){var e=Th();return i={current:i},e.memoizedState=i},useState:hi,useDebugValue:ri,useDeferredValue:function(i){return Th().memoizedState=i},useTransition:function(){var i=hi(!1),e=i[0];return i=vi.bind(null,i[1]),Th().memoizedState=i,[e,i]},useMutableSource:function(){},useSyncExternalStore:function(i,e,o){var s=M,a=Th();if(I){if(o===void 0)throw Error(p(407));o=o()}else{if(o=e(),Q===null)throw Error(p(349));Hh&30||di(s,e,o)}a.memoizedState=o;var c={value:o,getSnapshot:e};return a.queue=c,mi(ai.bind(null,s,c,i),[i]),s.flags|=2048,bi(9,ci.bind(null,s,c,o,e),void 0,null),o},useId:function(){var i=Th(),e=Q.identifierPrefix;if(I){var o=sg,s=rg;o=(s&~(1<<32-oc(s)-1)).toString(32)+o,e=":"+e+"R"+o,o=Kh++,0<o&&(e+="H"+o.toString(32)),e+=":"}else o=Lh++,e=":"+e+"r"+o.toString(32)+":";return i.memoizedState=e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var e=Uh();return ui(e,N.memoizedState,i)},useTransition:function(){var i=Wh(Vh)[0],e=Uh().memoizedState;return[i,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var e=Uh();return N===null?e.memoizedState=i:ui(e,N.memoizedState,i)},useTransition:function(){var i=Xh(Vh)[0],e=Uh().memoizedState;return[i,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(i,e){if(i&&i.defaultProps){e=A({},e),i=i.defaultProps;for(var o in i)e[o]===void 0&&(e[o]=i[o]);return e}return e}function Di(i,e,o,s){e=i.memoizedState,o=o(s,e),o=o==null?e:A({},e,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Ei={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,e,o){i=i._reactInternals;var s=R(),a=yi(i),c=mh(s,a);c.payload=e,o!=null&&(c.callback=o),e=nh(i,c,a),e!==null&&(gi(e,i,a,s),oh(e,i,a))},enqueueReplaceState:function(i,e,o){i=i._reactInternals;var s=R(),a=yi(i),c=mh(s,a);c.tag=1,c.payload=e,o!=null&&(c.callback=o),e=nh(i,c,a),e!==null&&(gi(e,i,a,s),oh(e,i,a))},enqueueForceUpdate:function(i,e){i=i._reactInternals;var o=R(),s=yi(i),a=mh(o,s);a.tag=2,e!=null&&(a.callback=e),e=nh(i,a,s),e!==null&&(gi(e,i,s,o),oh(e,i,s))}};function Fi(i,e,o,s,a,c,d){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(s,c,d):e.prototype&&e.prototype.isPureReactComponent?!Ie(o,s)||!Ie(a,c):!0}function Gi(i,e,o){var s=!1,a=Vf,c=e.contextType;return typeof c=="object"&&c!==null?c=eh(c):(a=Zf(e)?Xf:H.current,s=e.contextTypes,c=(s=s!=null)?Yf(i,a):Vf),e=new e(o,c),i.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,i.stateNode=e,e._reactInternals=i,s&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=c),e}function Hi(i,e,o,s){i=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(o,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(o,s),e.state!==i&&Ei.enqueueReplaceState(e,e.state,null)}function Ii(i,e,o,s){var a=i.stateNode;a.props=o,a.state=i.memoizedState,a.refs={},kh(i);var c=e.contextType;typeof c=="object"&&c!==null?a.context=eh(c):(c=Zf(e)?Xf:H.current,a.context=Yf(i,c)),a.state=i.memoizedState,c=e.getDerivedStateFromProps,typeof c=="function"&&(Di(i,e,c,o),a.state=i.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Ei.enqueueReplaceState(a,a.state,null),qh(i,o,a,s),a.state=i.memoizedState),typeof a.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,e){try{var o="",s=e;do o+=Pa(s),s=s.return;while(s);var a=o}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:i,source:e,stack:a,digest:null}}function Ki(i,e,o){return{value:i,source:null,stack:o??null,digest:e??null}}function Li(i,e){try{console.error(e.value)}catch(o){setTimeout(function(){throw o})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(i,e,o){o=mh(-1,o),o.tag=3,o.payload={element:null};var s=e.value;return o.callback=function(){Oi||(Oi=!0,Pi=s),Li(i,e)},o}function Qi(i,e,o){o=mh(-1,o),o.tag=3;var s=i.type.getDerivedStateFromError;if(typeof s=="function"){var a=e.value;o.payload=function(){return s(a)},o.callback=function(){Li(i,e)}}var c=i.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(o.callback=function(){Li(i,e),typeof s!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var d=e.stack;this.componentDidCatch(e.value,{componentStack:d!==null?d:""})}),o}function Si(i,e,o){var s=i.pingCache;if(s===null){s=i.pingCache=new Mi;var a=new Set;s.set(e,a)}else a=s.get(e),a===void 0&&(a=new Set,s.set(e,a));a.has(o)||(a.add(o),i=Ti.bind(null,i,e,o),e.then(i,i))}function Ui(i){do{var e;if((e=i.tag===13)&&(e=i.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return i;i=i.return}while(i!==null);return null}function Vi(i,e,o,s,a){return i.mode&1?(i.flags|=65536,i.lanes=a,i):(i===e?i.flags|=65536:(i.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(e=mh(-1,1),e.tag=2,nh(o,e,1))),o.lanes|=1),i)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(i,e,o,s){e.child=i===null?Vg(e,null,o,s):Ug(e,i.child,o,s)}function Yi(i,e,o,s,a){o=o.render;var c=e.ref;return ch(e,a),s=Nh(i,e,o,s,c,a),o=Sh(),i!==null&&!dh?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~a,Zi(i,e,a)):(I&&o&&vg(e),e.flags|=1,Xi(i,e,s,a),e.child)}function $i(i,e,o,s,a){if(i===null){var c=o.type;return typeof c=="function"&&!aj(c)&&c.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(e.tag=15,e.type=c,bj(i,e,c,s,a)):(i=Rg(o.type,null,s,e,e.mode,a),i.ref=e.ref,i.return=e,e.child=i)}if(c=i.child,!(i.lanes&a)){var d=c.memoizedProps;if(o=o.compare,o=o!==null?o:Ie,o(d,s)&&i.ref===e.ref)return Zi(i,e,a)}return e.flags|=1,i=Pg(c,s),i.ref=e.ref,i.return=e,e.child=i}function bj(i,e,o,s,a){if(i!==null){var c=i.memoizedProps;if(Ie(c,s)&&i.ref===e.ref)if(dh=!1,e.pendingProps=s=c,(i.lanes&a)!==0)i.flags&131072&&(dh=!0);else return e.lanes=i.lanes,Zi(i,e,a)}return cj(i,e,o,s,a)}function dj(i,e,o){var s=e.pendingProps,a=s.children,c=i!==null?i.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=o;else{if(!(o&1073741824))return i=c!==null?c.baseLanes|o:o,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:i,cachePool:null,transitions:null},e.updateQueue=null,G(ej,fj),fj|=i,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=c!==null?c.baseLanes:o,G(ej,fj),fj|=s}else c!==null?(s=c.baseLanes|o,e.memoizedState=null):s=o,G(ej,fj),fj|=s;return Xi(i,e,a,o),e.child}function gj(i,e){var o=e.ref;(i===null&&o!==null||i!==null&&i.ref!==o)&&(e.flags|=512,e.flags|=2097152)}function cj(i,e,o,s,a){var c=Zf(o)?Xf:H.current;return c=Yf(e,c),ch(e,a),o=Nh(i,e,o,s,c,a),s=Sh(),i!==null&&!dh?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~a,Zi(i,e,a)):(I&&s&&vg(e),e.flags|=1,Xi(i,e,o,a),e.child)}function hj(i,e,o,s,a){if(Zf(o)){var c=!0;cg(e)}else c=!1;if(ch(e,a),e.stateNode===null)ij(i,e),Gi(e,o,s),Ii(e,o,s,a),s=!0;else if(i===null){var d=e.stateNode,h=e.memoizedProps;d.props=h;var _=d.context,g=o.contextType;typeof g=="object"&&g!==null?g=eh(g):(g=Zf(o)?Xf:H.current,g=Yf(e,g));var b=o.getDerivedStateFromProps,j=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function";j||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==s||_!==g)&&Hi(e,d,s,g),jh=!1;var $=e.memoizedState;d.state=$,qh(e,s,d,a),_=e.memoizedState,h!==s||$!==_||Wf.current||jh?(typeof b=="function"&&(Di(e,o,b,s),_=e.memoizedState),(h=jh||Fi(e,o,h,s,$,_,g))?(j||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(e.flags|=4194308)):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=_),d.props=s,d.state=_,d.context=g,s=h):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{d=e.stateNode,lh(i,e),h=e.memoizedProps,g=e.type===e.elementType?h:Ci(e.type,h),d.props=g,j=e.pendingProps,$=d.context,_=o.contextType,typeof _=="object"&&_!==null?_=eh(_):(_=Zf(o)?Xf:H.current,_=Yf(e,_));var rt=o.getDerivedStateFromProps;(b=typeof rt=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==j||$!==_)&&Hi(e,d,s,_),jh=!1,$=e.memoizedState,d.state=$,qh(e,s,d,a);var lt=e.memoizedState;h!==j||$!==lt||Wf.current||jh?(typeof rt=="function"&&(Di(e,o,rt,s),lt=e.memoizedState),(g=jh||Fi(e,o,g,s,$,lt,_)||!1)?(b||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,lt,_),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,lt,_)),typeof d.componentDidUpdate=="function"&&(e.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===i.memoizedProps&&$===i.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===i.memoizedProps&&$===i.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=lt),d.props=s,d.state=lt,d.context=_,s=g):(typeof d.componentDidUpdate!="function"||h===i.memoizedProps&&$===i.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===i.memoizedProps&&$===i.memoizedState||(e.flags|=1024),s=!1)}return jj(i,e,o,s,c,a)}function jj(i,e,o,s,a,c){gj(i,e);var d=(e.flags&128)!==0;if(!s&&!d)return a&&dg(e,o,!1),Zi(i,e,c);s=e.stateNode,Wi.current=e;var h=d&&typeof o.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,i!==null&&d?(e.child=Ug(e,i.child,null,c),e.child=Ug(e,null,h,c)):Xi(i,e,h,c),e.memoizedState=s.state,a&&dg(e,o,!0),e.child}function kj(i){var e=i.stateNode;e.pendingContext?ag(i,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(i,e.context,!1),yh(i,e.containerInfo)}function lj(i,e,o,s,a){return Ig(),Jg(a),e.flags|=256,Xi(i,e,o,s),e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(i){return{baseLanes:i,cachePool:null,transitions:null}}function oj(i,e,o){var s=e.pendingProps,a=L.current,c=!1,d=(e.flags&128)!==0,h;if((h=d)||(h=i!==null&&i.memoizedState===null?!1:(a&2)!==0),h?(c=!0,e.flags&=-129):(i===null||i.memoizedState!==null)&&(a|=1),G(L,a&1),i===null)return Eg(e),i=e.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(e.mode&1?i.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(d=s.children,i=s.fallback,c?(s=e.mode,c=e.child,d={mode:"hidden",children:d},!(s&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=pj(d,s,0,null),i=Tg(i,s,o,null),c.return=e,i.return=e,c.sibling=i,e.child=c,e.child.memoizedState=nj(o),e.memoizedState=mj,i):qj(e,d));if(a=i.memoizedState,a!==null&&(h=a.dehydrated,h!==null))return rj(i,e,d,s,h,a,o);if(c){c=s.fallback,d=e.mode,a=i.child,h=a.sibling;var _={mode:"hidden",children:s.children};return!(d&1)&&e.child!==a?(s=e.child,s.childLanes=0,s.pendingProps=_,e.deletions=null):(s=Pg(a,_),s.subtreeFlags=a.subtreeFlags&14680064),h!==null?c=Pg(h,c):(c=Tg(c,d,o,null),c.flags|=2),c.return=e,s.return=e,s.sibling=c,e.child=s,s=c,c=e.child,d=i.child.memoizedState,d=d===null?nj(o):{baseLanes:d.baseLanes|o,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=i.childLanes&~o,e.memoizedState=mj,s}return c=i.child,i=c.sibling,s=Pg(c,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=o),s.return=e,s.sibling=null,i!==null&&(o=e.deletions,o===null?(e.deletions=[i],e.flags|=16):o.push(i)),e.child=s,e.memoizedState=null,s}function qj(i,e){return e=pj({mode:"visible",children:e},i.mode,0,null),e.return=i,i.child=e}function sj(i,e,o,s){return s!==null&&Jg(s),Ug(e,i.child,null,o),i=qj(e,e.pendingProps.children),i.flags|=2,e.memoizedState=null,i}function rj(i,e,o,s,a,c,d){if(o)return e.flags&256?(e.flags&=-257,s=Ki(Error(p(422))),sj(i,e,d,s)):e.memoizedState!==null?(e.child=i.child,e.flags|=128,null):(c=s.fallback,a=e.mode,s=pj({mode:"visible",children:s.children},a,0,null),c=Tg(c,a,d,null),c.flags|=2,s.return=e,c.return=e,s.sibling=c,e.child=s,e.mode&1&&Ug(e,i.child,null,d),e.child.memoizedState=nj(d),e.memoizedState=mj,c);if(!(e.mode&1))return sj(i,e,d,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var h=s.dgst;return s=h,c=Error(p(419)),s=Ki(c,s,void 0),sj(i,e,d,s)}if(h=(d&i.childLanes)!==0,dh||h){if(s=Q,s!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|d)?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,ih(i,a),gi(s,i,a,-1))}return tj(),s=Ki(Error(p(421))),sj(i,e,d,s)}return a.data==="$?"?(e.flags|=128,e.child=i.child,e=uj.bind(null,i),a._reactRetry=e,null):(i=c.treeContext,yg=Lf(a.nextSibling),xg=e,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=e),e=qj(e,s.children),e.flags|=4096,e)}function vj(i,e,o){i.lanes|=e;var s=i.alternate;s!==null&&(s.lanes|=e),bh(i.return,e,o)}function wj(i,e,o,s,a){var c=i.memoizedState;c===null?i.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:a}:(c.isBackwards=e,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=o,c.tailMode=a)}function xj(i,e,o){var s=e.pendingProps,a=s.revealOrder,c=s.tail;if(Xi(i,e,s.children,o),s=L.current,s&2)s=s&1|2,e.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=e.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vj(i,o,e);else if(i.tag===19)vj(i,o,e);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}s&=1}if(G(L,s),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(o=e.child,a=null;o!==null;)i=o.alternate,i!==null&&Ch(i)===null&&(a=o),o=o.sibling;o=a,o===null?(a=e.child,e.child=null):(a=o.sibling,o.sibling=null),wj(e,!1,a,o,c);break;case"backwards":for(o=null,a=e.child,e.child=null;a!==null;){if(i=a.alternate,i!==null&&Ch(i)===null){e.child=a;break}i=a.sibling,a.sibling=o,o=a,a=i}wj(e,!0,o,null,c);break;case"together":wj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ij(i,e){!(e.mode&1)&&i!==null&&(i.alternate=null,e.alternate=null,e.flags|=2)}function Zi(i,e,o){if(i!==null&&(e.dependencies=i.dependencies),rh|=e.lanes,!(o&e.childLanes))return null;if(i!==null&&e.child!==i.child)throw Error(p(153));if(e.child!==null){for(i=e.child,o=Pg(i,i.pendingProps),e.child=o,o.return=e;i.sibling!==null;)i=i.sibling,o=o.sibling=Pg(i,i.pendingProps),o.return=e;o.sibling=null}return e.child}function yj(i,e,o){switch(e.tag){case 3:kj(e),Ig();break;case 5:Ah(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,a=e.memoizedProps.value;G(Wg,s._currentValue),s._currentValue=a;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(G(L,L.current&1),e.flags|=128,null):o&e.child.childLanes?oj(i,e,o):(G(L,L.current&1),i=Zi(i,e,o),i!==null?i.sibling:null);G(L,L.current&1);break;case 19:if(s=(o&e.childLanes)!==0,i.flags&128){if(s)return xj(i,e,o);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),G(L,L.current),s)break;return null;case 22:case 23:return e.lanes=0,dj(i,e,o)}return Zi(i,e,o)}var zj,Aj,Bj,Cj;zj=function(i,e){for(var o=e.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Aj=function(){};Bj=function(i,e,o,s){var a=i.memoizedProps;if(a!==s){i=e.stateNode,xh(uh.current);var c=null;switch(o){case"input":a=Ya(i,a),s=Ya(i,s),c=[];break;case"select":a=A({},a,{value:void 0}),s=A({},s,{value:void 0}),c=[];break;case"textarea":a=gb(i,a),s=gb(i,s),c=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(i.onclick=Bf)}ub(o,s);var d;o=null;for(g in a)if(!s.hasOwnProperty(g)&&a.hasOwnProperty(g)&&a[g]!=null)if(g==="style"){var h=a[g];for(d in h)h.hasOwnProperty(d)&&(o||(o={}),o[d]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ea.hasOwnProperty(g)?c||(c=[]):(c=c||[]).push(g,null));for(g in s){var _=s[g];if(h=a!=null?a[g]:void 0,s.hasOwnProperty(g)&&_!==h&&(_!=null||h!=null))if(g==="style")if(h){for(d in h)!h.hasOwnProperty(d)||_&&_.hasOwnProperty(d)||(o||(o={}),o[d]="");for(d in _)_.hasOwnProperty(d)&&h[d]!==_[d]&&(o||(o={}),o[d]=_[d])}else o||(c||(c=[]),c.push(g,o)),o=_;else g==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,h=h?h.__html:void 0,_!=null&&h!==_&&(c=c||[]).push(g,_)):g==="children"?typeof _!="string"&&typeof _!="number"||(c=c||[]).push(g,""+_):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(ea.hasOwnProperty(g)?(_!=null&&g==="onScroll"&&D("scroll",i),c||h===_||(c=[])):(c=c||[]).push(g,_))}o&&(c=c||[]).push("style",o);var g=c;(e.updateQueue=g)&&(e.flags|=4)}};Cj=function(i,e,o,s){o!==s&&(e.flags|=4)};function Dj(i,e){if(!I)switch(i.tailMode){case"hidden":e=i.tail;for(var o=null;e!==null;)e.alternate!==null&&(o=e),e=e.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?e||i.tail===null?i.tail=null:i.tail.sibling=null:s.sibling=null}}function S(i){var e=i.alternate!==null&&i.alternate.child===i.child,o=0,s=0;if(e)for(var a=i.child;a!==null;)o|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=i,a=a.sibling;else for(a=i.child;a!==null;)o|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=i,a=a.sibling;return i.subtreeFlags|=s,i.childLanes=o,e}function Ej(i,e,o){var s=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(e),null;case 1:return Zf(e.type)&&$f(),S(e),null;case 3:return s=e.stateNode,zh(),E(Wf),E(H),Eh(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(i===null||i.child===null)&&(Gg(e)?e.flags|=4:i===null||i.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(i,e),S(e),null;case 5:Bh(e);var a=xh(wh.current);if(o=e.type,i!==null&&e.stateNode!=null)Bj(i,e,o,s,a),i.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(p(166));return S(e),null}if(i=xh(uh.current),Gg(e)){s=e.stateNode,o=e.type;var c=e.memoizedProps;switch(s[Of]=e,s[Pf]=c,i=(e.mode&1)!==0,o){case"dialog":D("cancel",s),D("close",s);break;case"iframe":case"object":case"embed":D("load",s);break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],s);break;case"source":D("error",s);break;case"img":case"image":case"link":D("error",s),D("load",s);break;case"details":D("toggle",s);break;case"input":Za(s,c),D("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!c.multiple},D("invalid",s);break;case"textarea":hb(s,c),D("invalid",s)}ub(o,c),a=null;for(var d in c)if(c.hasOwnProperty(d)){var h=c[d];d==="children"?typeof h=="string"?s.textContent!==h&&(c.suppressHydrationWarning!==!0&&Af(s.textContent,h,i),a=["children",h]):typeof h=="number"&&s.textContent!==""+h&&(c.suppressHydrationWarning!==!0&&Af(s.textContent,h,i),a=["children",""+h]):ea.hasOwnProperty(d)&&h!=null&&d==="onScroll"&&D("scroll",s)}switch(o){case"input":Va(s),db(s,c,!0);break;case"textarea":Va(s),jb(s);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(s.onclick=Bf)}s=a,e.updateQueue=s,s!==null&&(e.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(o)),i==="http://www.w3.org/1999/xhtml"?o==="script"?(i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof s.is=="string"?i=d.createElement(o,{is:s.is}):(i=d.createElement(o),o==="select"&&(d=i,s.multiple?d.multiple=!0:s.size&&(d.size=s.size))):i=d.createElementNS(i,o),i[Of]=e,i[Pf]=s,zj(i,e,!1,!1),e.stateNode=i;t:{switch(d=vb(o,s),o){case"dialog":D("cancel",i),D("close",i),a=s;break;case"iframe":case"object":case"embed":D("load",i),a=s;break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],i);a=s;break;case"source":D("error",i),a=s;break;case"img":case"image":case"link":D("error",i),D("load",i),a=s;break;case"details":D("toggle",i),a=s;break;case"input":Za(i,s),a=Ya(i,s),D("invalid",i);break;case"option":a=s;break;case"select":i._wrapperState={wasMultiple:!!s.multiple},a=A({},s,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,s),a=gb(i,s),D("invalid",i);break;default:a=s}ub(o,a),h=a;for(c in h)if(h.hasOwnProperty(c)){var _=h[c];c==="style"?sb(i,_):c==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&nb(i,_)):c==="children"?typeof _=="string"?(o!=="textarea"||_!=="")&&ob(i,_):typeof _=="number"&&ob(i,""+_):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?_!=null&&c==="onScroll"&&D("scroll",i):_!=null&&ta(i,c,_,d))}switch(o){case"input":Va(i),db(i,s,!1);break;case"textarea":Va(i),jb(i);break;case"option":s.value!=null&&i.setAttribute("value",""+Sa(s.value));break;case"select":i.multiple=!!s.multiple,c=s.value,c!=null?fb(i,!!s.multiple,c,!1):s.defaultValue!=null&&fb(i,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(i.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S(e),null;case 6:if(i&&e.stateNode!=null)Cj(i,e,i.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(p(166));if(o=xh(wh.current),xh(uh.current),Gg(e)){if(s=e.stateNode,o=e.memoizedProps,s[Of]=e,(c=s.nodeValue!==o)&&(i=xg,i!==null))switch(i.tag){case 3:Af(s.nodeValue,o,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(s.nodeValue,o,(i.mode&1)!==0)}c&&(e.flags|=4)}else s=(o.nodeType===9?o:o.ownerDocument).createTextNode(s),s[Of]=e,e.stateNode=s}return S(e),null;case 13:if(E(L),s=e.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,c=!1;else if(c=Gg(e),s!==null&&s.dehydrated!==null){if(i===null){if(!c)throw Error(p(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S(e),c=!1}else zg!==null&&(Fj(zg),zg=null),c=!0;if(!c)return e.flags&65536?e:null}return e.flags&128?(e.lanes=o,e):(s=s!==null,s!==(i!==null&&i.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(i===null||L.current&1?T===0&&(T=3):tj())),e.updateQueue!==null&&(e.flags|=4),S(e),null);case 4:return zh(),Aj(i,e),i===null&&sf(e.stateNode.containerInfo),S(e),null;case 10:return ah(e.type._context),S(e),null;case 17:return Zf(e.type)&&$f(),S(e),null;case 19:if(E(L),c=e.memoizedState,c===null)return S(e),null;if(s=(e.flags&128)!==0,d=c.rendering,d===null)if(s)Dj(c,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=e.child;i!==null;){if(d=Ch(i),d!==null){for(e.flags|=128,Dj(c,!1),s=d.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=o,o=e.child;o!==null;)c=o,i=s,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=i,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,i=d.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),o=o.sibling;return G(L,L.current&1|2),e.child}i=i.sibling}c.tail!==null&&B()>Gj&&(e.flags|=128,s=!0,Dj(c,!1),e.lanes=4194304)}else{if(!s)if(i=Ch(d),i!==null){if(e.flags|=128,s=!0,o=i.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),Dj(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(e),null}else 2*B()-c.renderingStartTime>Gj&&o!==1073741824&&(e.flags|=128,s=!0,Dj(c,!1),e.lanes=4194304);c.isBackwards?(d.sibling=e.child,e.child=d):(o=c.last,o!==null?o.sibling=d:e.child=d,c.last=d)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=B(),e.sibling=null,o=L.current,G(L,s?o&1|2:o&1),e):(S(e),null);case 22:case 23:return Hj(),s=e.memoizedState!==null,i!==null&&i.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?fj&1073741824&&(S(e),e.subtreeFlags&6&&(e.flags|=8192)):S(e),null;case 24:return null;case 25:return null}throw Error(p(156,e.tag))}function Ij(i,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 3:return zh(),E(Wf),E(H),Eh(),i=e.flags,i&65536&&!(i&128)?(e.flags=i&-65537|128,e):null;case 5:return Bh(e),null;case 13:if(E(L),i=e.memoizedState,i!==null&&i.dehydrated!==null){if(e.alternate===null)throw Error(p(340));Ig()}return i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(i,e){var o=i.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(s){W(i,e,s)}else o.current=null}function Mj(i,e,o){try{o()}catch(s){W(i,e,s)}}var Nj=!1;function Oj(i,e){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var a=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{o.nodeType,c.nodeType}catch{o=null;break t}var d=0,h=-1,_=-1,g=0,b=0,j=i,$=null;e:for(;;){for(var rt;j!==o||a!==0&&j.nodeType!==3||(h=d+a),j!==c||s!==0&&j.nodeType!==3||(_=d+s),j.nodeType===3&&(d+=j.nodeValue.length),(rt=j.firstChild)!==null;)$=j,j=rt;for(;;){if(j===i)break e;if($===o&&++g===a&&(h=d),$===c&&++b===s&&(_=d),(rt=j.nextSibling)!==null)break;j=$,$=j.parentNode}j=rt}o=h===-1||_===-1?null:{start:h,end:_}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:i,selectionRange:o},dd=!1,V=e;V!==null;)if(e=V,i=e.child,(e.subtreeFlags&1028)!==0&&i!==null)i.return=e,V=i;else for(;V!==null;){e=V;try{var lt=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(lt!==null){var it=lt.memoizedProps,ht=lt.memoizedState,et=e.stateNode,tt=et.getSnapshotBeforeUpdate(e.elementType===e.type?it:Ci(e.type,it),ht);et.__reactInternalSnapshotBeforeUpdate=tt}break;case 3:var nt=e.stateNode.containerInfo;nt.nodeType===1?nt.textContent="":nt.nodeType===9&&nt.documentElement&&nt.removeChild(nt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(st){W(e,e.return,st)}if(i=e.sibling,i!==null){i.return=e.return,V=i;break}V=e.return}return lt=Nj,Nj=!1,lt}function Pj(i,e,o){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&i)===i){var c=a.destroy;a.destroy=void 0,c!==void 0&&Mj(e,o,c)}a=a.next}while(a!==s)}}function Qj(i,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var o=e=e.next;do{if((o.tag&i)===i){var s=o.create;o.destroy=s()}o=o.next}while(o!==e)}}function Rj(i){var e=i.ref;if(e!==null){var o=i.stateNode;switch(i.tag){case 5:i=o;break;default:i=o}typeof e=="function"?e(i):e.current=i}}function Sj(i){var e=i.alternate;e!==null&&(i.alternate=null,Sj(e)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(e=i.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tj(i){return i.tag===5||i.tag===3||i.tag===4}function Uj(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Tj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vj(i,e,o){var s=i.tag;if(s===5||s===6)i=i.stateNode,e?o.nodeType===8?o.parentNode.insertBefore(i,e):o.insertBefore(i,e):(o.nodeType===8?(e=o.parentNode,e.insertBefore(i,o)):(e=o,e.appendChild(i)),o=o._reactRootContainer,o!=null||e.onclick!==null||(e.onclick=Bf));else if(s!==4&&(i=i.child,i!==null))for(Vj(i,e,o),i=i.sibling;i!==null;)Vj(i,e,o),i=i.sibling}function Wj(i,e,o){var s=i.tag;if(s===5||s===6)i=i.stateNode,e?o.insertBefore(i,e):o.appendChild(i);else if(s!==4&&(i=i.child,i!==null))for(Wj(i,e,o),i=i.sibling;i!==null;)Wj(i,e,o),i=i.sibling}var X=null,Xj=!1;function Yj(i,e,o){for(o=o.child;o!==null;)Zj(i,e,o),o=o.sibling}function Zj(i,e,o){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,o)}catch{}switch(o.tag){case 5:U||Lj(o,e);case 6:var s=X,a=Xj;X=null,Yj(i,e,o),X=s,Xj=a,X!==null&&(Xj?(i=X,o=o.stateNode,i.nodeType===8?i.parentNode.removeChild(o):i.removeChild(o)):X.removeChild(o.stateNode));break;case 18:X!==null&&(Xj?(i=X,o=o.stateNode,i.nodeType===8?Kf(i.parentNode,o):i.nodeType===1&&Kf(i,o),bd(i)):Kf(X,o.stateNode));break;case 4:s=X,a=Xj,X=o.stateNode.containerInfo,Xj=!0,Yj(i,e,o),X=s,Xj=a;break;case 0:case 11:case 14:case 15:if(!U&&(s=o.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var c=a,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Mj(o,e,d),a=a.next}while(a!==s)}Yj(i,e,o);break;case 1:if(!U&&(Lj(o,e),s=o.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=o.memoizedProps,s.state=o.memoizedState,s.componentWillUnmount()}catch(h){W(o,e,h)}Yj(i,e,o);break;case 21:Yj(i,e,o);break;case 22:o.mode&1?(U=(s=U)||o.memoizedState!==null,Yj(i,e,o),U=s):Yj(i,e,o);break;default:Yj(i,e,o)}}function ak(i){var e=i.updateQueue;if(e!==null){i.updateQueue=null;var o=i.stateNode;o===null&&(o=i.stateNode=new Kj),e.forEach(function(s){var a=bk.bind(null,i,s);o.has(s)||(o.add(s),s.then(a,a))})}}function ck(i,e){var o=e.deletions;if(o!==null)for(var s=0;s<o.length;s++){var a=o[s];try{var c=i,d=e,h=d;t:for(;h!==null;){switch(h.tag){case 5:X=h.stateNode,Xj=!1;break t;case 3:X=h.stateNode.containerInfo,Xj=!0;break t;case 4:X=h.stateNode.containerInfo,Xj=!0;break t}h=h.return}if(X===null)throw Error(p(160));Zj(c,d,a),X=null,Xj=!1;var _=a.alternate;_!==null&&(_.return=null),a.return=null}catch(g){W(a,e,g)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dk(e,i),e=e.sibling}function dk(i,e){var o=i.alternate,s=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ck(e,i),ek(i),s&4){try{Pj(3,i,i.return),Qj(3,i)}catch(it){W(i,i.return,it)}try{Pj(5,i,i.return)}catch(it){W(i,i.return,it)}}break;case 1:ck(e,i),ek(i),s&512&&o!==null&&Lj(o,o.return);break;case 5:if(ck(e,i),ek(i),s&512&&o!==null&&Lj(o,o.return),i.flags&32){var a=i.stateNode;try{ob(a,"")}catch(it){W(i,i.return,it)}}if(s&4&&(a=i.stateNode,a!=null)){var c=i.memoizedProps,d=o!==null?o.memoizedProps:c,h=i.type,_=i.updateQueue;if(i.updateQueue=null,_!==null)try{h==="input"&&c.type==="radio"&&c.name!=null&&ab(a,c),vb(h,d);var g=vb(h,c);for(d=0;d<_.length;d+=2){var b=_[d],j=_[d+1];b==="style"?sb(a,j):b==="dangerouslySetInnerHTML"?nb(a,j):b==="children"?ob(a,j):ta(a,b,j,g)}switch(h){case"input":bb(a,c);break;case"textarea":ib(a,c);break;case"select":var $=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var rt=c.value;rt!=null?fb(a,!!c.multiple,rt,!1):$!==!!c.multiple&&(c.defaultValue!=null?fb(a,!!c.multiple,c.defaultValue,!0):fb(a,!!c.multiple,c.multiple?[]:"",!1))}a[Pf]=c}catch(it){W(i,i.return,it)}}break;case 6:if(ck(e,i),ek(i),s&4){if(i.stateNode===null)throw Error(p(162));a=i.stateNode,c=i.memoizedProps;try{a.nodeValue=c}catch(it){W(i,i.return,it)}}break;case 3:if(ck(e,i),ek(i),s&4&&o!==null&&o.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(it){W(i,i.return,it)}break;case 4:ck(e,i),ek(i);break;case 13:ck(e,i),ek(i),a=i.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(fk=B())),s&4&&ak(i);break;case 22:if(b=o!==null&&o.memoizedState!==null,i.mode&1?(U=(g=U)||b,ck(e,i),U=g):ck(e,i),ek(i),s&8192){if(g=i.memoizedState!==null,(i.stateNode.isHidden=g)&&!b&&i.mode&1)for(V=i,b=i.child;b!==null;){for(j=V=b;V!==null;){switch($=V,rt=$.child,$.tag){case 0:case 11:case 14:case 15:Pj(4,$,$.return);break;case 1:Lj($,$.return);var lt=$.stateNode;if(typeof lt.componentWillUnmount=="function"){s=$,o=$.return;try{e=s,lt.props=e.memoizedProps,lt.state=e.memoizedState,lt.componentWillUnmount()}catch(it){W(s,o,it)}}break;case 5:Lj($,$.return);break;case 22:if($.memoizedState!==null){gk(j);continue}}rt!==null?(rt.return=$,V=rt):gk(j)}b=b.sibling}t:for(b=null,j=i;;){if(j.tag===5){if(b===null){b=j;try{a=j.stateNode,g?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(h=j.stateNode,_=j.memoizedProps.style,d=_!=null&&_.hasOwnProperty("display")?_.display:null,h.style.display=rb("display",d))}catch(it){W(i,i.return,it)}}}else if(j.tag===6){if(b===null)try{j.stateNode.nodeValue=g?"":j.memoizedProps}catch(it){W(i,i.return,it)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===i)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===i)break t;for(;j.sibling===null;){if(j.return===null||j.return===i)break t;b===j&&(b=null),j=j.return}b===j&&(b=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:ck(e,i),ek(i),s&4&&ak(i);break;case 21:break;default:ck(e,i),ek(i)}}function ek(i){var e=i.flags;if(e&2){try{t:{for(var o=i.return;o!==null;){if(Tj(o)){var s=o;break t}o=o.return}throw Error(p(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(ob(a,""),s.flags&=-33);var c=Uj(i);Wj(i,c,a);break;case 3:case 4:var d=s.stateNode.containerInfo,h=Uj(i);Vj(i,h,d);break;default:throw Error(p(161))}}catch(_){W(i,i.return,_)}i.flags&=-3}e&4096&&(i.flags&=-4097)}function hk(i,e,o){V=i,ik(i)}function ik(i,e,o){for(var s=(i.mode&1)!==0;V!==null;){var a=V,c=a.child;if(a.tag===22&&s){var d=a.memoizedState!==null||Jj;if(!d){var h=a.alternate,_=h!==null&&h.memoizedState!==null||U;h=Jj;var g=U;if(Jj=d,(U=_)&&!g)for(V=a;V!==null;)d=V,_=d.child,d.tag===22&&d.memoizedState!==null?jk(a):_!==null?(_.return=d,V=_):jk(a);for(;c!==null;)V=c,ik(c),c=c.sibling;V=a,Jj=h,U=g}kk(i)}else a.subtreeFlags&8772&&c!==null?(c.return=a,V=c):kk(i)}}function kk(i){for(;V!==null;){var e=V;if(e.flags&8772){var o=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U||Qj(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!U)if(o===null)s.componentDidMount();else{var a=e.elementType===e.type?o.memoizedProps:Ci(e.type,o.memoizedProps);s.componentDidUpdate(a,o.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var c=e.updateQueue;c!==null&&sh(e,c,s);break;case 3:var d=e.updateQueue;if(d!==null){if(o=null,e.child!==null)switch(e.child.tag){case 5:o=e.child.stateNode;break;case 1:o=e.child.stateNode}sh(e,d,o)}break;case 5:var h=e.stateNode;if(o===null&&e.flags&4){o=h;var _=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&o.focus();break;case"img":_.src&&(o.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var g=e.alternate;if(g!==null){var b=g.memoizedState;if(b!==null){var j=b.dehydrated;j!==null&&bd(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||e.flags&512&&Rj(e)}catch($){W(e,e.return,$)}}if(e===i){V=null;break}if(o=e.sibling,o!==null){o.return=e.return,V=o;break}V=e.return}}function gk(i){for(;V!==null;){var e=V;if(e===i){V=null;break}var o=e.sibling;if(o!==null){o.return=e.return,V=o;break}V=e.return}}function jk(i){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var o=e.return;try{Qj(4,e)}catch(_){W(e,o,_)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var a=e.return;try{s.componentDidMount()}catch(_){W(e,a,_)}}var c=e.return;try{Rj(e)}catch(_){W(e,c,_)}break;case 5:var d=e.return;try{Rj(e)}catch(_){W(e,d,_)}}}catch(_){W(e,e.return,_)}if(e===i){V=null;break}var h=e.sibling;if(h!==null){h.return=e.return,V=h;break}V=e.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function gi(i,e,o,s){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(i,o,s),(!(K&2)||i!==Q)&&(i===Q&&(!(K&2)&&(qk|=o),T===4&&Ck(i,Z)),Dk(i,s),o===1&&K===0&&!(e.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(i,e){var o=i.callbackNode;wc(i,e);var s=uc(i,i===Q?Z:0);if(s===0)o!==null&&bc(o),i.callbackNode=null,i.callbackPriority=0;else if(e=s&-s,i.callbackPriority!==e){if(o!=null&&bc(o),e===1)i.tag===0?ig(Ek.bind(null,i)):hg(Ek.bind(null,i)),Jf(function(){!(K&6)&&jg()}),o=null;else{switch(Dc(s)){case 1:o=fc;break;case 4:o=gc;break;case 16:o=hc;break;case 536870912:o=jc;break;default:o=hc}o=Fk(o,Gk.bind(null,i))}i.callbackPriority=e,i.callbackNode=o}}function Gk(i,e){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var o=i.callbackNode;if(Hk()&&i.callbackNode!==o)return null;var s=uc(i,i===Q?Z:0);if(s===0)return null;if(s&30||s&i.expiredLanes||e)e=Ik(i,s);else{e=s;var a=K;K|=2;var c=Jk();(Q!==i||Z!==e)&&(uk=null,Gj=B()+500,Kk(i,e));do try{Lk();break}catch(h){Mk(i,h)}while(!0);$g(),mk.current=c,K=a,Y!==null?e=0:(Q=null,Z=0,e=T)}if(e!==0){if(e===2&&(a=xc(i),a!==0&&(s=a,e=Nk(i,a))),e===1)throw o=pk,Kk(i,0),Ck(i,s),Dk(i,B()),o;if(e===6)Ck(i,s);else{if(a=i.current.alternate,!(s&30)&&!Ok(a)&&(e=Ik(i,s),e===2&&(c=xc(i),c!==0&&(s=c,e=Nk(i,c))),e===1))throw o=pk,Kk(i,0),Ck(i,s),Dk(i,B()),o;switch(i.finishedWork=a,i.finishedLanes=s,e){case 0:case 1:throw Error(p(345));case 2:Pk(i,tk,uk);break;case 3:if(Ck(i,s),(s&130023424)===s&&(e=fk+500-B(),10<e)){if(uc(i,0)!==0)break;if(a=i.suspendedLanes,(a&s)!==s){R(),i.pingedLanes|=i.suspendedLanes&a;break}i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),e);break}Pk(i,tk,uk);break;case 4:if(Ck(i,s),(s&4194240)===s)break;for(e=i.eventTimes,a=-1;0<s;){var d=31-oc(s);c=1<<d,d=e[d],d>a&&(a=d),s&=~c}if(s=a,s=B()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*lk(s/1960))-s,10<s){i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),s);break}Pk(i,tk,uk);break;case 5:Pk(i,tk,uk);break;default:throw Error(p(329))}}}return Dk(i,B()),i.callbackNode===o?Gk.bind(null,i):null}function Nk(i,e){var o=sk;return i.current.memoizedState.isDehydrated&&(Kk(i,e).flags|=256),i=Ik(i,e),i!==2&&(e=tk,tk=o,e!==null&&Fj(e)),i}function Fj(i){tk===null?tk=i:tk.push.apply(tk,i)}function Ok(i){for(var e=i;;){if(e.flags&16384){var o=e.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var s=0;s<o.length;s++){var a=o[s],c=a.getSnapshot;a=a.value;try{if(!He(c(),a))return!1}catch{return!1}}}if(o=e.child,e.subtreeFlags&16384&&o!==null)o.return=e,e=o;else{if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ck(i,e){for(e&=~rk,e&=~qk,i.suspendedLanes|=e,i.pingedLanes&=~e,i=i.expirationTimes;0<e;){var o=31-oc(e),s=1<<o;i[o]=-1,e&=~s}}function Ek(i){if(K&6)throw Error(p(327));Hk();var e=uc(i,0);if(!(e&1))return Dk(i,B()),null;var o=Ik(i,e);if(i.tag!==0&&o===2){var s=xc(i);s!==0&&(e=s,o=Nk(i,s))}if(o===1)throw o=pk,Kk(i,0),Ck(i,e),Dk(i,B()),o;if(o===6)throw Error(p(345));return i.finishedWork=i.current.alternate,i.finishedLanes=e,Pk(i,tk,uk),Dk(i,B()),null}function Qk(i,e){var o=K;K|=1;try{return i(e)}finally{K=o,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(i){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var e=K;K|=1;var o=ok.transition,s=C;try{if(ok.transition=null,C=1,i)return i()}finally{C=s,ok.transition=o,K=e,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(i,e){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;if(o!==-1&&(i.timeoutHandle=-1,Gf(o)),Y!==null)for(o=Y.return;o!==null;){var s=o;switch(wg(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(s);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(s.type._context);break;case 22:case 23:Hj()}o=o.return}if(Q=i,Y=i=Pg(i.current,null),Z=fj=e,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(e=0;e<fh.length;e++)if(o=fh[e],s=o.interleaved,s!==null){o.interleaved=null;var a=s.next,c=o.pending;if(c!==null){var d=c.next;c.next=a,s.next=d}o.pending=s}fh=null}return i}function Mk(i,e){do{var o=Y;try{if($g(),Fh.current=Rh,Ih){for(var s=M.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,o===null||o.return===null){T=1,pk=e,Y=null;break}t:{var c=i,d=o.return,h=o,_=e;if(e=Z,h.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var g=_,b=h,j=b.tag;if(!(b.mode&1)&&(j===0||j===11||j===15)){var $=b.alternate;$?(b.updateQueue=$.updateQueue,b.memoizedState=$.memoizedState,b.lanes=$.lanes):(b.updateQueue=null,b.memoizedState=null)}var rt=Ui(d);if(rt!==null){rt.flags&=-257,Vi(rt,d,h,c,e),rt.mode&1&&Si(c,g,e),e=rt,_=g;var lt=e.updateQueue;if(lt===null){var it=new Set;it.add(_),e.updateQueue=it}else lt.add(_);break t}else{if(!(e&1)){Si(c,g,e),tj();break t}_=Error(p(426))}}else if(I&&h.mode&1){var ht=Ui(d);if(ht!==null){!(ht.flags&65536)&&(ht.flags|=256),Vi(ht,d,h,c,e),Jg(Ji(_,h));break t}}c=_=Ji(_,h),T!==4&&(T=2),sk===null?sk=[c]:sk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,e&=-e,c.lanes|=e;var et=Ni(c,_,e);ph(c,et);break t;case 1:h=_;var tt=c.type,nt=c.stateNode;if(!(c.flags&128)&&(typeof tt.getDerivedStateFromError=="function"||nt!==null&&typeof nt.componentDidCatch=="function"&&(Ri===null||!Ri.has(nt)))){c.flags|=65536,e&=-e,c.lanes|=e;var st=Qi(c,h,e);ph(c,st);break t}}c=c.return}while(c!==null)}Sk(o)}catch(ut){e=ut,Y===o&&o!==null&&(Y=o=o.return);continue}break}while(!0)}function Jk(){var i=mk.current;return mk.current=Rh,i===null?Rh:i}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(i,e){var o=K;K|=2;var s=Jk();(Q!==i||Z!==e)&&(uk=null,Kk(i,e));do try{Tk();break}catch(a){Mk(i,a)}while(!0);if($g(),K=o,mk.current=s,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(i){var e=Vk(i.alternate,i,fj);i.memoizedProps=i.pendingProps,e===null?Sk(i):Y=e,nk.current=null}function Sk(i){var e=i;do{var o=e.alternate;if(i=e.return,e.flags&32768){if(o=Ij(o,e),o!==null){o.flags&=32767,Y=o;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(o=Ej(o,e,fj),o!==null){Y=o;return}if(e=e.sibling,e!==null){Y=e;return}Y=e=i}while(e!==null);T===0&&(T=5)}function Pk(i,e,o){var s=C,a=ok.transition;try{ok.transition=null,C=1,Wk(i,e,o,s)}finally{ok.transition=a,C=s}return null}function Wk(i,e,o,s){do Hk();while(wk!==null);if(K&6)throw Error(p(327));o=i.finishedWork;var a=i.finishedLanes;if(o===null)return null;if(i.finishedWork=null,i.finishedLanes=0,o===i.current)throw Error(p(177));i.callbackNode=null,i.callbackPriority=0;var c=o.lanes|o.childLanes;if(Bc(i,c),i===Q&&(Y=Q=null,Z=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),c=(o.flags&15990)!==0,o.subtreeFlags&15990||c){c=ok.transition,ok.transition=null;var d=C;C=1;var h=K;K|=4,nk.current=null,Oj(i,o),dk(o,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=o,hk(o),dc(),K=h,C=d,ok.transition=c}else i.current=o;if(vk&&(vk=!1,wk=i,xk=a),c=i.pendingLanes,c===0&&(Ri=null),mc(o.stateNode),Dk(i,B()),e!==null)for(s=i.onRecoverableError,o=0;o<e.length;o++)a=e[o],s(a.value,{componentStack:a.stack,digest:a.digest});if(Oi)throw Oi=!1,i=Pi,Pi=null,i;return xk&1&&i.tag!==0&&Hk(),c=i.pendingLanes,c&1?i===zk?yk++:(yk=0,zk=i):yk=0,jg(),null}function Hk(){if(wk!==null){var i=Dc(xk),e=ok.transition,o=C;try{if(ok.transition=null,C=16>i?16:i,wk===null)var s=!1;else{if(i=wk,wk=null,xk=0,K&6)throw Error(p(331));var a=K;for(K|=4,V=i.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var h=c.deletions;if(h!==null){for(var _=0;_<h.length;_++){var g=h[_];for(V=g;V!==null;){var b=V;switch(b.tag){case 0:case 11:case 15:Pj(8,b,c)}var j=b.child;if(j!==null)j.return=b,V=j;else for(;V!==null;){b=V;var $=b.sibling,rt=b.return;if(Sj(b),b===g){V=null;break}if($!==null){$.return=rt,V=$;break}V=rt}}}var lt=c.alternate;if(lt!==null){var it=lt.child;if(it!==null){lt.child=null;do{var ht=it.sibling;it.sibling=null,it=ht}while(it!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else t:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Pj(9,c,c.return)}var et=c.sibling;if(et!==null){et.return=c.return,V=et;break t}V=c.return}}var tt=i.current;for(V=tt;V!==null;){d=V;var nt=d.child;if(d.subtreeFlags&2064&&nt!==null)nt.return=d,V=nt;else t:for(d=tt;V!==null;){if(h=V,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(ut){W(h,h.return,ut)}if(h===d){V=null;break t}var st=h.sibling;if(st!==null){st.return=h.return,V=st;break t}V=h.return}}if(K=a,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}s=!0}return s}finally{C=o,ok.transition=e}}return!1}function Xk(i,e,o){e=Ji(o,e),e=Ni(i,e,1),i=nh(i,e,1),e=R(),i!==null&&(Ac(i,1,e),Dk(i,e))}function W(i,e,o){if(i.tag===3)Xk(i,i,o);else for(;e!==null;){if(e.tag===3){Xk(e,i,o);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ri===null||!Ri.has(s))){i=Ji(o,i),i=Qi(e,i,1),e=nh(e,i,1),i=R(),e!==null&&(Ac(e,1,i),Dk(e,i));break}}e=e.return}}function Ti(i,e,o){var s=i.pingCache;s!==null&&s.delete(e),e=R(),i.pingedLanes|=i.suspendedLanes&o,Q===i&&(Z&o)===o&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(i,0):rk|=o),Dk(i,e)}function Yk(i,e){e===0&&(i.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var o=R();i=ih(i,e),i!==null&&(Ac(i,e,o),Dk(i,o))}function uj(i){var e=i.memoizedState,o=0;e!==null&&(o=e.retryLane),Yk(i,o)}function bk(i,e){var o=0;switch(i.tag){case 13:var s=i.stateNode,a=i.memoizedState;a!==null&&(o=a.retryLane);break;case 19:s=i.stateNode;break;default:throw Error(p(314))}s!==null&&s.delete(e),Yk(i,o)}var Vk;Vk=function(i,e,o){if(i!==null)if(i.memoizedProps!==e.pendingProps||Wf.current)dh=!0;else{if(!(i.lanes&o)&&!(e.flags&128))return dh=!1,yj(i,e,o);dh=!!(i.flags&131072)}else dh=!1,I&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;ij(i,e),i=e.pendingProps;var a=Yf(e,H.current);ch(e,o),a=Nh(null,e,s,i,a,o);var c=Sh();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(s)?(c=!0,cg(e)):c=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,kh(e),a.updater=Ei,e.stateNode=a,a._reactInternals=e,Ii(e,s,i,o),e=jj(null,e,s,!0,c,o)):(e.tag=0,I&&c&&vg(e),Xi(null,e,a,o),e=e.child),e;case 16:s=e.elementType;t:{switch(ij(i,e),i=e.pendingProps,a=s._init,s=a(s._payload),e.type=s,a=e.tag=Zk(s),i=Ci(s,i),a){case 0:e=cj(null,e,s,i,o);break t;case 1:e=hj(null,e,s,i,o);break t;case 11:e=Yi(null,e,s,i,o);break t;case 14:e=$i(null,e,s,Ci(s.type,i),o);break t}throw Error(p(306,s,""))}return e;case 0:return s=e.type,a=e.pendingProps,a=e.elementType===s?a:Ci(s,a),cj(i,e,s,a,o);case 1:return s=e.type,a=e.pendingProps,a=e.elementType===s?a:Ci(s,a),hj(i,e,s,a,o);case 3:t:{if(kj(e),i===null)throw Error(p(387));s=e.pendingProps,c=e.memoizedState,a=c.element,lh(i,e),qh(e,s,null,o);var d=e.memoizedState;if(s=d.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},e.updateQueue.baseState=c,e.memoizedState=c,e.flags&256){a=Ji(Error(p(423)),e),e=lj(i,e,s,o,a);break t}else if(s!==a){a=Ji(Error(p(424)),e),e=lj(i,e,s,o,a);break t}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I=!0,zg=null,o=Vg(e,null,s,o),e.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),s===a){e=Zi(i,e,o);break t}Xi(i,e,s,o)}e=e.child}return e;case 5:return Ah(e),i===null&&Eg(e),s=e.type,a=e.pendingProps,c=i!==null?i.memoizedProps:null,d=a.children,Ef(s,a)?d=null:c!==null&&Ef(s,c)&&(e.flags|=32),gj(i,e),Xi(i,e,d,o),e.child;case 6:return i===null&&Eg(e),null;case 13:return oj(i,e,o);case 4:return yh(e,e.stateNode.containerInfo),s=e.pendingProps,i===null?e.child=Ug(e,null,s,o):Xi(i,e,s,o),e.child;case 11:return s=e.type,a=e.pendingProps,a=e.elementType===s?a:Ci(s,a),Yi(i,e,s,a,o);case 7:return Xi(i,e,e.pendingProps,o),e.child;case 8:return Xi(i,e,e.pendingProps.children,o),e.child;case 12:return Xi(i,e,e.pendingProps.children,o),e.child;case 10:t:{if(s=e.type._context,a=e.pendingProps,c=e.memoizedProps,d=a.value,G(Wg,s._currentValue),s._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===a.children&&!Wf.current){e=Zi(i,e,o);break t}}else for(c=e.child,c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){d=c.child;for(var _=h.firstContext;_!==null;){if(_.context===s){if(c.tag===1){_=mh(-1,o&-o),_.tag=2;var g=c.updateQueue;if(g!==null){g=g.shared;var b=g.pending;b===null?_.next=_:(_.next=b.next,b.next=_),g.pending=_}}c.lanes|=o,_=c.alternate,_!==null&&(_.lanes|=o),bh(c.return,o,e),h.lanes|=o;break}_=_.next}}else if(c.tag===10)d=c.type===e.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=o,h=d.alternate,h!==null&&(h.lanes|=o),bh(d,o,e),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===e){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Xi(i,e,a.children,o),e=e.child}return e;case 9:return a=e.type,s=e.pendingProps.children,ch(e,o),a=eh(a),s=s(a),e.flags|=1,Xi(i,e,s,o),e.child;case 14:return s=e.type,a=Ci(s,e.pendingProps),a=Ci(s.type,a),$i(i,e,s,a,o);case 15:return bj(i,e,e.type,e.pendingProps,o);case 17:return s=e.type,a=e.pendingProps,a=e.elementType===s?a:Ci(s,a),ij(i,e),e.tag=1,Zf(s)?(i=!0,cg(e)):i=!1,ch(e,o),Gi(e,s,a),Ii(e,s,a,o),jj(null,e,s,!0,i,o);case 19:return xj(i,e,o);case 22:return dj(i,e,o)}throw Error(p(156,e.tag))};function Fk(i,e){return ac(i,e)}function $k(i,e,o,s){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,e,o,s){return new $k(i,e,o,s)}function aj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zk(i){if(typeof i=="function")return aj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function Pg(i,e){var o=i.alternate;return o===null?(o=Bg(i.tag,e,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=e,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&14680064,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o}function Rg(i,e,o,s,a,c){var d=2;if(s=i,typeof i=="function")aj(i)&&(d=1);else if(typeof i=="string")d=5;else t:switch(i){case ya:return Tg(o.children,a,c,e);case za:d=8,a|=8;break;case Aa:return i=Bg(12,o,e,a|2),i.elementType=Aa,i.lanes=c,i;case Ea:return i=Bg(13,o,e,a),i.elementType=Ea,i.lanes=c,i;case Fa:return i=Bg(19,o,e,a),i.elementType=Fa,i.lanes=c,i;case Ia:return pj(o,a,c,e);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:d=10;break t;case Ca:d=9;break t;case Da:d=11;break t;case Ga:d=14;break t;case Ha:d=16,s=null;break t}throw Error(p(130,i==null?i:typeof i,""))}return e=Bg(d,o,e,a),e.elementType=i,e.type=s,e.lanes=c,e}function Tg(i,e,o,s){return i=Bg(7,i,s,e),i.lanes=o,i}function pj(i,e,o,s){return i=Bg(22,i,s,e),i.elementType=Ia,i.lanes=o,i.stateNode={isHidden:!1},i}function Qg(i,e,o){return i=Bg(6,i,null,e),i.lanes=o,i}function Sg(i,e,o){return e=Bg(4,i.children!==null?i.children:[],i.key,e),e.lanes=o,e.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},e}function al(i,e,o,s,a){this.tag=e,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bl(i,e,o,s,a,c,d,h,_){return i=new al(i,e,o,h,_),e===1?(e=1,c===!0&&(e|=8)):e=0,c=Bg(3,null,null,e),i.current=c,c.stateNode=i,c.memoizedState={element:s,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(c),i}function cl(i,e,o){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:s==null?null:""+s,children:i,containerInfo:e,implementation:o}}function dl(i){if(!i)return Vf;i=i._reactInternals;t:{if(Vb(i)!==i||i.tag!==1)throw Error(p(170));var e=i;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(e!==null);throw Error(p(171))}if(i.tag===1){var o=i.type;if(Zf(o))return bg(i,o,e)}return e}function el(i,e,o,s,a,c,d,h,_){return i=bl(o,s,!0,i,a,c,d,h,_),i.context=dl(null),o=i.current,s=R(),a=yi(o),c=mh(s,a),c.callback=e??null,nh(o,c,a),i.current.lanes=a,Ac(i,a,s),Dk(i,s),i}function fl(i,e,o,s){var a=e.current,c=R(),d=yi(a);return o=dl(o),e.context===null?e.context=o:e.pendingContext=o,e=mh(c,d),e.payload={element:i},s=s===void 0?null:s,s!==null&&(e.callback=s),i=nh(a,e,d),i!==null&&(gi(i,a,d,c),oh(i,a,d)),d}function gl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hl(i,e){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<e?o:e}}function il(i,e){hl(i,e),(i=i.alternate)&&hl(i,e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(i){console.error(i)};function ll(i){this._internalRoot=i}ml.prototype.render=ll.prototype.render=function(i){var e=this._internalRoot;if(e===null)throw Error(p(409));fl(i,e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var e=i.containerInfo;Rk(function(){fl(null,i,null,null)}),e[uf]=null}};function ml(i){this._internalRoot=i}ml.prototype.unstable_scheduleHydration=function(i){if(i){var e=Hc();i={blockedOn:null,target:i,priority:e};for(var o=0;o<Qc.length&&e!==0&&e<Qc[o].priority;o++);Qc.splice(o,0,i),o===0&&Vc(i)}};function nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(i,e,o,s,a){if(a){if(typeof s=="function"){var c=s;s=function(){var g=gl(d);c.call(g)}}var d=el(e,s,i,0,null,!1,!1,"",pl);return i._reactRootContainer=d,i[uf]=d.current,sf(i.nodeType===8?i.parentNode:i),Rk(),d}for(;a=i.lastChild;)i.removeChild(a);if(typeof s=="function"){var h=s;s=function(){var g=gl(_);h.call(g)}}var _=bl(i,0,!1,null,null,!1,!1,"",pl);return i._reactRootContainer=_,i[uf]=_.current,sf(i.nodeType===8?i.parentNode:i),Rk(function(){fl(e,_,o,s)}),_}function rl(i,e,o,s,a){var c=o._reactRootContainer;if(c){var d=c;if(typeof a=="function"){var h=a;a=function(){var _=gl(d);h.call(_)}}fl(e,d,i,a)}else d=ql(o,e,i,a,s);return gl(d)}Ec=function(i){switch(i.tag){case 3:var e=i.stateNode;if(e.current.memoizedState.isDehydrated){var o=tc(e.pendingLanes);o!==0&&(Cc(e,o|1),Dk(e,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var s=ih(i,1);if(s!==null){var a=R();gi(s,i,1,a)}}),il(i,1)}};Fc=function(i){if(i.tag===13){var e=ih(i,134217728);if(e!==null){var o=R();gi(e,i,134217728,o)}il(i,134217728)}};Gc=function(i){if(i.tag===13){var e=yi(i),o=ih(i,e);if(o!==null){var s=R();gi(o,i,e,s)}il(i,e)}};Hc=function(){return C};Ic=function(i,e){var o=C;try{return C=i,e()}finally{C=o}};yb=function(i,e,o){switch(e){case"input":if(bb(i,o),e=o.name,o.type==="radio"&&e!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<o.length;e++){var s=o[e];if(s!==i&&s.form===i.form){var a=Db(s);if(!a)throw Error(p(90));Wa(s),bb(s,a)}}}break;case"textarea":ib(i,o);break;case"select":e=o.value,e!=null&&fb(i,!!o.multiple,e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(i,e){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(e))throw Error(p(200));return cl(i,e,null,o)};reactDom_production_min.createRoot=function(i,e){if(!nl(i))throw Error(p(299));var o=!1,s="",a=kl;return e!=null&&(e.unstable_strictMode===!0&&(o=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=bl(i,1,!1,null,null,o,!1,s,a),i[uf]=e.current,sf(i.nodeType===8?i.parentNode:i),new ll(e)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var e=i._reactInternals;if(e===void 0)throw typeof i.render=="function"?Error(p(188)):(i=Object.keys(i).join(","),Error(p(268,i)));return i=Zb(e),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Rk(i)};reactDom_production_min.hydrate=function(i,e,o){if(!ol(e))throw Error(p(200));return rl(null,i,e,!0,o)};reactDom_production_min.hydrateRoot=function(i,e,o){if(!nl(i))throw Error(p(405));var s=o!=null&&o.hydratedSources||null,a=!1,c="",d=kl;if(o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onRecoverableError!==void 0&&(d=o.onRecoverableError)),e=el(e,null,i,1,o??null,a,!1,c,d),i[uf]=e.current,sf(i),s)for(i=0;i<s.length;i++)o=s[i],a=o._getVersion,a=a(o._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[o,a]:e.mutableSourceEagerHydrationData.push(o,a);return new ml(e)};reactDom_production_min.render=function(i,e,o){if(!ol(e))throw Error(p(200));return rl(null,i,e,!1,o)};reactDom_production_min.unmountComponentAtNode=function(i){if(!ol(i))throw Error(p(40));return i._reactRootContainer?(Rk(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,e,o,s){if(!ol(o))throw Error(p(200));if(i==null||i._reactInternals===void 0)throw Error(p(38));return rl(i,e,o,!1,s)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;var lib={exports:{}};(function(module,exports){(function(i,e){module.exports=e()})(typeof self<"u"?self:commonjsGlobal,function(){return function(i){function e(s){if(o[s])return o[s].exports;var a=o[s]={i:s,l:!1,exports:{}};return i[s].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var o={};return e.m=i,e.c=o,e.d=function(s,a,c){e.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:c})},e.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return e.d(a,"a",a),a},e.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},e.p="",e(e.s=76)}([function(i,e){var o=i.exports={version:"2.5.1"};typeof __e=="number"&&(__e=o)},function(i,e){var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(o=window)}i.exports=o},function(i,e,o){var s=o(40)("wks"),a=o(28),c=o(4).Symbol,d=typeof c=="function";(i.exports=function(h){return s[h]||(s[h]=d&&c[h]||(d?c:a)("Symbol."+h))}).store=s},function(i,e,o){e.__esModule=!0,e.default=function(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}},function(i,e){var o=i.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=o)},function(i,e,o){e.__esModule=!0;var s=o(135),a=function(c){return c&&c.__esModule?c:{default:c}}(s);e.default=function(){function c(d,h){for(var _=0;_<h.length;_++){var g=h[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),(0,a.default)(d,g.key,g)}}return function(d,h,_){return h&&c(d.prototype,h),_&&c(d,_),d}}()},function(i,e,o){var s=o(4),a=o(0),c=o(52),d=o(16),h=function(_,g,b){var j,$,rt,lt=_&h.F,it=_&h.G,ht=_&h.S,et=_&h.P,tt=_&h.B,nt=_&h.W,st=it?a:a[g]||(a[g]={}),ut=st.prototype,St=it?s:ht?s[g]:(s[g]||{}).prototype;it&&(b=g);for(j in b)($=!lt&&St&&St[j]!==void 0)&&j in st||(rt=$?St[j]:b[j],st[j]=it&&typeof St[j]!="function"?b[j]:tt&&$?c(rt,s):nt&&St[j]==rt?function(jt){var xt=function(Rt,kt,Wt){if(this instanceof jt){switch(arguments.length){case 0:return new jt;case 1:return new jt(Rt);case 2:return new jt(Rt,kt)}return new jt(Rt,kt,Wt)}return jt.apply(this,arguments)};return xt.prototype=jt.prototype,xt}(rt):et&&typeof rt=="function"?c(Function.call,rt):rt,et&&((st.virtual||(st.virtual={}))[j]=rt,_&h.R&&ut&&!ut[j]&&d(ut,j,rt)))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,i.exports=h},function(i,e,o){var s=o(17),a=o(53),c=o(36),d=Object.defineProperty;e.f=o(8)?Object.defineProperty:function(h,_,g){if(s(h),_=c(_,!0),s(g),a)try{return d(h,_,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported!");return"value"in g&&(h[_]=g.value),h}},function(i,e,o){i.exports=!o(18)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(i,e){var o={}.hasOwnProperty;i.exports=function(s,a){return o.call(s,a)}},function(i,e,o){i.exports={default:o(104),__esModule:!0}},function(i,e,o){e.__esModule=!0;var s=o(59),a=function(c){return c&&c.__esModule?c:{default:c}}(s);e.default=function(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||(d===void 0?"undefined":(0,a.default)(d))!=="object"&&typeof d!="function"?c:d}},function(i,e,o){function s(b){return b&&b.__esModule?b:{default:b}}e.__esModule=!0;var a=o(119),c=s(a),d=o(123),h=s(d),_=o(59),g=s(_);e.default=function(b,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+(j===void 0?"undefined":(0,g.default)(j)));b.prototype=(0,h.default)(j&&j.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),j&&(c.default?(0,c.default)(b,j):b.__proto__=j)}},function(i,e){function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(et){if(b===setTimeout)return setTimeout(et,0);if((b===o||!b)&&setTimeout)return b=setTimeout,setTimeout(et,0);try{return b(et,0)}catch{try{return b.call(null,et,0)}catch{return b.call(this,et,0)}}}function c(et){if(j===clearTimeout)return clearTimeout(et);if((j===s||!j)&&clearTimeout)return j=clearTimeout,clearTimeout(et);try{return j(et)}catch{try{return j.call(null,et)}catch{return j.call(this,et)}}}function d(){it&&rt&&(it=!1,rt.length?lt=rt.concat(lt):ht=-1,lt.length&&h())}function h(){if(!it){var et=a(d);it=!0;for(var tt=lt.length;tt;){for(rt=lt,lt=[];++ht<tt;)rt&&rt[ht].run();ht=-1,tt=lt.length}rt=null,it=!1,c(et)}}function _(et,tt){this.fun=et,this.array=tt}function g(){}var b,j,$=i.exports={};(function(){try{b=typeof setTimeout=="function"?setTimeout:o}catch{b=o}try{j=typeof clearTimeout=="function"?clearTimeout:s}catch{j=s}})();var rt,lt=[],it=!1,ht=-1;$.nextTick=function(et){var tt=new Array(arguments.length-1);if(arguments.length>1)for(var nt=1;nt<arguments.length;nt++)tt[nt-1]=arguments[nt];lt.push(new _(et,tt)),lt.length!==1||it||a(h)},_.prototype.run=function(){this.fun.apply(null,this.array)},$.title="browser",$.browser=!0,$.env={},$.argv=[],$.version="",$.versions={},$.on=g,$.addListener=g,$.once=g,$.off=g,$.removeListener=g,$.removeAllListeners=g,$.emit=g,$.prependListener=g,$.prependOnceListener=g,$.listeners=function(et){return[]},$.binding=function(et){throw new Error("process.binding is not supported")},$.cwd=function(){return"/"},$.chdir=function(et){throw new Error("process.chdir is not supported")},$.umask=function(){return 0}},function(i,e){typeof Object.create=="function"?i.exports=function(o,s){o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:i.exports=function(o,s){o.super_=s;var a=function(){};a.prototype=s.prototype,o.prototype=new a,o.prototype.constructor=o}},function(i,e,o){var s=o(50),a=o(34);i.exports=function(c){return s(a(c))}},function(i,e,o){var s=o(7),a=o(26);i.exports=o(8)?function(c,d,h){return s.f(c,d,a(1,h))}:function(c,d,h){return c[d]=h,c}},function(i,e,o){var s=o(23);i.exports=function(a){if(!s(a))throw TypeError(a+" is not an object!");return a}},function(i,e){i.exports=function(o){try{return!!o()}catch{return!0}}},function(i,e,o){var s=o(3),a=o.n(s),c=o(5),d=o.n(c),h=function(){function _(g){a()(this,_),this._canvas=g}return d()(_,[{key:"configureCanvas",value:function(g){}},{key:"doMouseUp",value:function(g){}},{key:"doMouseDown",value:function(g){}},{key:"doMouseMove",value:function(g){}},{key:"doMouseOut",value:function(g){}}]),_}();e.a=h},function(i,e,o){(function(s){function a(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(ot,at){if(a()<at)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(ot=new Uint8Array(at),ot.__proto__=d.prototype):(ot===null&&(ot=new d(at)),ot.length=at),ot}function d(ot,at,ct){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(ot,at,ct);if(typeof ot=="number"){if(typeof at=="string")throw new Error("If encoding is specified then the first argument must be a string");return b(this,ot)}return h(this,ot,at,ct)}function h(ot,at,ct,Tt){if(typeof at=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&at instanceof ArrayBuffer?rt(ot,at,ct,Tt):typeof at=="string"?j(ot,at,ct):lt(ot,at)}function _(ot){if(typeof ot!="number")throw new TypeError('"size" argument must be a number');if(ot<0)throw new RangeError('"size" argument must not be negative')}function g(ot,at,ct,Tt){return _(at),at<=0?c(ot,at):ct!==void 0?typeof Tt=="string"?c(ot,at).fill(ct,Tt):c(ot,at).fill(ct):c(ot,at)}function b(ot,at){if(_(at),ot=c(ot,at<0?0:0|it(at)),!d.TYPED_ARRAY_SUPPORT)for(var ct=0;ct<at;++ct)ot[ct]=0;return ot}function j(ot,at,ct){if(typeof ct=="string"&&ct!==""||(ct="utf8"),!d.isEncoding(ct))throw new TypeError('"encoding" must be a valid string encoding');var Tt=0|et(at,ct);ot=c(ot,Tt);var Lt=ot.write(at,ct);return Lt!==Tt&&(ot=ot.slice(0,Lt)),ot}function $(ot,at){var ct=at.length<0?0:0|it(at.length);ot=c(ot,ct);for(var Tt=0;Tt<ct;Tt+=1)ot[Tt]=255&at[Tt];return ot}function rt(ot,at,ct,Tt){if(at.byteLength,ct<0||at.byteLength<ct)throw new RangeError("'offset' is out of bounds");if(at.byteLength<ct+(Tt||0))throw new RangeError("'length' is out of bounds");return at=ct===void 0&&Tt===void 0?new Uint8Array(at):Tt===void 0?new Uint8Array(at,ct):new Uint8Array(at,ct,Tt),d.TYPED_ARRAY_SUPPORT?(ot=at,ot.__proto__=d.prototype):ot=$(ot,at),ot}function lt(ot,at){if(d.isBuffer(at)){var ct=0|it(at.length);return ot=c(ot,ct),ot.length===0||at.copy(ot,0,0,ct),ot}if(at){if(typeof ArrayBuffer<"u"&&at.buffer instanceof ArrayBuffer||"length"in at)return typeof at.length!="number"||Ft(at.length)?c(ot,0):$(ot,at);if(at.type==="Buffer"&&Vt(at.data))return $(ot,at.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function it(ot){if(ot>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|ot}function ht(ot){return+ot!=ot&&(ot=0),d.alloc(+ot)}function et(ot,at){if(d.isBuffer(ot))return ot.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(ot)||ot instanceof ArrayBuffer))return ot.byteLength;typeof ot!="string"&&(ot=""+ot);var ct=ot.length;if(ct===0)return 0;for(var Tt=!1;;)switch(at){case"ascii":case"latin1":case"binary":return ct;case"utf8":case"utf-8":case void 0:return zt(ot).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ct;case"hex":return ct>>>1;case"base64":return vt(ot).length;default:if(Tt)return zt(ot).length;at=(""+at).toLowerCase(),Tt=!0}}function tt(ot,at,ct){var Tt=!1;if((at===void 0||at<0)&&(at=0),at>this.length||((ct===void 0||ct>this.length)&&(ct=this.length),ct<=0)||(ct>>>=0,at>>>=0,ct<=at))return"";for(ot||(ot="utf8");;)switch(ot){case"hex":return At(this,at,ct);case"utf8":case"utf-8":return pt(this,at,ct);case"ascii":return bt(this,at,ct);case"latin1":case"binary":return Dt(this,at,ct);case"base64":return Ct(this,at,ct);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ot(this,at,ct);default:if(Tt)throw new TypeError("Unknown encoding: "+ot);ot=(ot+"").toLowerCase(),Tt=!0}}function nt(ot,at,ct){var Tt=ot[at];ot[at]=ot[ct],ot[ct]=Tt}function st(ot,at,ct,Tt,Lt){if(ot.length===0)return-1;if(typeof ct=="string"?(Tt=ct,ct=0):ct>2147483647?ct=2147483647:ct<-2147483648&&(ct=-2147483648),ct=+ct,isNaN(ct)&&(ct=Lt?0:ot.length-1),ct<0&&(ct=ot.length+ct),ct>=ot.length){if(Lt)return-1;ct=ot.length-1}else if(ct<0){if(!Lt)return-1;ct=0}if(typeof at=="string"&&(at=d.from(at,Tt)),d.isBuffer(at))return at.length===0?-1:ut(ot,at,ct,Tt,Lt);if(typeof at=="number")return at&=255,d.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Lt?Uint8Array.prototype.indexOf.call(ot,at,ct):Uint8Array.prototype.lastIndexOf.call(ot,at,ct):ut(ot,[at],ct,Tt,Lt);throw new TypeError("val must be string, number or Buffer")}function ut(ot,at,ct,Tt,Lt){function Bt(en,nn){return Gt===1?en[nn]:en.readUInt16BE(nn*Gt)}var Gt=1,qt=ot.length,Qt=at.length;if(Tt!==void 0&&((Tt=String(Tt).toLowerCase())==="ucs2"||Tt==="ucs-2"||Tt==="utf16le"||Tt==="utf-16le")){if(ot.length<2||at.length<2)return-1;Gt=2,qt/=2,Qt/=2,ct/=2}var Kt;if(Lt){var Jt=-1;for(Kt=ct;Kt<qt;Kt++)if(Bt(ot,Kt)===Bt(at,Jt===-1?0:Kt-Jt)){if(Jt===-1&&(Jt=Kt),Kt-Jt+1===Qt)return Jt*Gt}else Jt!==-1&&(Kt-=Kt-Jt),Jt=-1}else for(ct+Qt>qt&&(ct=qt-Qt),Kt=ct;Kt>=0;Kt--){for(var _e=!0,tn=0;tn<Qt;tn++)if(Bt(ot,Kt+tn)!==Bt(at,tn)){_e=!1;break}if(_e)return Kt}return-1}function St(ot,at,ct,Tt){ct=Number(ct)||0;var Lt=ot.length-ct;Tt?(Tt=Number(Tt))>Lt&&(Tt=Lt):Tt=Lt;var Bt=at.length;if(Bt%2!=0)throw new TypeError("Invalid hex string");Tt>Bt/2&&(Tt=Bt/2);for(var Gt=0;Gt<Tt;++Gt){var qt=parseInt(at.substr(2*Gt,2),16);if(isNaN(qt))return Gt;ot[ct+Gt]=qt}return Gt}function jt(ot,at,ct,Tt){return mt(zt(at,ot.length-ct),ot,ct,Tt)}function xt(ot,at,ct,Tt){return mt(Xt(at),ot,ct,Tt)}function Rt(ot,at,ct,Tt){return xt(ot,at,ct,Tt)}function kt(ot,at,ct,Tt){return mt(vt(at),ot,ct,Tt)}function Wt(ot,at,ct,Tt){return mt(Ut(at,ot.length-ct),ot,ct,Tt)}function Ct(ot,at,ct){return at===0&&ct===ot.length?Yt.fromByteArray(ot):Yt.fromByteArray(ot.slice(at,ct))}function pt(ot,at,ct){ct=Math.min(ot.length,ct);for(var Tt=[],Lt=at;Lt<ct;){var Bt=ot[Lt],Gt=null,qt=Bt>239?4:Bt>223?3:Bt>191?2:1;if(Lt+qt<=ct){var Qt,Kt,Jt,_e;switch(qt){case 1:Bt<128&&(Gt=Bt);break;case 2:Qt=ot[Lt+1],(192&Qt)==128&&(_e=(31&Bt)<<6|63&Qt)>127&&(Gt=_e);break;case 3:Qt=ot[Lt+1],Kt=ot[Lt+2],(192&Qt)==128&&(192&Kt)==128&&(_e=(15&Bt)<<12|(63&Qt)<<6|63&Kt)>2047&&(_e<55296||_e>57343)&&(Gt=_e);break;case 4:Qt=ot[Lt+1],Kt=ot[Lt+2],Jt=ot[Lt+3],(192&Qt)==128&&(192&Kt)==128&&(192&Jt)==128&&(_e=(15&Bt)<<18|(63&Qt)<<12|(63&Kt)<<6|63&Jt)>65535&&_e<1114112&&(Gt=_e)}}Gt===null?(Gt=65533,qt=1):Gt>65535&&(Gt-=65536,Tt.push(Gt>>>10&1023|55296),Gt=56320|1023&Gt),Tt.push(Gt),Lt+=qt}return gt(Tt)}function gt(ot){var at=ot.length;if(at<=Ht)return String.fromCharCode.apply(String,ot);for(var ct="",Tt=0;Tt<at;)ct+=String.fromCharCode.apply(String,ot.slice(Tt,Tt+=Ht));return ct}function bt(ot,at,ct){var Tt="";ct=Math.min(ot.length,ct);for(var Lt=at;Lt<ct;++Lt)Tt+=String.fromCharCode(127&ot[Lt]);return Tt}function Dt(ot,at,ct){var Tt="";ct=Math.min(ot.length,ct);for(var Lt=at;Lt<ct;++Lt)Tt+=String.fromCharCode(ot[Lt]);return Tt}function At(ot,at,ct){var Tt=ot.length;(!at||at<0)&&(at=0),(!ct||ct<0||ct>Tt)&&(ct=Tt);for(var Lt="",Bt=at;Bt<ct;++Bt)Lt+=It(ot[Bt]);return Lt}function Ot(ot,at,ct){for(var Tt=ot.slice(at,ct),Lt="",Bt=0;Bt<Tt.length;Bt+=2)Lt+=String.fromCharCode(Tt[Bt]+256*Tt[Bt+1]);return Lt}function Pt(ot,at,ct){if(ot%1!=0||ot<0)throw new RangeError("offset is not uint");if(ot+at>ct)throw new RangeError("Trying to access beyond buffer length")}function dt(ot,at,ct,Tt,Lt,Bt){if(!d.isBuffer(ot))throw new TypeError('"buffer" argument must be a Buffer instance');if(at>Lt||at<Bt)throw new RangeError('"value" argument is out of bounds');if(ct+Tt>ot.length)throw new RangeError("Index out of range")}function Mt(ot,at,ct,Tt){at<0&&(at=65535+at+1);for(var Lt=0,Bt=Math.min(ot.length-ct,2);Lt<Bt;++Lt)ot[ct+Lt]=(at&255<<8*(Tt?Lt:1-Lt))>>>8*(Tt?Lt:1-Lt)}function Nt(ot,at,ct,Tt){at<0&&(at=4294967295+at+1);for(var Lt=0,Bt=Math.min(ot.length-ct,4);Lt<Bt;++Lt)ot[ct+Lt]=at>>>8*(Tt?Lt:3-Lt)&255}function ft(ot,at,ct,Tt,Lt,Bt){if(ct+Tt>ot.length)throw new RangeError("Index out of range");if(ct<0)throw new RangeError("Index out of range")}function yt(ot,at,ct,Tt,Lt){return Lt||ft(ot,at,ct,4),$t.write(ot,at,ct,Tt,23,4),ct+4}function wt(ot,at,ct,Tt,Lt){return Lt||ft(ot,at,ct,8),$t.write(ot,at,ct,Tt,52,8),ct+8}function _t(ot){if(ot=Et(ot).replace(Zt,""),ot.length<2)return"";for(;ot.length%4!=0;)ot+="=";return ot}function Et(ot){return ot.trim?ot.trim():ot.replace(/^\s+|\s+$/g,"")}function It(ot){return ot<16?"0"+ot.toString(16):ot.toString(16)}function zt(ot,at){at=at||1/0;for(var ct,Tt=ot.length,Lt=null,Bt=[],Gt=0;Gt<Tt;++Gt){if((ct=ot.charCodeAt(Gt))>55295&&ct<57344){if(!Lt){if(ct>56319){(at-=3)>-1&&Bt.push(239,191,189);continue}if(Gt+1===Tt){(at-=3)>-1&&Bt.push(239,191,189);continue}Lt=ct;continue}if(ct<56320){(at-=3)>-1&&Bt.push(239,191,189),Lt=ct;continue}ct=65536+(Lt-55296<<10|ct-56320)}else Lt&&(at-=3)>-1&&Bt.push(239,191,189);if(Lt=null,ct<128){if((at-=1)<0)break;Bt.push(ct)}else if(ct<2048){if((at-=2)<0)break;Bt.push(ct>>6|192,63&ct|128)}else if(ct<65536){if((at-=3)<0)break;Bt.push(ct>>12|224,ct>>6&63|128,63&ct|128)}else{if(!(ct<1114112))throw new Error("Invalid code point");if((at-=4)<0)break;Bt.push(ct>>18|240,ct>>12&63|128,ct>>6&63|128,63&ct|128)}}return Bt}function Xt(ot){for(var at=[],ct=0;ct<ot.length;++ct)at.push(255&ot.charCodeAt(ct));return at}function Ut(ot,at){for(var ct,Tt,Lt,Bt=[],Gt=0;Gt<ot.length&&!((at-=2)<0);++Gt)ct=ot.charCodeAt(Gt),Tt=ct>>8,Lt=ct%256,Bt.push(Lt),Bt.push(Tt);return Bt}function vt(ot){return Yt.toByteArray(_t(ot))}function mt(ot,at,ct,Tt){for(var Lt=0;Lt<Tt&&!(Lt+ct>=at.length||Lt>=ot.length);++Lt)at[Lt+ct]=ot[Lt];return Lt}function Ft(ot){return ot!==ot}/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var Yt=o(141),$t=o(142),Vt=o(64);e.Buffer=d,e.SlowBuffer=ht,e.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=s.TYPED_ARRAY_SUPPORT!==void 0?s.TYPED_ARRAY_SUPPORT:function(){try{var ot=new Uint8Array(1);return ot.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},ot.foo()===42&&typeof ot.subarray=="function"&&ot.subarray(1,1).byteLength===0}catch{return!1}}(),e.kMaxLength=a(),d.poolSize=8192,d._augment=function(ot){return ot.__proto__=d.prototype,ot},d.from=function(ot,at,ct){return h(null,ot,at,ct)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(ot,at,ct){return g(null,ot,at,ct)},d.allocUnsafe=function(ot){return b(null,ot)},d.allocUnsafeSlow=function(ot){return b(null,ot)},d.isBuffer=function(ot){return!(ot==null||!ot._isBuffer)},d.compare=function(ot,at){if(!d.isBuffer(ot)||!d.isBuffer(at))throw new TypeError("Arguments must be Buffers");if(ot===at)return 0;for(var ct=ot.length,Tt=at.length,Lt=0,Bt=Math.min(ct,Tt);Lt<Bt;++Lt)if(ot[Lt]!==at[Lt]){ct=ot[Lt],Tt=at[Lt];break}return ct<Tt?-1:Tt<ct?1:0},d.isEncoding=function(ot){switch(String(ot).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(ot,at){if(!Vt(ot))throw new TypeError('"list" argument must be an Array of Buffers');if(ot.length===0)return d.alloc(0);var ct;if(at===void 0)for(at=0,ct=0;ct<ot.length;++ct)at+=ot[ct].length;var Tt=d.allocUnsafe(at),Lt=0;for(ct=0;ct<ot.length;++ct){var Bt=ot[ct];if(!d.isBuffer(Bt))throw new TypeError('"list" argument must be an Array of Buffers');Bt.copy(Tt,Lt),Lt+=Bt.length}return Tt},d.byteLength=et,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var ot=this.length;if(ot%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var at=0;at<ot;at+=2)nt(this,at,at+1);return this},d.prototype.swap32=function(){var ot=this.length;if(ot%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var at=0;at<ot;at+=4)nt(this,at,at+3),nt(this,at+1,at+2);return this},d.prototype.swap64=function(){var ot=this.length;if(ot%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var at=0;at<ot;at+=8)nt(this,at,at+7),nt(this,at+1,at+6),nt(this,at+2,at+5),nt(this,at+3,at+4);return this},d.prototype.toString=function(){var ot=0|this.length;return ot===0?"":arguments.length===0?pt(this,0,ot):tt.apply(this,arguments)},d.prototype.equals=function(ot){if(!d.isBuffer(ot))throw new TypeError("Argument must be a Buffer");return this===ot||d.compare(this,ot)===0},d.prototype.inspect=function(){var ot="",at=e.INSPECT_MAX_BYTES;return this.length>0&&(ot=this.toString("hex",0,at).match(/.{2}/g).join(" "),this.length>at&&(ot+=" ... ")),"<Buffer "+ot+">"},d.prototype.compare=function(ot,at,ct,Tt,Lt){if(!d.isBuffer(ot))throw new TypeError("Argument must be a Buffer");if(at===void 0&&(at=0),ct===void 0&&(ct=ot?ot.length:0),Tt===void 0&&(Tt=0),Lt===void 0&&(Lt=this.length),at<0||ct>ot.length||Tt<0||Lt>this.length)throw new RangeError("out of range index");if(Tt>=Lt&&at>=ct)return 0;if(Tt>=Lt)return-1;if(at>=ct)return 1;if(at>>>=0,ct>>>=0,Tt>>>=0,Lt>>>=0,this===ot)return 0;for(var Bt=Lt-Tt,Gt=ct-at,qt=Math.min(Bt,Gt),Qt=this.slice(Tt,Lt),Kt=ot.slice(at,ct),Jt=0;Jt<qt;++Jt)if(Qt[Jt]!==Kt[Jt]){Bt=Qt[Jt],Gt=Kt[Jt];break}return Bt<Gt?-1:Gt<Bt?1:0},d.prototype.includes=function(ot,at,ct){return this.indexOf(ot,at,ct)!==-1},d.prototype.indexOf=function(ot,at,ct){return st(this,ot,at,ct,!0)},d.prototype.lastIndexOf=function(ot,at,ct){return st(this,ot,at,ct,!1)},d.prototype.write=function(ot,at,ct,Tt){if(at===void 0)Tt="utf8",ct=this.length,at=0;else if(ct===void 0&&typeof at=="string")Tt=at,ct=this.length,at=0;else{if(!isFinite(at))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");at|=0,isFinite(ct)?(ct|=0,Tt===void 0&&(Tt="utf8")):(Tt=ct,ct=void 0)}var Lt=this.length-at;if((ct===void 0||ct>Lt)&&(ct=Lt),ot.length>0&&(ct<0||at<0)||at>this.length)throw new RangeError("Attempt to write outside buffer bounds");Tt||(Tt="utf8");for(var Bt=!1;;)switch(Tt){case"hex":return St(this,ot,at,ct);case"utf8":case"utf-8":return jt(this,ot,at,ct);case"ascii":return xt(this,ot,at,ct);case"latin1":case"binary":return Rt(this,ot,at,ct);case"base64":return kt(this,ot,at,ct);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Wt(this,ot,at,ct);default:if(Bt)throw new TypeError("Unknown encoding: "+Tt);Tt=(""+Tt).toLowerCase(),Bt=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ht=4096;d.prototype.slice=function(ot,at){var ct=this.length;ot=~~ot,at=at===void 0?ct:~~at,ot<0?(ot+=ct)<0&&(ot=0):ot>ct&&(ot=ct),at<0?(at+=ct)<0&&(at=0):at>ct&&(at=ct),at<ot&&(at=ot);var Tt;if(d.TYPED_ARRAY_SUPPORT)Tt=this.subarray(ot,at),Tt.__proto__=d.prototype;else{var Lt=at-ot;Tt=new d(Lt,void 0);for(var Bt=0;Bt<Lt;++Bt)Tt[Bt]=this[Bt+ot]}return Tt},d.prototype.readUIntLE=function(ot,at,ct){ot|=0,at|=0,ct||Pt(ot,at,this.length);for(var Tt=this[ot],Lt=1,Bt=0;++Bt<at&&(Lt*=256);)Tt+=this[ot+Bt]*Lt;return Tt},d.prototype.readUIntBE=function(ot,at,ct){ot|=0,at|=0,ct||Pt(ot,at,this.length);for(var Tt=this[ot+--at],Lt=1;at>0&&(Lt*=256);)Tt+=this[ot+--at]*Lt;return Tt},d.prototype.readUInt8=function(ot,at){return at||Pt(ot,1,this.length),this[ot]},d.prototype.readUInt16LE=function(ot,at){return at||Pt(ot,2,this.length),this[ot]|this[ot+1]<<8},d.prototype.readUInt16BE=function(ot,at){return at||Pt(ot,2,this.length),this[ot]<<8|this[ot+1]},d.prototype.readUInt32LE=function(ot,at){return at||Pt(ot,4,this.length),(this[ot]|this[ot+1]<<8|this[ot+2]<<16)+16777216*this[ot+3]},d.prototype.readUInt32BE=function(ot,at){return at||Pt(ot,4,this.length),16777216*this[ot]+(this[ot+1]<<16|this[ot+2]<<8|this[ot+3])},d.prototype.readIntLE=function(ot,at,ct){ot|=0,at|=0,ct||Pt(ot,at,this.length);for(var Tt=this[ot],Lt=1,Bt=0;++Bt<at&&(Lt*=256);)Tt+=this[ot+Bt]*Lt;return Lt*=128,Tt>=Lt&&(Tt-=Math.pow(2,8*at)),Tt},d.prototype.readIntBE=function(ot,at,ct){ot|=0,at|=0,ct||Pt(ot,at,this.length);for(var Tt=at,Lt=1,Bt=this[ot+--Tt];Tt>0&&(Lt*=256);)Bt+=this[ot+--Tt]*Lt;return Lt*=128,Bt>=Lt&&(Bt-=Math.pow(2,8*at)),Bt},d.prototype.readInt8=function(ot,at){return at||Pt(ot,1,this.length),128&this[ot]?-1*(255-this[ot]+1):this[ot]},d.prototype.readInt16LE=function(ot,at){at||Pt(ot,2,this.length);var ct=this[ot]|this[ot+1]<<8;return 32768&ct?4294901760|ct:ct},d.prototype.readInt16BE=function(ot,at){at||Pt(ot,2,this.length);var ct=this[ot+1]|this[ot]<<8;return 32768&ct?4294901760|ct:ct},d.prototype.readInt32LE=function(ot,at){return at||Pt(ot,4,this.length),this[ot]|this[ot+1]<<8|this[ot+2]<<16|this[ot+3]<<24},d.prototype.readInt32BE=function(ot,at){return at||Pt(ot,4,this.length),this[ot]<<24|this[ot+1]<<16|this[ot+2]<<8|this[ot+3]},d.prototype.readFloatLE=function(ot,at){return at||Pt(ot,4,this.length),$t.read(this,ot,!0,23,4)},d.prototype.readFloatBE=function(ot,at){return at||Pt(ot,4,this.length),$t.read(this,ot,!1,23,4)},d.prototype.readDoubleLE=function(ot,at){return at||Pt(ot,8,this.length),$t.read(this,ot,!0,52,8)},d.prototype.readDoubleBE=function(ot,at){return at||Pt(ot,8,this.length),$t.read(this,ot,!1,52,8)},d.prototype.writeUIntLE=function(ot,at,ct,Tt){ot=+ot,at|=0,ct|=0,!Tt&&dt(this,ot,at,ct,Math.pow(2,8*ct)-1,0);var Lt=1,Bt=0;for(this[at]=255&ot;++Bt<ct&&(Lt*=256);)this[at+Bt]=ot/Lt&255;return at+ct},d.prototype.writeUIntBE=function(ot,at,ct,Tt){ot=+ot,at|=0,ct|=0,!Tt&&dt(this,ot,at,ct,Math.pow(2,8*ct)-1,0);var Lt=ct-1,Bt=1;for(this[at+Lt]=255&ot;--Lt>=0&&(Bt*=256);)this[at+Lt]=ot/Bt&255;return at+ct},d.prototype.writeUInt8=function(ot,at,ct){return ot=+ot,at|=0,ct||dt(this,ot,at,1,255,0),d.TYPED_ARRAY_SUPPORT||(ot=Math.floor(ot)),this[at]=255&ot,at+1},d.prototype.writeUInt16LE=function(ot,at,ct){return ot=+ot,at|=0,ct||dt(this,ot,at,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[at]=255&ot,this[at+1]=ot>>>8):Mt(this,ot,at,!0),at+2},d.prototype.writeUInt16BE=function(ot,at,ct){return ot=+ot,at|=0,ct||dt(this,ot,at,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[at]=ot>>>8,this[at+1]=255&ot):Mt(this,ot,at,!1),at+2},d.prototype.writeUInt32LE=function(ot,at,ct){return ot=+ot,at|=0,ct||dt(this,ot,at,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[at+3]=ot>>>24,this[at+2]=ot>>>16,this[at+1]=ot>>>8,this[at]=255&ot):Nt(this,ot,at,!0),at+4},d.prototype.writeUInt32BE=function(ot,at,ct){return ot=+ot,at|=0,ct||dt(this,ot,at,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[at]=ot>>>24,this[at+1]=ot>>>16,this[at+2]=ot>>>8,this[at+3]=255&ot):Nt(this,ot,at,!1),at+4},d.prototype.writeIntLE=function(ot,at,ct,Tt){if(ot=+ot,at|=0,!Tt){var Lt=Math.pow(2,8*ct-1);dt(this,ot,at,ct,Lt-1,-Lt)}var Bt=0,Gt=1,qt=0;for(this[at]=255&ot;++Bt<ct&&(Gt*=256);)ot<0&&qt===0&&this[at+Bt-1]!==0&&(qt=1),this[at+Bt]=(ot/Gt>>0)-qt&255;return at+ct},d.prototype.writeIntBE=function(ot,at,ct,Tt){if(ot=+ot,at|=0,!Tt){var Lt=Math.pow(2,8*ct-1);dt(this,ot,at,ct,Lt-1,-Lt)}var Bt=ct-1,Gt=1,qt=0;for(this[at+Bt]=255&ot;--Bt>=0&&(Gt*=256);)ot<0&&qt===0&&this[at+Bt+1]!==0&&(qt=1),this[at+Bt]=(ot/Gt>>0)-qt&255;return at+ct},d.prototype.writeInt8=function(ot,at,ct){return ot=+ot,at|=0,ct||dt(this,ot,at,1,127,-128),d.TYPED_ARRAY_SUPPORT||(ot=Math.floor(ot)),ot<0&&(ot=255+ot+1),this[at]=255&ot,at+1},d.prototype.writeInt16LE=function(ot,at,ct){return ot=+ot,at|=0,ct||dt(this,ot,at,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[at]=255&ot,this[at+1]=ot>>>8):Mt(this,ot,at,!0),at+2},d.prototype.writeInt16BE=function(ot,at,ct){return ot=+ot,at|=0,ct||dt(this,ot,at,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[at]=ot>>>8,this[at+1]=255&ot):Mt(this,ot,at,!1),at+2},d.prototype.writeInt32LE=function(ot,at,ct){return ot=+ot,at|=0,ct||dt(this,ot,at,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[at]=255&ot,this[at+1]=ot>>>8,this[at+2]=ot>>>16,this[at+3]=ot>>>24):Nt(this,ot,at,!0),at+4},d.prototype.writeInt32BE=function(ot,at,ct){return ot=+ot,at|=0,ct||dt(this,ot,at,4,2147483647,-2147483648),ot<0&&(ot=4294967295+ot+1),d.TYPED_ARRAY_SUPPORT?(this[at]=ot>>>24,this[at+1]=ot>>>16,this[at+2]=ot>>>8,this[at+3]=255&ot):Nt(this,ot,at,!1),at+4},d.prototype.writeFloatLE=function(ot,at,ct){return yt(this,ot,at,!0,ct)},d.prototype.writeFloatBE=function(ot,at,ct){return yt(this,ot,at,!1,ct)},d.prototype.writeDoubleLE=function(ot,at,ct){return wt(this,ot,at,!0,ct)},d.prototype.writeDoubleBE=function(ot,at,ct){return wt(this,ot,at,!1,ct)},d.prototype.copy=function(ot,at,ct,Tt){if(ct||(ct=0),Tt||Tt===0||(Tt=this.length),at>=ot.length&&(at=ot.length),at||(at=0),Tt>0&&Tt<ct&&(Tt=ct),Tt===ct||ot.length===0||this.length===0)return 0;if(at<0)throw new RangeError("targetStart out of bounds");if(ct<0||ct>=this.length)throw new RangeError("sourceStart out of bounds");if(Tt<0)throw new RangeError("sourceEnd out of bounds");Tt>this.length&&(Tt=this.length),ot.length-at<Tt-ct&&(Tt=ot.length-at+ct);var Lt,Bt=Tt-ct;if(this===ot&&ct<at&&at<Tt)for(Lt=Bt-1;Lt>=0;--Lt)ot[Lt+at]=this[Lt+ct];else if(Bt<1e3||!d.TYPED_ARRAY_SUPPORT)for(Lt=0;Lt<Bt;++Lt)ot[Lt+at]=this[Lt+ct];else Uint8Array.prototype.set.call(ot,this.subarray(ct,ct+Bt),at);return Bt},d.prototype.fill=function(ot,at,ct,Tt){if(typeof ot=="string"){if(typeof at=="string"?(Tt=at,at=0,ct=this.length):typeof ct=="string"&&(Tt=ct,ct=this.length),ot.length===1){var Lt=ot.charCodeAt(0);Lt<256&&(ot=Lt)}if(Tt!==void 0&&typeof Tt!="string")throw new TypeError("encoding must be a string");if(typeof Tt=="string"&&!d.isEncoding(Tt))throw new TypeError("Unknown encoding: "+Tt)}else typeof ot=="number"&&(ot&=255);if(at<0||this.length<at||this.length<ct)throw new RangeError("Out of range index");if(ct<=at)return this;at>>>=0,ct=ct===void 0?this.length:ct>>>0,ot||(ot=0);var Bt;if(typeof ot=="number")for(Bt=at;Bt<ct;++Bt)this[Bt]=ot;else{var Gt=d.isBuffer(ot)?ot:zt(new d(ot,Tt).toString()),qt=Gt.length;for(Bt=0;Bt<ct-at;++Bt)this[Bt+at]=Gt[Bt%qt]}return this};var Zt=/[^+\/0-9A-Za-z-_]/g}).call(e,o(1))},function(i,e,o){function s(lt){if(!(this instanceof s))return new s(lt);g.call(this,lt),b.call(this,lt),lt&&lt.readable===!1&&(this.readable=!1),lt&&lt.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,lt&&lt.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",a)}function a(){this.allowHalfOpen||this._writableState.ended||d(c,this)}function c(lt){lt.end()}var d=o(30),h=Object.keys||function(lt){var it=[];for(var ht in lt)it.push(ht);return it};i.exports=s;var _=o(25);_.inherits=o(14);var g=o(68),b=o(72);_.inherits(s,g);for(var j=h(b.prototype),$=0;$<j.length;$++){var rt=j[$];s.prototype[rt]||(s.prototype[rt]=b.prototype[rt])}Object.defineProperty(s.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(lt){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=lt,this._writableState.destroyed=lt)}}),s.prototype._destroy=function(lt,it){this.push(null),this.end(),d(it,lt)}},function(i,e){i.exports={}},function(i,e){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},function(module,exports,__webpack_require__){(function(Buffer,process){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var fabric=fabric||{version:"1.7.22"};exports.fabric=fabric,typeof document<"u"&&typeof window<"u"?(fabric.document=document,fabric.window=window,window.fabric=fabric):(fabric.document=__webpack_require__(143).jsdom(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E")),fabric.document.createWindow?fabric.window=fabric.document.createWindow():fabric.window=fabric.document.parentWindow),fabric.isTouchSupported="ontouchstart"in fabric.window,fabric.isLikelyNode=Buffer!==void 0&&typeof window>"u",fabric.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id"],fabric.DPI=96,fabric.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)",fabric.fontPaths={},fabric.iMatrix=[1,0,0,1,0,0],fabric.canvasModule="canvas",fabric.perfLimitSizeTotal=2097152,fabric.maxCacheSideLimit=4096,fabric.minCacheSideLimit=256,fabric.charWidthsCache={},fabric.devicePixelRatio=fabric.window.devicePixelRatio||fabric.window.webkitDevicePixelRatio||fabric.window.mozDevicePixelRatio||1,function(){function i(a,c){if(this.__eventListeners[a]){var d=this.__eventListeners[a];c?d[d.indexOf(c)]=!1:fabric.util.array.fill(d,!1)}}function e(a,c){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var d in a)this.on(d,a[d]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(c);return this}function o(a,c){if(this.__eventListeners){if(arguments.length===0)for(a in this.__eventListeners)i.call(this,a);else if(arguments.length===1&&typeof arguments[0]=="object")for(var d in a)i.call(this,d,a[d]);else i.call(this,a,c);return this}}function s(a,c){if(this.__eventListeners){var d=this.__eventListeners[a];if(d){for(var h=0,_=d.length;h<_;h++)d[h]&&d[h].call(this,c||{});return this.__eventListeners[a]=d.filter(function(g){return g!==!1}),this}}}fabric.Observable={observe:e,stopObserving:o,fire:s,on:e,off:o,trigger:s}}(),fabric.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var i=0,e=arguments.length;i<e;i++)this._onObjectAdded(arguments[i]);return this.renderOnAddRemove&&this.renderAll(),this},insertAt:function(i,e,o){var s=this.getObjects();return o?s[e]=i:s.splice(e,0,i),this._onObjectAdded&&this._onObjectAdded(i),this.renderOnAddRemove&&this.renderAll(),this},remove:function(){for(var i,e=this.getObjects(),o=!1,s=0,a=arguments.length;s<a;s++)(i=e.indexOf(arguments[s]))!==-1&&(o=!0,e.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[s]));return this.renderOnAddRemove&&o&&this.renderAll(),this},forEachObject:function(i,e){for(var o=this.getObjects(),s=0,a=o.length;s<a;s++)i.call(e,o[s],s,o);return this},getObjects:function(i){return i===void 0?this._objects:this._objects.filter(function(e){return e.type===i})},item:function(i){return this.getObjects()[i]},isEmpty:function(){return this.getObjects().length===0},size:function(){return this.getObjects().length},contains:function(i){return this.getObjects().indexOf(i)>-1},complexity:function(){return this.getObjects().reduce(function(i,e){return i+=e.complexity?e.complexity():0},0)}},fabric.CommonMethods={_setOptions:function(i){for(var e in i)this.set(e,i[e])},_initGradient:function(i,e){!i||!i.colorStops||i instanceof fabric.Gradient||this.set(e,new fabric.Gradient(i))},_initPattern:function(i,e,o){!i||!i.source||i instanceof fabric.Pattern?o&&o():this.set(e,new fabric.Pattern(i,o))},_initClipping:function(i){if(i.clipTo&&typeof i.clipTo=="string"){var e=fabric.util.getFunctionBody(i.clipTo);e!==void 0&&(this.clipTo=new Function("ctx",e))}},_setObject:function(i){for(var e in i)this._set(e,i[e])},set:function(i,e){return typeof i=="object"?this._setObject(i):typeof e=="function"&&i!=="clipTo"?this._set(i,e(this.get(i))):this._set(i,e),this},_set:function(i,e){this[i]=e},toggle:function(i){var e=this.get(i);return typeof e=="boolean"&&this.set(i,!e),this},get:function(i){return this[i]}},function(i){var e=Math.sqrt,o=Math.atan2,s=Math.pow,a=Math.abs,c=Math.PI/180;fabric.util={removeFromArray:function(d,h){var _=d.indexOf(h);return _!==-1&&d.splice(_,1),d},getRandomInt:function(d,h){return Math.floor(Math.random()*(h-d+1))+d},degreesToRadians:function(d){return d*c},radiansToDegrees:function(d){return d/c},rotatePoint:function(d,h,_){d.subtractEquals(h);var g=fabric.util.rotateVector(d,_);return new fabric.Point(g.x,g.y).addEquals(h)},rotateVector:function(d,h){var _=Math.sin(h),g=Math.cos(h);return{x:d.x*g-d.y*_,y:d.x*_+d.y*g}},transformPoint:function(d,h,_){return _?new fabric.Point(h[0]*d.x+h[2]*d.y,h[1]*d.x+h[3]*d.y):new fabric.Point(h[0]*d.x+h[2]*d.y+h[4],h[1]*d.x+h[3]*d.y+h[5])},makeBoundingBoxFromPoints:function(d){var h=[d[0].x,d[1].x,d[2].x,d[3].x],_=fabric.util.array.min(h),g=fabric.util.array.max(h),b=Math.abs(_-g),j=[d[0].y,d[1].y,d[2].y,d[3].y],$=fabric.util.array.min(j),rt=fabric.util.array.max(j);return{left:_,top:$,width:b,height:Math.abs($-rt)}},invertTransform:function(d){var h=1/(d[0]*d[3]-d[1]*d[2]),_=[h*d[3],-h*d[1],-h*d[2],h*d[0]],g=fabric.util.transformPoint({x:d[4],y:d[5]},_,!0);return _[4]=-g.x,_[5]=-g.y,_},toFixed:function(d,h){return parseFloat(Number(d).toFixed(h))},parseUnit:function(d,h){var _=/\D{0,2}$/.exec(d),g=parseFloat(d);switch(h||(h=fabric.Text.DEFAULT_SVG_FONT_SIZE),_[0]){case"mm":return g*fabric.DPI/25.4;case"cm":return g*fabric.DPI/2.54;case"in":return g*fabric.DPI;case"pt":return g*fabric.DPI/72;case"pc":return g*fabric.DPI/72*12;case"em":return g*h;default:return g}},falseFunction:function(){return!1},getKlass:function(d,h){return d=fabric.util.string.camelize(d.charAt(0).toUpperCase()+d.slice(1)),fabric.util.resolveNamespace(h)[d]},resolveNamespace:function(d){if(!d)return fabric;var h,_=d.split("."),g=_.length,b=i||fabric.window;for(h=0;h<g;++h)b=b[_[h]];return b},loadImage:function(d,h,_,g){if(!d)return void(h&&h.call(_,d));var b=fabric.util.createImage();b.onload=function(){h&&h.call(_,b),b=b.onload=b.onerror=null},b.onerror=function(){fabric.log("Error loading "+b.src),h&&h.call(_,null,!0),b=b.onload=b.onerror=null},d.indexOf("data")!==0&&g&&(b.crossOrigin=g),b.src=d},enlivenObjects:function(d,h,_,g){function b(){++$===rt&&h&&h(j)}d=d||[];var j=[],$=0,rt=d.length;if(!rt)return void(h&&h(j));d.forEach(function(lt,it){if(!lt||!lt.type)return void b();fabric.util.getKlass(lt.type,_).fromObject(lt,function(ht,et){et||(j[it]=ht),g&&g(lt,ht,et),b()},!0)})},enlivenPatterns:function(d,h){function _(){++b===j&&h&&h(g)}d=d||[];var g=[],b=0,j=d.length;if(!j)return void(h&&h(g));d.forEach(function($,rt){$&&$.source?new fabric.Pattern($,function(lt){g[rt]=lt,_()}):(g[rt]=$,_())})},groupSVGElements:function(d,h,_){var g;return g=new fabric.PathGroup(d,h),_!==void 0&&(g.sourcePath=_),g},populateWithProperties:function(d,h,_){if(_&&Object.prototype.toString.call(_)==="[object Array]")for(var g=0,b=_.length;g<b;g++)_[g]in d&&(h[_[g]]=d[_[g]])},drawDashedLine:function(d,h,_,g,b,j){var $=g-h,rt=b-_,lt=e($*$+rt*rt),it=o(rt,$),ht=j.length,et=0,tt=!0;for(d.save(),d.translate(h,_),d.moveTo(0,0),d.rotate(it),h=0;lt>h;)h+=j[et++%ht],h>lt&&(h=lt),d[tt?"lineTo":"moveTo"](h,0),tt=!tt;d.restore()},createCanvasElement:function(d){return d||(d=fabric.document.createElement("canvas")),d.getContext||typeof G_vmlCanvasManager>"u"||G_vmlCanvasManager.initElement(d),d},createImage:function(){return fabric.isLikelyNode?new(__webpack_require__(48)).Image:fabric.document.createElement("img")},createAccessors:function(d){var h,_,g,b,j,$=d.prototype;for(h=$.stateProperties.length;h--;)_=$.stateProperties[h],g=_.charAt(0).toUpperCase()+_.slice(1),b="set"+g,j="get"+g,$[j]||($[j]=function(rt){return new Function('return this.get("'+rt+'")')}(_)),$[b]||($[b]=function(rt){return new Function("value",'return this.set("'+rt+'", value)')}(_))},clipContext:function(d,h){h.save(),h.beginPath(),d.clipTo(h),h.clip()},multiplyTransformMatrices:function(d,h,_){return[d[0]*h[0]+d[2]*h[1],d[1]*h[0]+d[3]*h[1],d[0]*h[2]+d[2]*h[3],d[1]*h[2]+d[3]*h[3],_?0:d[0]*h[4]+d[2]*h[5]+d[4],_?0:d[1]*h[4]+d[3]*h[5]+d[5]]},qrDecompose:function(d){var h=o(d[1],d[0]),_=s(d[0],2)+s(d[1],2),g=e(_),b=(d[0]*d[3]-d[2]*d[1])/g,j=o(d[0]*d[2]+d[1]*d[3],_);return{angle:h/c,scaleX:g,scaleY:b,skewX:j/c,skewY:0,translateX:d[4],translateY:d[5]}},customTransformMatrix:function(d,h,_){var g=[1,0,a(Math.tan(_*c)),1],b=[a(d),0,0,a(h)];return fabric.util.multiplyTransformMatrices(b,g,!0)},resetObjectTransform:function(d){d.scaleX=1,d.scaleY=1,d.skewX=0,d.skewY=0,d.flipX=!1,d.flipY=!1,d.setAngle(0)},getFunctionBody:function(d){return(String(d).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(d,h,_,g){g>0&&(h>g?h-=g:h=0,_>g?_-=g:_=0);var b,j,$=!0,rt=d.getImageData(h,_,2*g||1,2*g||1),lt=rt.data.length;for(b=3;b<lt&&(j=rt.data[b],$=j<=0);b+=4);return rt=null,$},parsePreserveAspectRatioAttribute:function(d){var h,_="meet",g="Mid",b="Mid",j=d.split(" ");return j&&j.length&&(_=j.pop(),_!=="meet"&&_!=="slice"?(h=_,_="meet"):j.length&&(h=j.pop())),g=h!=="none"?h.slice(1,4):"none",b=h!=="none"?h.slice(5,8):"none",{meetOrSlice:_,alignX:g,alignY:b}},clearFabricFontCache:function(d){d?fabric.charWidthsCache[d]&&delete fabric.charWidthsCache[d]:fabric.charWidthsCache={}},limitDimsByArea:function(d,h){var _=Math.sqrt(h*d),g=Math.floor(h/_);return{x:Math.floor(_),y:g}},capValue:function(d,h,_){return Math.max(d,Math.min(h,_))}}}(exports),function(){function i(_,g,b,j,$,rt,lt){var it=h.call(arguments);if(a[it])return a[it];var ht=Math.PI,et=lt*ht/180,tt=Math.sin(et),nt=Math.cos(et),st=0,ut=0;b=Math.abs(b),j=Math.abs(j);var St=-nt*_*.5-tt*g*.5,jt=-nt*g*.5+tt*_*.5,xt=b*b,Rt=j*j,kt=jt*jt,Wt=St*St,Ct=xt*Rt-xt*kt-Rt*Wt,pt=0;if(Ct<0){var gt=Math.sqrt(1-Ct/(xt*Rt));b*=gt,j*=gt}else pt=($===rt?-1:1)*Math.sqrt(Ct/(xt*kt+Rt*Wt));var bt=pt*b*jt/j,Dt=-pt*j*St/b,At=nt*bt-tt*Dt+.5*_,Ot=tt*bt+nt*Dt+.5*g,Pt=o(1,0,(St-bt)/b,(jt-Dt)/j),dt=o((St-bt)/b,(jt-Dt)/j,(-St-bt)/b,(-jt-Dt)/j);rt===0&&dt>0?dt-=2*ht:rt===1&&dt<0&&(dt+=2*ht);for(var Mt=Math.ceil(Math.abs(dt/ht*2)),Nt=[],ft=dt/Mt,yt=8/3*Math.sin(ft/4)*Math.sin(ft/4)/Math.sin(ft/2),wt=Pt+ft,_t=0;_t<Mt;_t++)Nt[_t]=e(Pt,wt,nt,tt,b,j,At,Ot,yt,st,ut),st=Nt[_t][4],ut=Nt[_t][5],Pt=wt,wt+=ft;return a[it]=Nt,Nt}function e(_,g,b,j,$,rt,lt,it,ht,et,tt){var nt=h.call(arguments);if(c[nt])return c[nt];var st=Math.cos(_),ut=Math.sin(_),St=Math.cos(g),jt=Math.sin(g),xt=b*$*St-j*rt*jt+lt,Rt=j*$*St+b*rt*jt+it,kt=et+ht*(-b*$*ut-j*rt*st),Wt=tt+ht*(-j*$*ut+b*rt*st),Ct=xt+ht*(b*$*jt+j*rt*St),pt=Rt+ht*(j*$*jt-b*rt*St);return c[nt]=[kt,Wt,Ct,pt,xt,Rt],c[nt]}function o(_,g,b,j){var $=Math.atan2(g,_),rt=Math.atan2(j,b);return rt>=$?rt-$:2*Math.PI-($-rt)}function s(_,g,b,j,$,rt,lt,it){var ht=h.call(arguments);if(d[ht])return d[ht];var et,tt,nt,st,ut,St,jt,xt,Rt=Math.sqrt,kt=Math.min,Wt=Math.max,Ct=Math.abs,pt=[],gt=[[],[]];tt=6*_-12*b+6*$,et=-3*_+9*b-9*$+3*lt,nt=3*b-3*_;for(var bt=0;bt<2;++bt)if(bt>0&&(tt=6*g-12*j+6*rt,et=-3*g+9*j-9*rt+3*it,nt=3*j-3*g),Ct(et)<1e-12){if(Ct(tt)<1e-12)continue;0<(st=-nt/tt)&&st<1&&pt.push(st)}else(jt=tt*tt-4*nt*et)<0||(xt=Rt(jt),ut=(-tt+xt)/(2*et),0<ut&&ut<1&&pt.push(ut),0<(St=(-tt-xt)/(2*et))&&St<1&&pt.push(St));for(var Dt,At,Ot,Pt=pt.length,dt=Pt;Pt--;)st=pt[Pt],Ot=1-st,Dt=Ot*Ot*Ot*_+3*Ot*Ot*st*b+3*Ot*st*st*$+st*st*st*lt,gt[0][Pt]=Dt,At=Ot*Ot*Ot*g+3*Ot*Ot*st*j+3*Ot*st*st*rt+st*st*st*it,gt[1][Pt]=At;gt[0][dt]=_,gt[1][dt]=g,gt[0][dt+1]=lt,gt[1][dt+1]=it;var Mt=[{x:kt.apply(null,gt[0]),y:kt.apply(null,gt[1])},{x:Wt.apply(null,gt[0]),y:Wt.apply(null,gt[1])}];return d[ht]=Mt,Mt}var a={},c={},d={},h=Array.prototype.join;fabric.util.drawArc=function(_,g,b,j){for(var $=j[0],rt=j[1],lt=j[2],it=j[3],ht=j[4],et=j[5],tt=j[6],nt=[[],[],[],[]],st=i(et-g,tt-b,$,rt,it,ht,lt),ut=0,St=st.length;ut<St;ut++)nt[ut][0]=st[ut][0]+g,nt[ut][1]=st[ut][1]+b,nt[ut][2]=st[ut][2]+g,nt[ut][3]=st[ut][3]+b,nt[ut][4]=st[ut][4]+g,nt[ut][5]=st[ut][5]+b,_.bezierCurveTo.apply(_,nt[ut])},fabric.util.getBoundsOfArc=function(_,g,b,j,$,rt,lt,it,ht){for(var et,tt=0,nt=0,st=[],ut=i(it-_,ht-g,b,j,rt,lt,$),St=0,jt=ut.length;St<jt;St++)et=s(tt,nt,ut[St][0],ut[St][1],ut[St][2],ut[St][3],ut[St][4],ut[St][5]),st.push({x:et[0].x+_,y:et[0].y+g}),st.push({x:et[1].x+_,y:et[1].y+g}),tt=ut[St][4],nt=ut[St][5];return st},fabric.util.getBoundsOfCurve=s}(),function(){function i(d,h){for(var _=c.call(arguments,2),g=[],b=0,j=d.length;b<j;b++)g[b]=_.length?d[b][h].apply(d[b],_):d[b][h].call(d[b]);return g}function e(d,h){return a(d,h,function(_,g){return _>=g})}function o(d,h){return a(d,h,function(_,g){return _<g})}function s(d,h){for(var _=d.length;_--;)d[_]=h;return d}function a(d,h,_){if(d&&d.length!==0){var g=d.length-1,b=h?d[g][h]:d[g];if(h)for(;g--;)_(d[g][h],b)&&(b=d[g][h]);else for(;g--;)_(d[g],b)&&(b=d[g]);return b}}var c=Array.prototype.slice;Array.prototype.indexOf||(Array.prototype.indexOf=function(d){if(this===void 0||this===null)throw new TypeError;var h=Object(this),_=h.length>>>0;if(_===0)return-1;var g=0;if(arguments.length>0&&(g=Number(arguments[1]),g!==g?g=0:g!==0&&g!==Number.POSITIVE_INFINITY&&g!==Number.NEGATIVE_INFINITY&&(g=(g>0||-1)*Math.floor(Math.abs(g)))),g>=_)return-1;for(var b=g>=0?g:Math.max(_-Math.abs(g),0);b<_;b++)if(b in h&&h[b]===d)return b;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(d,h){for(var _=0,g=this.length>>>0;_<g;_++)_ in this&&d.call(h,this[_],_,this)}),Array.prototype.map||(Array.prototype.map=function(d,h){for(var _=[],g=0,b=this.length>>>0;g<b;g++)g in this&&(_[g]=d.call(h,this[g],g,this));return _}),Array.prototype.every||(Array.prototype.every=function(d,h){for(var _=0,g=this.length>>>0;_<g;_++)if(_ in this&&!d.call(h,this[_],_,this))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(d,h){for(var _=0,g=this.length>>>0;_<g;_++)if(_ in this&&d.call(h,this[_],_,this))return!0;return!1}),Array.prototype.filter||(Array.prototype.filter=function(d,h){for(var _,g=[],b=0,j=this.length>>>0;b<j;b++)b in this&&(_=this[b],d.call(h,_,b,this)&&g.push(_));return g}),Array.prototype.reduce||(Array.prototype.reduce=function(d){var h,_=this.length>>>0,g=0;if(arguments.length>1)h=arguments[1];else for(;;){if(g in this){h=this[g++];break}if(++g>=_)throw new TypeError}for(;g<_;g++)g in this&&(h=d.call(null,h,this[g],g,this));return h}),fabric.util.array={fill:s,invoke:i,min:o,max:e}}(),function(){function i(o,s,a){if(a)if(!fabric.isLikelyNode&&s instanceof Element)o=s;else if(s instanceof Array){o=[];for(var c=0,d=s.length;c<d;c++)o[c]=i({},s[c],a)}else if(s&&typeof s=="object")for(var h in s)s.hasOwnProperty(h)&&(o[h]=i({},s[h],a));else o=s;else for(var h in s)o[h]=s[h];return o}function e(o,s){return i({},o,s)}fabric.util.object={extend:i,clone:e}}(),function(){function i(s){return s.replace(/-+(.)?/g,function(a,c){return c?c.toUpperCase():""})}function e(s,a){return s.charAt(0).toUpperCase()+(a?s.slice(1):s.slice(1).toLowerCase())}function o(s){return s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")}),fabric.util.string={camelize:i,capitalize:e,escapeXml:o}}(),function(){var i=Array.prototype.slice,e=Function.prototype.apply,o=function(){};Function.prototype.bind||(Function.prototype.bind=function(s){var a,c=this,d=i.call(arguments,1);return a=d.length?function(){return e.call(c,this instanceof o?this:s,d.concat(i.call(arguments)))}:function(){return e.call(c,this instanceof o?this:s,arguments)},o.prototype=this.prototype,a.prototype=new o,a})}(),function(){function i(){}function e(h){for(var _=null,g=this;g.constructor.superclass;){var b=g.constructor.superclass.prototype[h];if(g[h]!==b){_=b;break}g=g.constructor.superclass.prototype}return _?arguments.length>1?_.apply(this,s.call(arguments,1)):_.call(this):console.log("tried to callSuper "+h+", method not found in prototype chain",this)}function o(){function h(){this.initialize.apply(this,arguments)}var _=null,g=s.call(arguments,0);typeof g[0]=="function"&&(_=g.shift()),h.superclass=_,h.subclasses=[],_&&(i.prototype=_.prototype,h.prototype=new i,_.subclasses.push(h));for(var b=0,j=g.length;b<j;b++)d(h,g[b],_);return h.prototype.initialize||(h.prototype.initialize=a),h.prototype.constructor=h,h.prototype.callSuper=e,h}var s=Array.prototype.slice,a=function(){},c=function(){for(var h in{toString:1})if(h==="toString")return!1;return!0}(),d=function(h,_,g){for(var b in _)b in h.prototype&&typeof h.prototype[b]=="function"&&(_[b]+"").indexOf("callSuper")>-1?h.prototype[b]=function(j){return function(){var $=this.constructor.superclass;this.constructor.superclass=g;var rt=_[j].apply(this,arguments);if(this.constructor.superclass=$,j!=="initialize")return rt}}(b):h.prototype[b]=_[b],c&&(_.toString!==Object.prototype.toString&&(h.prototype.toString=_.toString),_.valueOf!==Object.prototype.valueOf&&(h.prototype.valueOf=_.valueOf))};fabric.util.createClass=o}(),function(){function i(tt){var nt,st,ut=Array.prototype.slice.call(arguments,1),St=ut.length;for(st=0;st<St;st++)if(nt=typeof tt[ut[st]],!/^(?:function|object|unknown)$/.test(nt))return!1;return!0}function e(tt,nt){return{handler:nt,wrappedHandler:o(tt,nt)}}function o(tt,nt){return function(st){nt.call(d(tt),st||fabric.window.event)}}function s(tt,nt){return function(st){if(it[tt]&&it[tt][nt])for(var ut=it[tt][nt],St=0,jt=ut.length;St<jt;St++)ut[St].call(this,st||fabric.window.event)}}function a(tt){tt||(tt=fabric.window.event);var nt=tt.target||(typeof tt.srcElement!==_?tt.srcElement:null),st=fabric.util.getScrollLeftTop(nt);return{x:ht(tt)+st.left,y:et(tt)+st.top}}function c(tt,nt,st){var ut=tt.type==="touchend"?"changedTouches":"touches";return tt[ut]&&tt[ut][0]&&tt[ut][0][nt]-(tt[ut][0][nt]-tt[ut][0][st])||tt[st]}var d,h,_="unknown",g=function(){var tt=0;return function(nt){return nt.__uniqueID||(nt.__uniqueID="uniqueID__"+tt++)}}();(function(){var tt={};d=function(nt){return tt[nt]},h=function(nt,st){tt[nt]=st}})();var b,j,$=i(fabric.document.documentElement,"addEventListener","removeEventListener")&&i(fabric.window,"addEventListener","removeEventListener"),rt=i(fabric.document.documentElement,"attachEvent","detachEvent")&&i(fabric.window,"attachEvent","detachEvent"),lt={},it={};$?(b=function(tt,nt,st,ut){tt&&tt.addEventListener(nt,st,!rt&&ut)},j=function(tt,nt,st,ut){tt&&tt.removeEventListener(nt,st,!rt&&ut)}):rt?(b=function(tt,nt,st){if(tt){var ut=g(tt);h(ut,tt),lt[ut]||(lt[ut]={}),lt[ut][nt]||(lt[ut][nt]=[]);var St=e(ut,st);lt[ut][nt].push(St),tt.attachEvent("on"+nt,St.wrappedHandler)}},j=function(tt,nt,st){if(tt){var ut,St=g(tt);if(lt[St]&&lt[St][nt])for(var jt=0,xt=lt[St][nt].length;jt<xt;jt++)(ut=lt[St][nt][jt])&&ut.handler===st&&(tt.detachEvent("on"+nt,ut.wrappedHandler),lt[St][nt][jt]=null)}}):(b=function(tt,nt,st){if(tt){var ut=g(tt);if(it[ut]||(it[ut]={}),!it[ut][nt]){it[ut][nt]=[];var St=tt["on"+nt];St&&it[ut][nt].push(St),tt["on"+nt]=s(ut,nt)}it[ut][nt].push(st)}},j=function(tt,nt,st){if(tt){var ut=g(tt);if(it[ut]&&it[ut][nt])for(var St=it[ut][nt],jt=0,xt=St.length;jt<xt;jt++)St[jt]===st&&St.splice(jt,1)}}),fabric.util.addListener=b,fabric.util.removeListener=j;var ht=function(tt){return typeof tt.clientX!==_?tt.clientX:0},et=function(tt){return typeof tt.clientY!==_?tt.clientY:0};fabric.isTouchSupported&&(ht=function(tt){return c(tt,"pageX","clientX")},et=function(tt){return c(tt,"pageY","clientY")}),fabric.util.getPointer=a,fabric.util.object.extend(fabric.util,fabric.Observable)}(),function(){function i(d,h){var _=d.style;if(!_)return d;if(typeof h=="string")return d.style.cssText+=";"+h,h.indexOf("opacity")>-1?c(d,h.match(/opacity:\s*(\d?\.?\d*)/)[1]):d;for(var g in h)if(g==="opacity")c(d,h[g]);else{var b=g==="float"||g==="cssFloat"?_.styleFloat===void 0?"cssFloat":"styleFloat":g;_[b]=h[g]}return d}var e=fabric.document.createElement("div"),o=typeof e.style.opacity=="string",s=typeof e.style.filter=="string",a=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,c=function(d){return d};o?c=function(d,h){return d.style.opacity=h,d}:s&&(c=function(d,h){var _=d.style;return d.currentStyle&&!d.currentStyle.hasLayout&&(_.zoom=1),a.test(_.filter)?(h=h>=.9999?"":"alpha(opacity="+100*h+")",_.filter=_.filter.replace(a,h)):_.filter+=" alpha(opacity="+100*h+")",d}),fabric.util.setStyle=i}(),function(){function i(b){return typeof b=="string"?fabric.document.getElementById(b):b}function e(b,j){var $=fabric.document.createElement(b);for(var rt in j)rt==="class"?$.className=j[rt]:rt==="for"?$.htmlFor=j[rt]:$.setAttribute(rt,j[rt]);return $}function o(b,j){b&&(" "+b.className+" ").indexOf(" "+j+" ")===-1&&(b.className+=(b.className?" ":"")+j)}function s(b,j,$){return typeof j=="string"&&(j=e(j,$)),b.parentNode&&b.parentNode.replaceChild(j,b),j.appendChild(b),j}function a(b){for(var j=0,$=0,rt=fabric.document.documentElement,lt=fabric.document.body||{scrollLeft:0,scrollTop:0};b&&(b.parentNode||b.host)&&(b=b.parentNode||b.host,b===fabric.document?(j=lt.scrollLeft||rt.scrollLeft||0,$=lt.scrollTop||rt.scrollTop||0):(j+=b.scrollLeft||0,$+=b.scrollTop||0),b.nodeType!==1||fabric.util.getElementStyle(b,"position")!=="fixed"););return{left:j,top:$}}function c(b){var j,$,rt=b&&b.ownerDocument,lt={left:0,top:0},it={left:0,top:0},ht={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!rt)return it;for(var et in ht)it[ht[et]]+=parseInt(g(b,et),10)||0;return j=rt.documentElement,b.getBoundingClientRect!==void 0&&(lt=b.getBoundingClientRect()),$=a(b),{left:lt.left+$.left-(j.clientLeft||0)+it.left,top:lt.top+$.top-(j.clientTop||0)+it.top}}var d,h=Array.prototype.slice,_=function(b){return h.call(b,0)};try{d=_(fabric.document.childNodes)instanceof Array}catch{}d||(_=function(b){for(var j=new Array(b.length),$=b.length;$--;)j[$]=b[$];return j});var g;g=fabric.document.defaultView&&fabric.document.defaultView.getComputedStyle?function(b,j){var $=fabric.document.defaultView.getComputedStyle(b,null);return $?$[j]:void 0}:function(b,j){var $=b.style[j];return!$&&b.currentStyle&&($=b.currentStyle[j]),$},function(){function b(lt){return lt.onselectstart!==void 0&&(lt.onselectstart=fabric.util.falseFunction),rt?lt.style[rt]="none":typeof lt.unselectable=="string"&&(lt.unselectable="on"),lt}function j(lt){return lt.onselectstart!==void 0&&(lt.onselectstart=null),rt?lt.style[rt]="":typeof lt.unselectable=="string"&&(lt.unselectable=""),lt}var $=fabric.document.documentElement.style,rt="userSelect"in $?"userSelect":"MozUserSelect"in $?"MozUserSelect":"WebkitUserSelect"in $?"WebkitUserSelect":"KhtmlUserSelect"in $?"KhtmlUserSelect":"";fabric.util.makeElementUnselectable=b,fabric.util.makeElementSelectable=j}(),function(){function b(j,$){var rt=fabric.document.getElementsByTagName("head")[0],lt=fabric.document.createElement("script"),it=!0;lt.onload=lt.onreadystatechange=function(ht){if(it){if(typeof this.readyState=="string"&&this.readyState!=="loaded"&&this.readyState!=="complete")return;it=!1,$(ht||fabric.window.event),lt=lt.onload=lt.onreadystatechange=null}},lt.src=j,rt.appendChild(lt)}fabric.util.getScript=b}(),fabric.util.getById=i,fabric.util.toArray=_,fabric.util.makeElement=e,fabric.util.addClass=o,fabric.util.wrapElement=s,fabric.util.getScrollLeftTop=a,fabric.util.getElementOffset=c,fabric.util.getElementStyle=g}(),function(){function i(a,c){return a+(/\?/.test(a)?"&":"?")+c}function e(){}function o(a,c){c||(c={});var d=c.method?c.method.toUpperCase():"GET",h=c.onComplete||function(){},_=s(),g=c.body||c.parameters;return _.onreadystatechange=function(){_.readyState===4&&(h(_),_.onreadystatechange=e)},d==="GET"&&(g=null,typeof c.parameters=="string"&&(a=i(a,c.parameters))),_.open(d,a,!0),d!=="POST"&&d!=="PUT"||_.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),_.send(g),_}var s=function(){for(var a=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new XMLHttpRequest}],c=a.length;c--;)try{if(a[c]())return a[c]}catch{}}();fabric.util.request=o}(),fabric.log=function(){},fabric.warn=function(){},typeof console<"u"&&["log","warn"].forEach(function(i){console[i]!==void 0&&typeof console[i].apply=="function"&&(fabric[i]=function(){return console[i].apply(console,arguments)})}),function(){function i(){return!1}function e(a){o(function(c){a||(a={});var d,h=c||+new Date,_=a.duration||500,g=h+_,b=a.onChange||i,j=a.abort||i,$=a.onComplete||i,rt=a.easing||function(et,tt,nt,st){return-nt*Math.cos(et/st*(Math.PI/2))+nt+tt},lt="startValue"in a?a.startValue:0,it="endValue"in a?a.endValue:100,ht=a.byValue||it-lt;a.onStart&&a.onStart(),function et(tt){if(j())return void $(it,1,1);d=tt||+new Date;var nt=d>g?_:d-h,st=nt/_,ut=rt(nt,lt,ht,_),St=Math.abs((ut-lt)/ht);if(b(ut,St,st),d>g)return void(a.onComplete&&a.onComplete());o(et)}(h)})}function o(){return s.apply(fabric.window,arguments)}var s=fabric.window.requestAnimationFrame||fabric.window.webkitRequestAnimationFrame||fabric.window.mozRequestAnimationFrame||fabric.window.oRequestAnimationFrame||fabric.window.msRequestAnimationFrame||function(a){fabric.window.setTimeout(a,1e3/60)};fabric.util.animate=e,fabric.util.requestAnimFrame=o}(),function(){function i(o,s,a){var c="rgba("+parseInt(o[0]+a*(s[0]-o[0]),10)+","+parseInt(o[1]+a*(s[1]-o[1]),10)+","+parseInt(o[2]+a*(s[2]-o[2]),10);return c+=","+(o&&s?parseFloat(o[3]+a*(s[3]-o[3])):1),c+=")"}function e(o,s,a,c){var d=new fabric.Color(o).getSource(),h=new fabric.Color(s).getSource();c=c||{},fabric.util.animate(fabric.util.object.extend(c,{duration:a||500,startValue:d,endValue:h,byValue:h,easing:function(_,g,b,j){return i(g,b,c.colorEasing?c.colorEasing(_,j):1-Math.cos(_/j*(Math.PI/2)))}}))}fabric.util.animateColor=e}(),function(){function i(Ct,pt,gt,bt){return Ct<Math.abs(pt)?(Ct=pt,bt=gt/4):bt=pt===0&&Ct===0?gt/(2*Math.PI)*Math.asin(1):gt/(2*Math.PI)*Math.asin(pt/Ct),{a:Ct,c:pt,p:gt,s:bt}}function e(Ct,pt,gt){return Ct.a*Math.pow(2,10*(pt-=1))*Math.sin((pt*gt-Ct.s)*(2*Math.PI)/Ct.p)}function o(Ct,pt,gt,bt){return gt*((Ct=Ct/bt-1)*Ct*Ct+1)+pt}function s(Ct,pt,gt,bt){return Ct/=bt/2,Ct<1?gt/2*Ct*Ct*Ct+pt:gt/2*((Ct-=2)*Ct*Ct+2)+pt}function a(Ct,pt,gt,bt){return gt*(Ct/=bt)*Ct*Ct*Ct+pt}function c(Ct,pt,gt,bt){return-gt*((Ct=Ct/bt-1)*Ct*Ct*Ct-1)+pt}function d(Ct,pt,gt,bt){return Ct/=bt/2,Ct<1?gt/2*Ct*Ct*Ct*Ct+pt:-gt/2*((Ct-=2)*Ct*Ct*Ct-2)+pt}function h(Ct,pt,gt,bt){return gt*(Ct/=bt)*Ct*Ct*Ct*Ct+pt}function _(Ct,pt,gt,bt){return gt*((Ct=Ct/bt-1)*Ct*Ct*Ct*Ct+1)+pt}function g(Ct,pt,gt,bt){return Ct/=bt/2,Ct<1?gt/2*Ct*Ct*Ct*Ct*Ct+pt:gt/2*((Ct-=2)*Ct*Ct*Ct*Ct+2)+pt}function b(Ct,pt,gt,bt){return-gt*Math.cos(Ct/bt*(Math.PI/2))+gt+pt}function j(Ct,pt,gt,bt){return gt*Math.sin(Ct/bt*(Math.PI/2))+pt}function $(Ct,pt,gt,bt){return-gt/2*(Math.cos(Math.PI*Ct/bt)-1)+pt}function rt(Ct,pt,gt,bt){return Ct===0?pt:gt*Math.pow(2,10*(Ct/bt-1))+pt}function lt(Ct,pt,gt,bt){return Ct===bt?pt+gt:gt*(1-Math.pow(2,-10*Ct/bt))+pt}function it(Ct,pt,gt,bt){return Ct===0?pt:Ct===bt?pt+gt:(Ct/=bt/2,Ct<1?gt/2*Math.pow(2,10*(Ct-1))+pt:gt/2*(2-Math.pow(2,-10*--Ct))+pt)}function ht(Ct,pt,gt,bt){return-gt*(Math.sqrt(1-(Ct/=bt)*Ct)-1)+pt}function et(Ct,pt,gt,bt){return gt*Math.sqrt(1-(Ct=Ct/bt-1)*Ct)+pt}function tt(Ct,pt,gt,bt){return Ct/=bt/2,Ct<1?-gt/2*(Math.sqrt(1-Ct*Ct)-1)+pt:gt/2*(Math.sqrt(1-(Ct-=2)*Ct)+1)+pt}function nt(Ct,pt,gt,bt){var Dt=0,At=gt;return Ct===0?pt:(Ct/=bt)===1?pt+gt:(Dt||(Dt=.3*bt),-e(i(At,gt,Dt,1.70158),Ct,bt)+pt)}function st(Ct,pt,gt,bt){var Dt=0,At=gt;if(Ct===0)return pt;if((Ct/=bt)===1)return pt+gt;Dt||(Dt=.3*bt);var Ot=i(At,gt,Dt,1.70158);return Ot.a*Math.pow(2,-10*Ct)*Math.sin((Ct*bt-Ot.s)*(2*Math.PI)/Ot.p)+Ot.c+pt}function ut(Ct,pt,gt,bt){var Dt=0,At=gt;if(Ct===0)return pt;if((Ct/=bt/2)===2)return pt+gt;Dt||(Dt=bt*(.3*1.5));var Ot=i(At,gt,Dt,1.70158);return Ct<1?-.5*e(Ot,Ct,bt)+pt:Ot.a*Math.pow(2,-10*(Ct-=1))*Math.sin((Ct*bt-Ot.s)*(2*Math.PI)/Ot.p)*.5+Ot.c+pt}function St(Ct,pt,gt,bt,Dt){return Dt===void 0&&(Dt=1.70158),gt*(Ct/=bt)*Ct*((Dt+1)*Ct-Dt)+pt}function jt(Ct,pt,gt,bt,Dt){return Dt===void 0&&(Dt=1.70158),gt*((Ct=Ct/bt-1)*Ct*((Dt+1)*Ct+Dt)+1)+pt}function xt(Ct,pt,gt,bt,Dt){return Dt===void 0&&(Dt=1.70158),Ct/=bt/2,Ct<1?gt/2*(Ct*Ct*((1+(Dt*=1.525))*Ct-Dt))+pt:gt/2*((Ct-=2)*Ct*((1+(Dt*=1.525))*Ct+Dt)+2)+pt}function Rt(Ct,pt,gt,bt){return gt-kt(bt-Ct,0,gt,bt)+pt}function kt(Ct,pt,gt,bt){return(Ct/=bt)<1/2.75?gt*(7.5625*Ct*Ct)+pt:Ct<2/2.75?gt*(7.5625*(Ct-=1.5/2.75)*Ct+.75)+pt:Ct<2.5/2.75?gt*(7.5625*(Ct-=2.25/2.75)*Ct+.9375)+pt:gt*(7.5625*(Ct-=2.625/2.75)*Ct+.984375)+pt}function Wt(Ct,pt,gt,bt){return Ct<bt/2?.5*Rt(2*Ct,0,gt,bt)+pt:.5*kt(2*Ct-bt,0,gt,bt)+.5*gt+pt}fabric.util.ease={easeInQuad:function(Ct,pt,gt,bt){return gt*(Ct/=bt)*Ct+pt},easeOutQuad:function(Ct,pt,gt,bt){return-gt*(Ct/=bt)*(Ct-2)+pt},easeInOutQuad:function(Ct,pt,gt,bt){return Ct/=bt/2,Ct<1?gt/2*Ct*Ct+pt:-gt/2*(--Ct*(Ct-2)-1)+pt},easeInCubic:function(Ct,pt,gt,bt){return gt*(Ct/=bt)*Ct*Ct+pt},easeOutCubic:o,easeInOutCubic:s,easeInQuart:a,easeOutQuart:c,easeInOutQuart:d,easeInQuint:h,easeOutQuint:_,easeInOutQuint:g,easeInSine:b,easeOutSine:j,easeInOutSine:$,easeInExpo:rt,easeOutExpo:lt,easeInOutExpo:it,easeInCirc:ht,easeOutCirc:et,easeInOutCirc:tt,easeInElastic:nt,easeOutElastic:st,easeInOutElastic:ut,easeInBack:St,easeOutBack:jt,easeInOutBack:xt,easeInBounce:Rt,easeOutBounce:kt,easeInOutBounce:Wt}}(),function(i){function e(pt){return pt in Rt?Rt[pt]:pt}function o(pt,gt,bt,Dt){var At,Ot=Object.prototype.toString.call(gt)==="[object Array]";return pt!=="fill"&&pt!=="stroke"||gt!=="none"?pt==="strokeDashArray"?gt=gt==="none"?null:gt.replace(/,/g," ").split(/\s+/).map(function(Pt){return parseFloat(Pt)}):pt==="transformMatrix"?gt=bt&&bt.transformMatrix?st(bt.transformMatrix,it.parseTransformAttribute(gt)):it.parseTransformAttribute(gt):pt==="visible"?(gt=gt!=="none"&&gt!=="hidden",bt&&bt.visible===!1&&(gt=!1)):pt==="opacity"?(gt=parseFloat(gt),bt&&bt.opacity!==void 0&&(gt*=bt.opacity)):pt==="originX"?gt=gt==="start"?"left":gt==="end"?"right":"center":At=Ot?gt.map(nt):nt(gt,Dt):gt="",!Ot&&isNaN(At)?gt:At}function s(pt){for(var gt in kt)if(pt[kt[gt]]!==void 0&&pt[gt]!==""){if(pt[gt]===void 0){if(!it.Object.prototype[gt])continue;pt[gt]=it.Object.prototype[gt]}if(pt[gt].indexOf("url(")!==0){var bt=new it.Color(pt[gt]);pt[gt]=bt.setAlpha(tt(bt.getAlpha()*pt[kt[gt]],2)).toRgba()}}return pt}function a(pt,gt){for(var bt,Dt,At=[],Ot=0;Ot<gt.length;Ot++)bt=gt[Ot],Dt=pt.getElementsByTagName(bt),At=At.concat(Array.prototype.slice.call(Dt));return At}function c(pt,gt){var bt,Dt;pt.replace(/;\s*$/,"").split(";").forEach(function(At){var Ot=At.split(":");bt=Ot[0].trim().toLowerCase(),Dt=Ot[1].trim(),gt[bt]=Dt})}function d(pt,gt){var bt,Dt;for(var At in pt)pt[At]!==void 0&&(bt=At.toLowerCase(),Dt=pt[At],gt[bt]=Dt)}function h(pt,gt){var bt={};for(var Dt in it.cssRules[gt])if(_(pt,Dt.split(" ")))for(var At in it.cssRules[gt][Dt])bt[At]=it.cssRules[gt][Dt][At];return bt}function _(pt,gt){var bt,Dt=!0;return bt=b(pt,gt.pop()),bt&&gt.length&&(Dt=g(pt,gt)),bt&&Dt&&gt.length===0}function g(pt,gt){for(var bt,Dt=!0;pt.parentNode&&pt.parentNode.nodeType===1&&gt.length;)Dt&&(bt=gt.pop()),pt=pt.parentNode,Dt=b(pt,bt);return gt.length===0}function b(pt,gt){var bt,Dt=pt.nodeName,At=pt.getAttribute("class"),Ot=pt.getAttribute("id");if(bt=new RegExp("^"+Dt,"i"),gt=gt.replace(bt,""),Ot&&gt.length&&(bt=new RegExp("#"+Ot+"(?![a-zA-Z\\-]+)","i"),gt=gt.replace(bt,"")),At&&gt.length){At=At.split(" ");for(var Pt=At.length;Pt--;)bt=new RegExp("\\."+At[Pt]+"(?![a-zA-Z\\-]+)","i"),gt=gt.replace(bt,"")}return gt.length===0}function j(pt,gt){var bt;if(pt.getElementById&&(bt=pt.getElementById(gt)),bt)return bt;var Dt,At,Ot=pt.getElementsByTagName("*");for(At=0;At<Ot.length;At++)if(Dt=Ot[At],gt===Dt.getAttribute("id"))return Dt}function $(pt){for(var gt=a(pt,["use","svg:use"]),bt=0;gt.length&&bt<gt.length;){var Dt,At,Ot,Pt,dt,Mt=gt[bt],Nt=Mt.getAttribute("xlink:href").substr(1),ft=Mt.getAttribute("x")||0,yt=Mt.getAttribute("y")||0,wt=j(pt,Nt).cloneNode(!0),_t=(wt.getAttribute("transform")||"")+" translate("+ft+", "+yt+")",Et=gt.length;if(rt(wt),/^svg$/i.test(wt.nodeName)){var It=wt.ownerDocument.createElement("g");for(Ot=0,Pt=wt.attributes,dt=Pt.length;Ot<dt;Ot++)At=Pt.item(Ot),It.setAttribute(At.nodeName,At.nodeValue);for(;wt.firstChild;)It.appendChild(wt.firstChild);wt=It}for(Ot=0,Pt=Mt.attributes,dt=Pt.length;Ot<dt;Ot++)At=Pt.item(Ot),At.nodeName!=="x"&&At.nodeName!=="y"&&At.nodeName!=="xlink:href"&&(At.nodeName==="transform"?_t=At.nodeValue+" "+_t:wt.setAttribute(At.nodeName,At.nodeValue));wt.setAttribute("transform",_t),wt.setAttribute("instantiated_by_use","1"),wt.removeAttribute("id"),Dt=Mt.parentNode,Dt.replaceChild(wt,Mt),gt.length===Et&&bt++}}function rt(pt){var gt,bt,Dt,At,Ot=pt.getAttribute("viewBox"),Pt=1,dt=1,Mt=0,Nt=0,ft=pt.getAttribute("width"),yt=pt.getAttribute("height"),wt=pt.getAttribute("x")||0,_t=pt.getAttribute("y")||0,Et=pt.getAttribute("preserveAspectRatio")||"",It=!Ot||!St.test(pt.nodeName)||!(Ot=Ot.match(Wt)),zt=!ft||!yt||ft==="100%"||yt==="100%",Xt=It&&zt,Ut={},vt="";if(Ut.width=0,Ut.height=0,Ut.toBeParsed=Xt,Xt)return Ut;if(It)return Ut.width=nt(ft),Ut.height=nt(yt),Ut;if(Mt=-parseFloat(Ot[1]),Nt=-parseFloat(Ot[2]),gt=parseFloat(Ot[3]),bt=parseFloat(Ot[4]),zt?(Ut.width=gt,Ut.height=bt):(Ut.width=nt(ft),Ut.height=nt(yt),Pt=Ut.width/gt,dt=Ut.height/bt),Et=it.util.parsePreserveAspectRatioAttribute(Et),Et.alignX!=="none"&&(dt=Pt=Pt>dt?dt:Pt),Pt===1&&dt===1&&Mt===0&&Nt===0&&wt===0&&_t===0)return Ut;if((wt||_t)&&(vt=" translate("+nt(wt)+" "+nt(_t)+") "),Dt=vt+" matrix("+Pt+" 0 0 "+dt+" "+Mt*Pt+" "+Nt*dt+") ",pt.nodeName==="svg"){for(At=pt.ownerDocument.createElement("g");pt.firstChild;)At.appendChild(pt.firstChild);pt.appendChild(At)}else At=pt,Dt=At.getAttribute("transform")+Dt;return At.setAttribute("transform",Dt),Ut}function lt(pt,gt){for(;pt&&(pt=pt.parentNode);)if(pt.nodeName&&gt.test(pt.nodeName.replace("svg:",""))&&!pt.getAttribute("instantiated_by_use"))return!0;return!1}var it=i.fabric||(i.fabric={}),ht=it.util.object.extend,et=it.util.object.clone,tt=it.util.toFixed,nt=it.util.parseUnit,st=it.util.multiplyTransformMatrices,ut=/^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/i,St=/^(symbol|image|marker|pattern|view|svg)$/i,jt=/^(?:pattern|defs|symbol|metadata|clipPath|mask)$/i,xt=/^(symbol|g|a|svg)$/i,Rt={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","stroke-dasharray":"strokeDashArray","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"originX",opacity:"opacity"},kt={stroke:"strokeOpacity",fill:"fillOpacity"};it.cssRules={},it.gradientDefs={},it.parseTransformAttribute=function(){function pt(Ut,vt){var mt=Math.cos(vt[0]),Ft=Math.sin(vt[0]),Yt=0,$t=0;vt.length===3&&(Yt=vt[1],$t=vt[2]),Ut[0]=mt,Ut[1]=Ft,Ut[2]=-Ft,Ut[3]=mt,Ut[4]=Yt-(mt*Yt-Ft*$t),Ut[5]=$t-(Ft*Yt+mt*$t)}function gt(Ut,vt){var mt=vt[0],Ft=vt.length===2?vt[1]:vt[0];Ut[0]=mt,Ut[3]=Ft}function bt(Ut,vt,mt){Ut[mt]=Math.tan(it.util.degreesToRadians(vt[0]))}function Dt(Ut,vt){Ut[4]=vt[0],vt.length===2&&(Ut[5]=vt[1])}var At=[1,0,0,1,0,0],Ot=it.reNum,Pt="(?:\\s+,?\\s*|,\\s*)",dt="(?:(skewX)\\s*\\(\\s*("+Ot+")\\s*\\))",Mt="(?:(skewY)\\s*\\(\\s*("+Ot+")\\s*\\))",Nt="(?:(rotate)\\s*\\(\\s*("+Ot+")(?:"+Pt+"("+Ot+")"+Pt+"("+Ot+"))?\\s*\\))",ft="(?:(scale)\\s*\\(\\s*("+Ot+")(?:"+Pt+"("+Ot+"))?\\s*\\))",yt="(?:(translate)\\s*\\(\\s*("+Ot+")(?:"+Pt+"("+Ot+"))?\\s*\\))",wt="(?:(matrix)\\s*\\(\\s*("+Ot+")"+Pt+"("+Ot+")"+Pt+"("+Ot+")"+Pt+"("+Ot+")"+Pt+"("+Ot+")"+Pt+"("+Ot+")\\s*\\))",_t="(?:"+wt+"|"+yt+"|"+ft+"|"+Nt+"|"+dt+"|"+Mt+")",Et="(?:"+_t+"(?:"+Pt+"*"+_t+")*)",It="^\\s*(?:"+Et+"?)\\s*$",zt=new RegExp(It),Xt=new RegExp(_t,"g");return function(Ut){var vt=At.concat(),mt=[];if(!Ut||Ut&&!zt.test(Ut))return vt;Ut.replace(Xt,function(Yt){var $t=new RegExp(_t).exec(Yt).filter(function(Zt){return!!Zt}),Vt=$t[1],Ht=$t.slice(2).map(parseFloat);switch(Vt){case"translate":Dt(vt,Ht);break;case"rotate":Ht[0]=it.util.degreesToRadians(Ht[0]),pt(vt,Ht);break;case"scale":gt(vt,Ht);break;case"skewX":bt(vt,Ht,2);break;case"skewY":bt(vt,Ht,1);break;case"matrix":vt=Ht}mt.push(vt.concat()),vt=At.concat()});for(var Ft=mt[0];mt.length>1;)mt.shift(),Ft=it.util.multiplyTransformMatrices(Ft,mt[0]);return Ft}}();var Wt=new RegExp("^\\s*("+it.reNum+"+)\\s*,?\\s*("+it.reNum+"+)\\s*,?\\s*("+it.reNum+"+)\\s*,?\\s*("+it.reNum+"+)\\s*$");it.parseSVGDocument=function(pt,gt,bt,Dt){if(pt){$(pt);var At=it.Object.__uid++,Ot=rt(pt),Pt=it.util.toArray(pt.getElementsByTagName("*"));if(Ot.crossOrigin=Dt&&Dt.crossOrigin,Ot.svgUid=At,Pt.length===0&&it.isLikelyNode){Pt=pt.selectNodes('//*[name(.)!="svg"]');for(var dt=[],Mt=0,Nt=Pt.length;Mt<Nt;Mt++)dt[Mt]=Pt[Mt];Pt=dt}var ft=Pt.filter(function(yt){return rt(yt),ut.test(yt.nodeName.replace("svg:",""))&&!lt(yt,jt)});if(!ft||ft&&!ft.length)return void(gt&&gt([],{}));it.gradientDefs[At]=it.getGradientDefs(pt),it.cssRules[At]=it.getCSSRules(pt),it.parseElements(ft,function(yt){gt&&gt(yt,Ot)},et(Ot),bt,Dt)}};var Ct=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+it.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+it.reNum+"))?\\s+(.*)");ht(it,{parseFontDeclaration:function(pt,gt){var bt=pt.match(Ct);if(bt){var Dt=bt[1],At=bt[3],Ot=bt[4],Pt=bt[5],dt=bt[6];Dt&&(gt.fontStyle=Dt),At&&(gt.fontWeight=isNaN(parseFloat(At))?At:parseFloat(At)),Ot&&(gt.fontSize=nt(Ot)),dt&&(gt.fontFamily=dt),Pt&&(gt.lineHeight=Pt==="normal"?1:Pt)}},getGradientDefs:function(pt){var gt,bt,Dt,At=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],Ot=a(pt,At),Pt=0,dt={},Mt={};for(Pt=Ot.length;Pt--;)gt=Ot[Pt],Dt=gt.getAttribute("xlink:href"),bt=gt.getAttribute("id"),Dt&&(Mt[bt]=Dt.substr(1)),dt[bt]=gt;for(bt in Mt){var Nt=dt[Mt[bt]].cloneNode(!0);for(gt=dt[bt];Nt.firstChild;)gt.appendChild(Nt.firstChild)}return dt},parseAttributes:function(pt,gt,bt){if(pt){var Dt,At,Ot={};bt===void 0&&(bt=pt.getAttribute("svgUid")),pt.parentNode&&xt.test(pt.parentNode.nodeName)&&(Ot=it.parseAttributes(pt.parentNode,gt,bt)),At=Ot&&Ot.fontSize||pt.getAttribute("font-size")||it.Text.DEFAULT_SVG_FONT_SIZE;var Pt=gt.reduce(function(wt,_t){return Dt=pt.getAttribute(_t),Dt&&(wt[_t]=Dt),wt},{});Pt=ht(Pt,ht(h(pt,bt),it.parseStyleAttribute(pt)));var dt,Mt,Nt={};for(var ft in Pt)dt=e(ft),Mt=o(dt,Pt[ft],Ot,At),Nt[dt]=Mt;Nt&&Nt.font&&it.parseFontDeclaration(Nt.font,Nt);var yt=ht(Ot,Nt);return xt.test(pt.nodeName)?yt:s(yt)}},parseElements:function(pt,gt,bt,Dt,At){new it.ElementsParser(pt,gt,bt,Dt,At).parse()},parseStyleAttribute:function(pt){var gt={},bt=pt.getAttribute("style");return bt&&(typeof bt=="string"?c(bt,gt):d(bt,gt)),gt},parsePointsAttribute:function(pt){if(!pt)return null;pt=pt.replace(/,/g," ").trim(),pt=pt.split(/\s+/);var gt,bt,Dt=[];for(gt=0,bt=pt.length;gt<bt;gt+=2)Dt.push({x:parseFloat(pt[gt]),y:parseFloat(pt[gt+1])});return Dt},getCSSRules:function(pt){for(var gt,bt=pt.getElementsByTagName("style"),Dt={},At=0,Ot=bt.length;At<Ot;At++){var Pt=bt[At].textContent||bt[At].text;Pt=Pt.replace(/\/\*[\s\S]*?\*\//g,""),Pt.trim()!==""&&(gt=Pt.match(/[^{]*\{[\s\S]*?\}/g),gt=gt.map(function(dt){return dt.trim()}),gt.forEach(function(dt){for(var Mt=dt.match(/([\s\S]*?)\s*\{([^}]*)\}/),Nt={},ft=Mt[2].trim(),yt=ft.replace(/;$/,"").split(/\s*;\s*/),wt=0,_t=yt.length;wt<_t;wt++){var Et=yt[wt].split(/\s*:\s*/),It=Et[0],zt=Et[1];Nt[It]=zt}dt=Mt[1],dt.split(",").forEach(function(Xt){(Xt=Xt.replace(/^svg/i,"").trim())!==""&&(Dt[Xt]?it.util.object.extend(Dt[Xt],Nt):Dt[Xt]=it.util.object.clone(Nt))})}))}return Dt},loadSVGFromURL:function(pt,gt,bt,Dt){function At(Ot){var Pt=Ot.responseXML;Pt&&!Pt.documentElement&&it.window.ActiveXObject&&Ot.responseText&&(Pt=new ActiveXObject("Microsoft.XMLDOM"),Pt.async="false",Pt.loadXML(Ot.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))),Pt&&Pt.documentElement||gt&&gt(null),it.parseSVGDocument(Pt.documentElement,function(dt,Mt){gt&&gt(dt,Mt)},bt,Dt)}pt=pt.replace(/^\n\s*/,"").trim(),new it.util.request(pt,{method:"get",onComplete:At})},loadSVGFromString:function(pt,gt,bt,Dt){pt=pt.trim();var At;if(typeof DOMParser<"u"){var Ot=new DOMParser;Ot&&Ot.parseFromString&&(At=Ot.parseFromString(pt,"text/xml"))}else it.window.ActiveXObject&&(At=new ActiveXObject("Microsoft.XMLDOM"),At.async="false",At.loadXML(pt.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));it.parseSVGDocument(At.documentElement,function(Pt,dt){gt(Pt,dt)},bt,Dt)}})}(exports),fabric.ElementsParser=function(i,e,o,s,a){this.elements=i,this.callback=e,this.options=o,this.reviver=s,this.svgUid=o&&o.svgUid||0,this.parsingOptions=a},fabric.ElementsParser.prototype.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},fabric.ElementsParser.prototype.createObjects=function(){for(var i=0,e=this.elements.length;i<e;i++)this.elements[i].setAttribute("svgUid",this.svgUid),function(o,s){setTimeout(function(){o.createObject(o.elements[s],s)},0)}(this,i)},fabric.ElementsParser.prototype.createObject=function(i,e){var o=fabric[fabric.util.string.capitalize(i.tagName.replace("svg:",""))];if(o&&o.fromElement)try{this._createObject(o,i,e)}catch(s){fabric.log(s)}else this.checkIfDone()},fabric.ElementsParser.prototype._createObject=function(i,e,o){if(i.async)i.fromElement(e,this.createCallback(o,e),this.options);else{var s=i.fromElement(e,this.options);this.resolveGradient(s,"fill"),this.resolveGradient(s,"stroke"),this.reviver&&this.reviver(e,s),this.instances[o]=s,this.checkIfDone()}},fabric.ElementsParser.prototype.createCallback=function(i,e){var o=this;return function(s){o.resolveGradient(s,"fill"),o.resolveGradient(s,"stroke"),o.reviver&&o.reviver(e,s),o.instances[i]=s,o.checkIfDone()}},fabric.ElementsParser.prototype.resolveGradient=function(i,e){var o=i.get(e);if(/^url\(/.test(o)){var s=o.slice(5,o.length-1);fabric.gradientDefs[this.svgUid][s]&&i.set(e,fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][s],i))}},fabric.ElementsParser.prototype.checkIfDone=function(){--this.numElements==0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances))},function(i){function e(s,a){this.x=s,this.y=a}var o=i.fabric||(i.fabric={});if(o.Point)return void o.warn("fabric.Point is already defined");o.Point=e,e.prototype={type:"point",constructor:e,add:function(s){return new e(this.x+s.x,this.y+s.y)},addEquals:function(s){return this.x+=s.x,this.y+=s.y,this},scalarAdd:function(s){return new e(this.x+s,this.y+s)},scalarAddEquals:function(s){return this.x+=s,this.y+=s,this},subtract:function(s){return new e(this.x-s.x,this.y-s.y)},subtractEquals:function(s){return this.x-=s.x,this.y-=s.y,this},scalarSubtract:function(s){return new e(this.x-s,this.y-s)},scalarSubtractEquals:function(s){return this.x-=s,this.y-=s,this},multiply:function(s){return new e(this.x*s,this.y*s)},multiplyEquals:function(s){return this.x*=s,this.y*=s,this},divide:function(s){return new e(this.x/s,this.y/s)},divideEquals:function(s){return this.x/=s,this.y/=s,this},eq:function(s){return this.x===s.x&&this.y===s.y},lt:function(s){return this.x<s.x&&this.y<s.y},lte:function(s){return this.x<=s.x&&this.y<=s.y},gt:function(s){return this.x>s.x&&this.y>s.y},gte:function(s){return this.x>=s.x&&this.y>=s.y},lerp:function(s,a){return a===void 0&&(a=.5),a=Math.max(Math.min(1,a),0),new e(this.x+(s.x-this.x)*a,this.y+(s.y-this.y)*a)},distanceFrom:function(s){var a=this.x-s.x,c=this.y-s.y;return Math.sqrt(a*a+c*c)},midPointFrom:function(s){return this.lerp(s)},min:function(s){return new e(Math.min(this.x,s.x),Math.min(this.y,s.y))},max:function(s){return new e(Math.max(this.x,s.x),Math.max(this.y,s.y))},toString:function(){return this.x+","+this.y},setXY:function(s,a){return this.x=s,this.y=a,this},setX:function(s){return this.x=s,this},setY:function(s){return this.y=s,this},setFromPoint:function(s){return this.x=s.x,this.y=s.y,this},swap:function(s){var a=this.x,c=this.y;this.x=s.x,this.y=s.y,s.x=a,s.y=c},clone:function(){return new e(this.x,this.y)}}}(exports),function(i){function e(s){this.status=s,this.points=[]}var o=i.fabric||(i.fabric={});if(o.Intersection)return void o.warn("fabric.Intersection is already defined");o.Intersection=e,o.Intersection.prototype={constructor:e,appendPoint:function(s){return this.points.push(s),this},appendPoints:function(s){return this.points=this.points.concat(s),this}},o.Intersection.intersectLineLine=function(s,a,c,d){var h,_=(d.x-c.x)*(s.y-c.y)-(d.y-c.y)*(s.x-c.x),g=(a.x-s.x)*(s.y-c.y)-(a.y-s.y)*(s.x-c.x),b=(d.y-c.y)*(a.x-s.x)-(d.x-c.x)*(a.y-s.y);if(b!==0){var j=_/b,$=g/b;0<=j&&j<=1&&0<=$&&$<=1?(h=new e("Intersection"),h.appendPoint(new o.Point(s.x+j*(a.x-s.x),s.y+j*(a.y-s.y)))):h=new e}else h=new e(_===0||g===0?"Coincident":"Parallel");return h},o.Intersection.intersectLinePolygon=function(s,a,c){for(var d,h,_,g=new e,b=c.length,j=0;j<b;j++)d=c[j],h=c[(j+1)%b],_=e.intersectLineLine(s,a,d,h),g.appendPoints(_.points);return g.points.length>0&&(g.status="Intersection"),g},o.Intersection.intersectPolygonPolygon=function(s,a){for(var c=new e,d=s.length,h=0;h<d;h++){var _=s[h],g=s[(h+1)%d],b=e.intersectLinePolygon(_,g,a);c.appendPoints(b.points)}return c.points.length>0&&(c.status="Intersection"),c},o.Intersection.intersectPolygonRectangle=function(s,a,c){var d=a.min(c),h=a.max(c),_=new o.Point(h.x,d.y),g=new o.Point(d.x,h.y),b=e.intersectLinePolygon(d,_,s),j=e.intersectLinePolygon(_,h,s),$=e.intersectLinePolygon(h,g,s),rt=e.intersectLinePolygon(g,d,s),lt=new e;return lt.appendPoints(b.points),lt.appendPoints(j.points),lt.appendPoints($.points),lt.appendPoints(rt.points),lt.points.length>0&&(lt.status="Intersection"),lt}}(exports),function(i){function e(a){a?this._tryParsingColor(a):this.setSource([0,0,0,1])}function o(a,c,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?a+6*(c-a)*d:d<.5?c:d<2/3?a+(c-a)*(2/3-d)*6:a}var s=i.fabric||(i.fabric={});if(s.Color)return void s.warn("fabric.Color is already defined.");s.Color=e,s.Color.prototype={_tryParsingColor:function(a){var c;a in e.colorNameMap&&(a=e.colorNameMap[a]),a==="transparent"&&(c=[255,255,255,0]),c||(c=e.sourceFromHex(a)),c||(c=e.sourceFromRgb(a)),c||(c=e.sourceFromHsl(a)),c||(c=[0,0,0,1]),c&&this.setSource(c)},_rgbToHsl:function(a,c,d){a/=255,c/=255,d/=255;var h,_,g,b=s.util.array.max([a,c,d]),j=s.util.array.min([a,c,d]);if(g=(b+j)/2,b===j)h=_=0;else{var $=b-j;switch(_=g>.5?$/(2-b-j):$/(b+j),b){case a:h=(c-d)/$+(c<d?6:0);break;case c:h=(d-a)/$+2;break;case d:h=(a-c)/$+4}h/=6}return[Math.round(360*h),Math.round(100*_),Math.round(100*g)]},getSource:function(){return this._source},setSource:function(a){this._source=a},toRgb:function(){var a=this.getSource();return"rgb("+a[0]+","+a[1]+","+a[2]+")"},toRgba:function(){var a=this.getSource();return"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")"},toHsl:function(){var a=this.getSource(),c=this._rgbToHsl(a[0],a[1],a[2]);return"hsl("+c[0]+","+c[1]+"%,"+c[2]+"%)"},toHsla:function(){var a=this.getSource(),c=this._rgbToHsl(a[0],a[1],a[2]);return"hsla("+c[0]+","+c[1]+"%,"+c[2]+"%,"+a[3]+")"},toHex:function(){var a,c,d,h=this.getSource();return a=h[0].toString(16),a=a.length===1?"0"+a:a,c=h[1].toString(16),c=c.length===1?"0"+c:c,d=h[2].toString(16),d=d.length===1?"0"+d:d,a.toUpperCase()+c.toUpperCase()+d.toUpperCase()},toHexa:function(){var a,c=this.getSource();return a=255*c[3],a=a.toString(16),a=a.length===1?"0"+a:a,this.toHex()+a.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(a){var c=this.getSource();return c[3]=a,this.setSource(c),this},toGrayscale:function(){var a=this.getSource(),c=parseInt((.3*a[0]+.59*a[1]+.11*a[2]).toFixed(0),10),d=a[3];return this.setSource([c,c,c,d]),this},toBlackWhite:function(a){var c=this.getSource(),d=(.3*c[0]+.59*c[1]+.11*c[2]).toFixed(0),h=c[3];return a=a||127,d=Number(d)<Number(a)?0:255,this.setSource([d,d,d,h]),this},overlayWith:function(a){a instanceof e||(a=new e(a));for(var c=[],d=this.getAlpha(),h=this.getSource(),_=a.getSource(),g=0;g<3;g++)c.push(Math.round(.5*h[g]+.5*_[g]));return c[3]=d,this.setSource(c),this}},s.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/,s.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,s.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,s.Color.colorNameMap={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",fuchsia:"#FF00FF",gray:"#808080",grey:"#808080",green:"#008000",lime:"#00FF00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#FFA500",purple:"#800080",red:"#FF0000",silver:"#C0C0C0",teal:"#008080",white:"#FFFFFF",yellow:"#FFFF00"},s.Color.fromRgb=function(a){return e.fromSource(e.sourceFromRgb(a))},s.Color.sourceFromRgb=function(a){var c=a.match(e.reRGBa);if(c){var d=parseInt(c[1],10)/(/%$/.test(c[1])?100:1)*(/%$/.test(c[1])?255:1),h=parseInt(c[2],10)/(/%$/.test(c[2])?100:1)*(/%$/.test(c[2])?255:1),_=parseInt(c[3],10)/(/%$/.test(c[3])?100:1)*(/%$/.test(c[3])?255:1);return[parseInt(d,10),parseInt(h,10),parseInt(_,10),c[4]?parseFloat(c[4]):1]}},s.Color.fromRgba=e.fromRgb,s.Color.fromHsl=function(a){return e.fromSource(e.sourceFromHsl(a))},s.Color.sourceFromHsl=function(a){var c=a.match(e.reHSLa);if(c){var d,h,_,g=(parseFloat(c[1])%360+360)%360/360,b=parseFloat(c[2])/(/%$/.test(c[2])?100:1),j=parseFloat(c[3])/(/%$/.test(c[3])?100:1);if(b===0)d=h=_=j;else{var $=j<=.5?j*(b+1):j+b-j*b,rt=2*j-$;d=o(rt,$,g+1/3),h=o(rt,$,g),_=o(rt,$,g-1/3)}return[Math.round(255*d),Math.round(255*h),Math.round(255*_),c[4]?parseFloat(c[4]):1]}},s.Color.fromHsla=e.fromHsl,s.Color.fromHex=function(a){return e.fromSource(e.sourceFromHex(a))},s.Color.sourceFromHex=function(a){if(a.match(e.reHex)){var c=a.slice(a.indexOf("#")+1),d=c.length===3||c.length===4,h=c.length===8||c.length===4,_=d?c.charAt(0)+c.charAt(0):c.substring(0,2),g=d?c.charAt(1)+c.charAt(1):c.substring(2,4),b=d?c.charAt(2)+c.charAt(2):c.substring(4,6),j=h?d?c.charAt(3)+c.charAt(3):c.substring(6,8):"FF";return[parseInt(_,16),parseInt(g,16),parseInt(b,16),parseFloat((parseInt(j,16)/255).toFixed(2))]}},s.Color.fromSource=function(a){var c=new e;return c.setSource(a),c}}(exports),function(){function i(c){var d,h,_,g=c.getAttribute("style"),b=c.getAttribute("offset")||0;if(b=parseFloat(b)/(/%$/.test(b)?100:1),b=b<0?0:b>1?1:b,g){var j=g.split(/\s*;\s*/);j[j.length-1]===""&&j.pop();for(var $=j.length;$--;){var rt=j[$].split(/\s*:\s*/),lt=rt[0].trim(),it=rt[1].trim();lt==="stop-color"?d=it:lt==="stop-opacity"&&(_=it)}}return d||(d=c.getAttribute("stop-color")||"rgb(0,0,0)"),_||(_=c.getAttribute("stop-opacity")),d=new fabric.Color(d),h=d.getAlpha(),_=isNaN(parseFloat(_))?1:parseFloat(_),_*=h,{offset:b,color:d.toRgb(),opacity:_}}function e(c){return{x1:c.getAttribute("x1")||0,y1:c.getAttribute("y1")||0,x2:c.getAttribute("x2")||"100%",y2:c.getAttribute("y2")||0}}function o(c){return{x1:c.getAttribute("fx")||c.getAttribute("cx")||"50%",y1:c.getAttribute("fy")||c.getAttribute("cy")||"50%",r1:0,x2:c.getAttribute("cx")||"50%",y2:c.getAttribute("cy")||"50%",r2:c.getAttribute("r")||"50%"}}function s(c,d,h){var _,g=0,b=1,j="";for(var $ in d)d[$]==="Infinity"?d[$]=1:d[$]==="-Infinity"&&(d[$]=0),_=parseFloat(d[$],10),b=typeof d[$]=="string"&&/^\d+%$/.test(d[$])?.01:1,$==="x1"||$==="x2"||$==="r2"?(b*=h==="objectBoundingBox"?c.width:1,g=h==="objectBoundingBox"&&c.left||0):$!=="y1"&&$!=="y2"||(b*=h==="objectBoundingBox"?c.height:1,g=h==="objectBoundingBox"&&c.top||0),d[$]=_*b+g;if(c.type==="ellipse"&&d.r2!==null&&h==="objectBoundingBox"&&c.rx!==c.ry){var rt=c.ry/c.rx;j=" scale(1, "+rt+")",d.y1&&(d.y1/=rt),d.y2&&(d.y2/=rt)}return j}var a=fabric.util.object.clone;fabric.Gradient=fabric.util.createClass({offsetX:0,offsetY:0,initialize:function(c){c||(c={});var d={};this.id=fabric.Object.__uid++,this.type=c.type||"linear",d={x1:c.coords.x1||0,y1:c.coords.y1||0,x2:c.coords.x2||0,y2:c.coords.y2||0},this.type==="radial"&&(d.r1=c.coords.r1||0,d.r2=c.coords.r2||0),this.coords=d,this.colorStops=c.colorStops.slice(),c.gradientTransform&&(this.gradientTransform=c.gradientTransform),this.offsetX=c.offsetX||this.offsetX,this.offsetY=c.offsetY||this.offsetY},addColorStop:function(c){for(var d in c){var h=new fabric.Color(c[d]);this.colorStops.push({offset:parseFloat(d),color:h.toRgb(),opacity:h.getAlpha()})}return this},toObject:function(c){var d={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return fabric.util.populateWithProperties(this,d,c),d},toSVG:function(c){var d,h,_=a(this.coords,!0),g=a(this.colorStops,!0),b=_.r1>_.r2;if(g.sort(function(et,tt){return et.offset-tt.offset}),!c.group||c.group.type!=="path-group")for(var j in _)j==="x1"||j==="x2"?_[j]+=this.offsetX-c.width/2:j!=="y1"&&j!=="y2"||(_[j]+=this.offsetY-c.height/2);if(h='id="SVGID_'+this.id+'" gradientUnits="userSpaceOnUse"',this.gradientTransform&&(h+=' gradientTransform="matrix('+this.gradientTransform.join(" ")+')" '),this.type==="linear"?d=["<linearGradient ",h,' x1="',_.x1,'" y1="',_.y1,'" x2="',_.x2,'" y2="',_.y2,`">
`]:this.type==="radial"&&(d=["<radialGradient ",h,' cx="',b?_.x1:_.x2,'" cy="',b?_.y1:_.y2,'" r="',b?_.r1:_.r2,'" fx="',b?_.x2:_.x1,'" fy="',b?_.y2:_.y1,`">
`]),this.type==="radial"){if(b){g=g.concat(),g.reverse();for(var $=0;$<g.length;$++)g[$].offset=1-g[$].offset}var rt=Math.min(_.r1,_.r2);if(rt>0)for(var lt=Math.max(_.r1,_.r2),it=rt/lt,$=0;$<g.length;$++)g[$].offset+=it*(1-g[$].offset)}for(var $=0;$<g.length;$++){var ht=g[$];d.push("<stop ",'offset="',100*ht.offset+"%",'" style="stop-color:',ht.color,ht.opacity!==null?";stop-opacity: "+ht.opacity:";",`"/>
`)}return d.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),d.join("")},toLive:function(c,d){var h,_,g=fabric.util.object.clone(this.coords);if(this.type){if(d.group&&d.group.type==="path-group")for(_ in g)_==="x1"||_==="x2"?g[_]+=-this.offsetX+d.width/2:_!=="y1"&&_!=="y2"||(g[_]+=-this.offsetY+d.height/2);this.type==="linear"?h=c.createLinearGradient(g.x1,g.y1,g.x2,g.y2):this.type==="radial"&&(h=c.createRadialGradient(g.x1,g.y1,g.r1,g.x2,g.y2,g.r2));for(var b=0,j=this.colorStops.length;b<j;b++){var $=this.colorStops[b].color,rt=this.colorStops[b].opacity,lt=this.colorStops[b].offset;rt!==void 0&&($=new fabric.Color($).setAlpha(rt).toRgba()),h.addColorStop(lt,$)}return h}}}),fabric.util.object.extend(fabric.Gradient,{fromElement:function(c,d){var h,_,g,b=c.getElementsByTagName("stop"),j=c.getAttribute("gradientUnits")||"objectBoundingBox",$=c.getAttribute("gradientTransform"),rt=[];h=c.nodeName==="linearGradient"||c.nodeName==="LINEARGRADIENT"?"linear":"radial",h==="linear"?_=e(c):h==="radial"&&(_=o(c));for(var lt=b.length;lt--;)rt.push(i(b[lt]));g=s(d,_,j);var it=new fabric.Gradient({type:h,coords:_,colorStops:rt,offsetX:-d.left,offsetY:-d.top});return($||g!=="")&&(it.gradientTransform=fabric.parseTransformAttribute(($||"")+g)),it},forObject:function(c,d){return d||(d={}),s(c,d.coords,"userSpaceOnUse"),new fabric.Gradient(d)}})}(),function(){var i=fabric.util.toFixed;fabric.Pattern=fabric.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,initialize:function(e,o){if(e||(e={}),this.id=fabric.Object.__uid++,this.setOptions(e),!e.source||e.source&&typeof e.source!="string")return void(o&&o(this));if(fabric.util.getFunctionBody(e.source)!==void 0)this.source=new Function(fabric.util.getFunctionBody(e.source)),o&&o(this);else{var s=this;this.source=fabric.util.createImage(),fabric.util.loadImage(e.source,function(a){s.source=a,o&&o(s)})}},toObject:function(e){var o,s,a=fabric.Object.NUM_FRACTION_DIGITS;return typeof this.source=="function"?o=String(this.source):typeof this.source.src=="string"?o=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(o=this.source.toDataURL()),s={type:"pattern",source:o,repeat:this.repeat,offsetX:i(this.offsetX,a),offsetY:i(this.offsetY,a)},fabric.util.populateWithProperties(this,s,e),s},toSVG:function(e){var o=typeof this.source=="function"?this.source():this.source,s=o.width/e.width,a=o.height/e.height,c=this.offsetX/e.width,d=this.offsetY/e.height,h="";return this.repeat!=="repeat-x"&&this.repeat!=="no-repeat"||(a=1),this.repeat!=="repeat-y"&&this.repeat!=="no-repeat"||(s=1),o.src?h=o.src:o.toDataURL&&(h=o.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+c+'" y="'+d+'" width="'+s+'" height="'+a+`">
<image x="0" y="0" width="`+o.width+'" height="'+o.height+'" xlink:href="'+h+`"></image>
</pattern>
`},setOptions:function(e){for(var o in e)this[o]=e[o]},toLive:function(e){var o=typeof this.source=="function"?this.source():this.source;return!o||o.src!==void 0&&(!o.complete||o.naturalWidth===0||o.naturalHeight===0)?"":e.createPattern(o,this.repeat)}})}(),function(i){var e=i.fabric||(i.fabric={}),o=e.util.toFixed;if(e.Shadow)return void e.warn("fabric.Shadow is already defined.");e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,initialize:function(s){typeof s=="string"&&(s=this._parseShadow(s));for(var a in s)this[a]=s[a];this.id=e.Object.__uid++},_parseShadow:function(s){var a=s.trim(),c=e.Shadow.reOffsetsAndBlur.exec(a)||[];return{color:(a.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(c[1],10)||0,offsetY:parseInt(c[2],10)||0,blur:parseInt(c[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(s){var a=40,c=40,d=e.Object.NUM_FRACTION_DIGITS,h=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-s.angle));return s.width&&s.height&&(a=100*o((Math.abs(h.x)+this.blur)/s.width,d)+20,c=100*o((Math.abs(h.y)+this.blur)/s.height,d)+20),s.flipX&&(h.x*=-1),s.flipY&&(h.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+c+'%" height="'+(100+2*c)+'%" x="-'+a+'%" width="'+(100+2*a)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+o(this.blur?this.blur/2:0,d)+`"></feGaussianBlur>
	<feOffset dx="`+o(h.x,d)+'" dy="'+o(h.y,d)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+this.color+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke};var s={},a=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke"].forEach(function(c){this[c]!==a[c]&&(s[c]=this[c])},this),s}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/}(exports),function(){if(fabric.StaticCanvas)return void fabric.warn("fabric.StaticCanvas is already defined.");var i=fabric.util.object.extend,e=fabric.util.getElementOffset,o=fabric.util.removeFromArray,s=fabric.util.toFixed,a=fabric.util.transformPoint,c=fabric.util.invertTransform,d=new Error("Could not initialize `canvas` element");fabric.StaticCanvas=fabric.util.createClass(fabric.CommonMethods,{initialize:function(h,_){_||(_={}),this._initStatic(h,_)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:fabric.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!1,_initStatic:function(h,_){var g=fabric.StaticCanvas.prototype.renderAll.bind(this);this._objects=[],this._createLowerCanvas(h),this._initOptions(_),this._setImageSmoothing(),this.interactive||this._initRetinaScaling(),_.overlayImage&&this.setOverlayImage(_.overlayImage,g),_.backgroundImage&&this.setBackgroundImage(_.backgroundImage,g),_.backgroundColor&&this.setBackgroundColor(_.backgroundColor,g),_.overlayColor&&this.setOverlayColor(_.overlayColor,g),this.calcOffset()},_isRetinaScaling:function(){return fabric.devicePixelRatio!==1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?fabric.devicePixelRatio:1},_initRetinaScaling:function(){this._isRetinaScaling()&&(this.lowerCanvasEl.setAttribute("width",this.width*fabric.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*fabric.devicePixelRatio),this.contextContainer.scale(fabric.devicePixelRatio,fabric.devicePixelRatio))},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(h,_,g){return this.__setBgOverlayImage("overlayImage",h,_,g)},setBackgroundImage:function(h,_,g){return this.__setBgOverlayImage("backgroundImage",h,_,g)},setOverlayColor:function(h,_){return this.__setBgOverlayColor("overlayColor",h,_)},setBackgroundColor:function(h,_){return this.__setBgOverlayColor("backgroundColor",h,_)},_setImageSmoothing:function(){var h=this.getContext();h.imageSmoothingEnabled=h.imageSmoothingEnabled||h.webkitImageSmoothingEnabled||h.mozImageSmoothingEnabled||h.msImageSmoothingEnabled||h.oImageSmoothingEnabled,h.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(h,_,g,b){return typeof _=="string"?fabric.util.loadImage(_,function(j){j&&(this[h]=new fabric.Image(j,b)),g&&g(j)},this,b&&b.crossOrigin):(b&&_.setOptions(b),this[h]=_,g&&g(_)),this},__setBgOverlayColor:function(h,_,g){return this[h]=_,this._initGradient(_,h),this._initPattern(_,h,g),this},_createCanvasElement:function(h){var _=fabric.util.createCanvasElement(h);if(_.style||(_.style={}),!_||_.getContext===void 0)throw d;return _},_initOptions:function(h){this._setOptions(h),this.width=this.width||parseInt(this.lowerCanvasEl.width,10)||0,this.height=this.height||parseInt(this.lowerCanvasEl.height,10)||0,this.lowerCanvasEl.style&&(this.lowerCanvasEl.width=this.width,this.lowerCanvasEl.height=this.height,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(h){this.lowerCanvasEl=fabric.util.getById(h)||this._createCanvasElement(h),fabric.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(h,_){return this.setDimensions({width:h},_)},setHeight:function(h,_){return this.setDimensions({height:h},_)},setDimensions:function(h,_){var g;_=_||{};for(var b in h)g=h[b],_.cssOnly||(this._setBackstoreDimension(b,h[b]),g+="px"),_.backstoreOnly||this._setCssDimension(b,g);return this._initRetinaScaling(),this._setImageSmoothing(),this.calcOffset(),_.cssOnly||this.renderAll(),this},_setBackstoreDimension:function(h,_){return this.lowerCanvasEl[h]=_,this.upperCanvasEl&&(this.upperCanvasEl[h]=_),this.cacheCanvasEl&&(this.cacheCanvasEl[h]=_),this[h]=_,this},_setCssDimension:function(h,_){return this.lowerCanvasEl.style[h]=_,this.upperCanvasEl&&(this.upperCanvasEl.style[h]=_),this.wrapperEl&&(this.wrapperEl.style[h]=_),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(h){var _,g=this._activeGroup;this.viewportTransform=h;for(var b=0,j=this._objects.length;b<j;b++)_=this._objects[b],_.group||_.setCoords(!1,!0);return g&&g.setCoords(!1,!0),this.calcViewportBoundaries(),this.renderAll(),this},zoomToPoint:function(h,_){var g=h,b=this.viewportTransform.slice(0);h=a(h,c(this.viewportTransform)),b[0]=_,b[3]=_;var j=a(h,b);return b[4]+=g.x-j.x,b[5]+=g.y-j.y,this.setViewportTransform(b)},setZoom:function(h){return this.zoomToPoint(new fabric.Point(0,0),h),this},absolutePan:function(h){var _=this.viewportTransform.slice(0);return _[4]=-h.x,_[5]=-h.y,this.setViewportTransform(_)},relativePan:function(h){return this.absolutePan(new fabric.Point(-h.x-this.viewportTransform[4],-h.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(h){this.stateful&&h.setupState(),h._set("canvas",this),h.setCoords(),this.fire("object:added",{target:h}),h.fire("added")},_onObjectRemoved:function(h){this.fire("object:removed",{target:h}),h.fire("removed"),delete h.canvas},clearContext:function(h){return h.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderAll(),this},renderAll:function(){var h=this.contextContainer;return this.renderCanvas(h,this._objects),this},calcViewportBoundaries:function(){var h={},_=this.getWidth(),g=this.getHeight(),b=c(this.viewportTransform);return h.tl=a({x:0,y:0},b),h.br=a({x:_,y:g},b),h.tr=new fabric.Point(h.br.x,h.tl.y),h.bl=new fabric.Point(h.tl.x,h.br.y),this.vptCoords=h,h},renderCanvas:function(h,_){this.calcViewportBoundaries(),this.clearContext(h),this.fire("before:render"),this.clipTo&&fabric.util.clipContext(this,h),this._renderBackground(h),h.save(),h.transform.apply(h,this.viewportTransform),this._renderObjects(h,_),h.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(h),this.clipTo&&h.restore(),this._renderOverlay(h),this.controlsAboveOverlay&&this.interactive&&this.drawControls(h),this.fire("after:render")},_renderObjects:function(h,_){for(var g=0,b=_.length;g<b;++g)_[g]&&_[g].render(h)},_renderBackgroundOrOverlay:function(h,_){var g=this[_+"Color"];g&&(h.fillStyle=g.toLive?g.toLive(h,this):g,h.fillRect(g.offsetX||0,g.offsetY||0,this.width,this.height)),(g=this[_+"Image"])&&(this[_+"Vpt"]&&(h.save(),h.transform.apply(h,this.viewportTransform)),g.render(h),this[_+"Vpt"]&&h.restore())},_renderBackground:function(h){this._renderBackgroundOrOverlay(h,"background")},_renderOverlay:function(h){this._renderBackgroundOrOverlay(h,"overlay")},getCenter:function(){return{top:this.getHeight()/2,left:this.getWidth()/2}},centerObjectH:function(h){return this._centerObject(h,new fabric.Point(this.getCenter().left,h.getCenterPoint().y))},centerObjectV:function(h){return this._centerObject(h,new fabric.Point(h.getCenterPoint().x,this.getCenter().top))},centerObject:function(h){var _=this.getCenter();return this._centerObject(h,new fabric.Point(_.left,_.top))},viewportCenterObject:function(h){var _=this.getVpCenter();return this._centerObject(h,_)},viewportCenterObjectH:function(h){var _=this.getVpCenter();return this._centerObject(h,new fabric.Point(_.x,h.getCenterPoint().y)),this},viewportCenterObjectV:function(h){var _=this.getVpCenter();return this._centerObject(h,new fabric.Point(h.getCenterPoint().x,_.y))},getVpCenter:function(){var h=this.getCenter(),_=c(this.viewportTransform);return a({x:h.left,y:h.top},_)},_centerObject:function(h,_){return h.setPositionByOrigin(_,"center","center"),this.renderAll(),this},toDatalessJSON:function(h){return this.toDatalessObject(h)},toObject:function(h){return this._toObjectMethod("toObject",h)},toDatalessObject:function(h){return this._toObjectMethod("toDatalessObject",h)},_toObjectMethod:function(h,_){var g={objects:this._toObjects(h,_)};return i(g,this.__serializeBgOverlay(h,_)),fabric.util.populateWithProperties(this,g,_),g},_toObjects:function(h,_){return this.getObjects().filter(function(g){return!g.excludeFromExport}).map(function(g){return this._toObject(g,h,_)},this)},_toObject:function(h,_,g){var b;this.includeDefaultValues||(b=h.includeDefaultValues,h.includeDefaultValues=!1);var j=h[_](g);return this.includeDefaultValues||(h.includeDefaultValues=b),j},__serializeBgOverlay:function(h,_){var g={},b=this.backgroundImage,j=this.overlayImage;return this.backgroundColor&&(g.background=this.backgroundColor.toObject?this.backgroundColor.toObject(_):this.backgroundColor),this.overlayColor&&(g.overlay=this.overlayColor.toObject?this.overlayColor.toObject(_):this.overlayColor),b&&!b.excludeFromExport&&(g.backgroundImage=this._toObject(b,h,_)),j&&!j.excludeFromExport&&(g.overlayImage=this._toObject(j,h,_)),g},svgViewportTransformation:!0,toSVG:function(h,_){h||(h={});var g=[];return this._setSVGPreamble(g,h),this._setSVGHeader(g,h),this._setSVGBgOverlayColor(g,"backgroundColor"),this._setSVGBgOverlayImage(g,"backgroundImage",_),this._setSVGObjects(g,_),this._setSVGBgOverlayColor(g,"overlayColor"),this._setSVGBgOverlayImage(g,"overlayImage",_),g.push("</svg>"),g.join("")},_setSVGPreamble:function(h,_){_.suppressPreamble||h.push('<?xml version="1.0" encoding="',_.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(h,_){var g,b=_.width||this.width,j=_.height||this.height,$='viewBox="0 0 '+this.width+" "+this.height+'" ',rt=fabric.Object.NUM_FRACTION_DIGITS;_.viewBox?$='viewBox="'+_.viewBox.x+" "+_.viewBox.y+" "+_.viewBox.width+" "+_.viewBox.height+'" ':this.svgViewportTransformation&&(g=this.viewportTransform,$='viewBox="'+s(-g[4]/g[0],rt)+" "+s(-g[5]/g[3],rt)+" "+s(this.width/g[0],rt)+" "+s(this.height/g[3],rt)+'" '),h.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',b,'" ','height="',j,'" ',$,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",fabric.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),`</defs>
`)},createSVGRefElementsMarkup:function(){var h=this;return["backgroundColor","overlayColor"].map(function(_){var g=h[_];if(g&&g.toLive)return g.toSVG(h,!1)}).join("")},createSVGFontFacesMarkup:function(){for(var h,_,g,b,j,$,rt,lt="",it={},ht=fabric.fontPaths,et=this.getObjects(),tt=0,nt=et.length;tt<nt;tt++)if(h=et[tt],_=h.fontFamily,h.type.indexOf("text")!==-1&&!it[_]&&ht[_]&&(it[_]=!0,h.styles)){g=h.styles;for(j in g){b=g[j];for(rt in b)$=b[rt],_=$.fontFamily,!it[_]&&ht[_]&&(it[_]=!0)}}for(var st in it)lt+=[`		@font-face {
`,"			font-family: '",st,`';
`,"			src: url('",ht[st],`');
`,`		}
`].join("");return lt&&(lt=['	<style type="text/css">',`<![CDATA[
`,lt,"]]>",`</style>
`].join("")),lt},_setSVGObjects:function(h,_){for(var g,b=0,j=this.getObjects(),$=j.length;b<$;b++)g=j[b],g.excludeFromExport||this._setSVGObject(h,g,_)},_setSVGObject:function(h,_,g){h.push(_.toSVG(g))},_setSVGBgOverlayImage:function(h,_,g){this[_]&&this[_].toSVG&&h.push(this[_].toSVG(g))},_setSVGBgOverlayColor:function(h,_){var g=this[_];if(g)if(g.toLive){var b=g.repeat;h.push('<rect transform="translate(',this.width/2,",",this.height/2,')"',' x="',g.offsetX-this.width/2,'" y="',g.offsetY-this.height/2,'" ','width="',b==="repeat-y"||b==="no-repeat"?g.source.width:this.width,'" height="',b==="repeat-x"||b==="no-repeat"?g.source.height:this.height,'" fill="url(#SVGID_'+g.id+')"',`></rect>
`)}else h.push('<rect x="0" y="0" ','width="',this.width,'" height="',this.height,'" fill="',this[_],'"',`></rect>
`)},sendToBack:function(h){if(!h)return this;var _,g,b,j=this._activeGroup;if(h===j)for(b=j._objects,_=b.length;_--;)g=b[_],o(this._objects,g),this._objects.unshift(g);else o(this._objects,h),this._objects.unshift(h);return this.renderAll&&this.renderAll()},bringToFront:function(h){if(!h)return this;var _,g,b,j=this._activeGroup;if(h===j)for(b=j._objects,_=0;_<b.length;_++)g=b[_],o(this._objects,g),this._objects.push(g);else o(this._objects,h),this._objects.push(h);return this.renderAll&&this.renderAll()},sendBackwards:function(h,_){if(!h)return this;var g,b,j,$,rt,lt=this._activeGroup,it=0;if(h===lt)for(rt=lt._objects,g=0;g<rt.length;g++)b=rt[g],j=this._objects.indexOf(b),j>0+it&&($=j-1,o(this._objects,b),this._objects.splice($,0,b)),it++;else(j=this._objects.indexOf(h))!==0&&($=this._findNewLowerIndex(h,j,_),o(this._objects,h),this._objects.splice($,0,h));return this.renderAll&&this.renderAll(),this},_findNewLowerIndex:function(h,_,g){var b;if(g){b=_;for(var j=_-1;j>=0;--j)if(h.intersectsWithObject(this._objects[j])||h.isContainedWithinObject(this._objects[j])||this._objects[j].isContainedWithinObject(h)){b=j;break}}else b=_-1;return b},bringForward:function(h,_){if(!h)return this;var g,b,j,$,rt,lt=this._activeGroup,it=0;if(h===lt)for(rt=lt._objects,g=rt.length;g--;)b=rt[g],j=this._objects.indexOf(b),j<this._objects.length-1-it&&($=j+1,o(this._objects,b),this._objects.splice($,0,b)),it++;else(j=this._objects.indexOf(h))!==this._objects.length-1&&($=this._findNewUpperIndex(h,j,_),o(this._objects,h),this._objects.splice($,0,h));return this.renderAll&&this.renderAll(),this},_findNewUpperIndex:function(h,_,g){var b;if(g){b=_;for(var j=_+1;j<this._objects.length;++j)if(h.intersectsWithObject(this._objects[j])||h.isContainedWithinObject(this._objects[j])||this._objects[j].isContainedWithinObject(h)){b=j;break}}else b=_+1;return b},moveTo:function(h,_){return o(this._objects,h),this._objects.splice(_,0,h),this.renderAll&&this.renderAll()},dispose:function(){return this.clear(),this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this.getObjects().length+" }>"}}),i(fabric.StaticCanvas.prototype,fabric.Observable),i(fabric.StaticCanvas.prototype,fabric.Collection),i(fabric.StaticCanvas.prototype,fabric.DataURLExporter),i(fabric.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(h){var _=fabric.util.createCanvasElement();if(!_||!_.getContext)return null;var g=_.getContext("2d");if(!g)return null;switch(h){case"getImageData":return g.getImageData!==void 0;case"setLineDash":return g.setLineDash!==void 0;case"toDataURL":return _.toDataURL!==void 0;case"toDataURLWithQuality":try{return _.toDataURL("image/jpeg",0),!0}catch{}return!1;default:return null}}}),fabric.StaticCanvas.prototype.toJSON=fabric.StaticCanvas.prototype.toObject}(),fabric.BaseBrush=fabric.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:null,setShadow:function(i){return this.shadow=new fabric.Shadow(i),this},_setBrushStyles:function(){var i=this.canvas.contextTop;i.strokeStyle=this.color,i.lineWidth=this.width,i.lineCap=this.strokeLineCap,i.lineJoin=this.strokeLineJoin,this.strokeDashArray&&fabric.StaticCanvas.supports("setLineDash")&&i.setLineDash(this.strokeDashArray)},_setShadow:function(){if(this.shadow){var i=this.canvas.contextTop,e=this.canvas.getZoom();i.shadowColor=this.shadow.color,i.shadowBlur=this.shadow.blur*e,i.shadowOffsetX=this.shadow.offsetX*e,i.shadowOffsetY=this.shadow.offsetY*e}},_resetShadow:function(){var i=this.canvas.contextTop;i.shadowColor="",i.shadowBlur=i.shadowOffsetX=i.shadowOffsetY=0}}),function(){fabric.PencilBrush=fabric.util.createClass(fabric.BaseBrush,{initialize:function(i){this.canvas=i,this._points=[]},onMouseDown:function(i){this._prepareForDrawing(i),this._captureDrawingPath(i),this._render()},onMouseMove:function(i){this._captureDrawingPath(i),this.canvas.clearContext(this.canvas.contextTop),this._render()},onMouseUp:function(){this._finalizeAndAddPath()},_prepareForDrawing:function(i){var e=new fabric.Point(i.x,i.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(i){this._points.length>1&&i.eq(this._points[this._points.length-1])||this._points.push(i)},_reset:function(){this._points.length=0,this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(i){var e=new fabric.Point(i.x,i.y);this._addPoint(e)},_render:function(){var i,e,o=this.canvas.contextTop,s=this.canvas.viewportTransform,a=this._points[0],c=this._points[1];if(o.save(),o.transform(s[0],s[1],s[2],s[3],s[4],s[5]),o.beginPath(),this._points.length===2&&a.x===c.x&&a.y===c.y){var d=this.width/1e3;a=new fabric.Point(a.x,a.y),c=new fabric.Point(c.x,c.y),a.x-=d,c.x+=d}for(o.moveTo(a.x,a.y),i=1,e=this._points.length;i<e;i++){var h=a.midPointFrom(c);o.quadraticCurveTo(a.x,a.y,h.x,h.y),a=this._points[i],c=this._points[i+1]}o.lineTo(a.x,a.y),o.stroke(),o.restore()},convertPointsToSVGPath:function(i){var e,o=[],s=this.width/1e3,a=new fabric.Point(i[0].x,i[0].y),c=new fabric.Point(i[1].x,i[1].y),d=i.length,h=1,_=1,g=d>2;for(g&&(h=i[2].x<c.x?-1:i[2].x===c.x?0:1,_=i[2].y<c.y?-1:i[2].y===c.y?0:1),o.push("M ",a.x-h*s," ",a.y-_*s," "),e=1;e<d;e++){if(!a.eq(c)){var b=a.midPointFrom(c);o.push("Q ",a.x," ",a.y," ",b.x," ",b.y," ")}a=i[e],e+1<i.length&&(c=i[e+1])}return g&&(h=a.x>i[e-2].x?1:a.x===i[e-2].x?0:-1,_=a.y>i[e-2].y?1:a.y===i[e-2].y?0:-1),o.push("L ",a.x+h*s," ",a.y+_*s),o},createPath:function(i){var e=new fabric.Path(i,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray,originX:"center",originY:"center"}),o=new fabric.Point(e.left,e.top);return e.originX=fabric.Object.prototype.originX,e.originY=fabric.Object.prototype.originY,o=e.translateToGivenOrigin(o,"center","center",e.originX,e.originY),e.top=o.y,e.left=o.x,this.shadow&&(this.shadow.affectStroke=!0,e.setShadow(this.shadow)),e},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath();var i=this.convertPointsToSVGPath(this._points).join("");if(i==="M 0 0 Q 0 0 0 0 L 0 0")return void this.canvas.renderAll();var e=this.createPath(i);this.canvas.add(e),e.setCoords(),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderAll(),this.canvas.fire("path:created",{path:e})}})}(),fabric.CircleBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,initialize:function(i){this.canvas=i,this.points=[]},drawDot:function(i){var e=this.addPoint(i),o=this.canvas.contextTop,s=this.canvas.viewportTransform;o.save(),o.transform(s[0],s[1],s[2],s[3],s[4],s[5]),o.fillStyle=e.fill,o.beginPath(),o.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),o.closePath(),o.fill(),o.restore()},onMouseDown:function(i){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(i)},onMouseMove:function(i){this.drawDot(i)},onMouseUp:function(){var i=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],o=0,s=this.points.length;o<s;o++){var a=this.points[o],c=new fabric.Circle({radius:a.radius,left:a.x,top:a.y,originX:"center",originY:"center",fill:a.fill});this.shadow&&c.setShadow(this.shadow),e.push(c)}var d=new fabric.Group(e,{originX:"center",originY:"center"});d.canvas=this.canvas,this.canvas.add(d),this.canvas.fire("path:created",{path:d}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=i,this.canvas.renderAll()},addPoint:function(i){var e=new fabric.Point(i.x,i.y),o=fabric.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,s=new fabric.Color(this.color).setAlpha(fabric.util.getRandomInt(0,100)/100).toRgba();return e.radius=o,e.fill=s,this.points.push(e),e}}),fabric.SprayBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(i){this.canvas=i,this.sprayChunks=[]},onMouseDown:function(i){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(i),this.render()},onMouseMove:function(i){this.addSprayChunk(i),this.render()},onMouseUp:function(){var i=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],o=0,s=this.sprayChunks.length;o<s;o++)for(var a=this.sprayChunks[o],c=0,d=a.length;c<d;c++){var h=new fabric.Rect({width:a[c].width,height:a[c].width,left:a[c].x+1,top:a[c].y+1,originX:"center",originY:"center",fill:this.color});this.shadow&&h.setShadow(this.shadow),e.push(h)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var _=new fabric.Group(e,{originX:"center",originY:"center"});_.canvas=this.canvas,this.canvas.add(_),this.canvas.fire("path:created",{path:_}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=i,this.canvas.renderAll()},_getOptimizedRects:function(i){for(var e,o={},s=0,a=i.length;s<a;s++)e=i[s].left+""+i[s].top,o[e]||(o[e]=i[s]);var c=[];for(e in o)c.push(o[e]);return c},render:function(){var i=this.canvas.contextTop;i.fillStyle=this.color;var e=this.canvas.viewportTransform;i.save(),i.transform(e[0],e[1],e[2],e[3],e[4],e[5]);for(var o=0,s=this.sprayChunkPoints.length;o<s;o++){var a=this.sprayChunkPoints[o];a.opacity!==void 0&&(i.globalAlpha=a.opacity),i.fillRect(a.x,a.y,a.width,a.width)}i.restore()},addSprayChunk:function(i){this.sprayChunkPoints=[];for(var e,o,s,a=this.width/2,c=0;c<this.density;c++){e=fabric.util.getRandomInt(i.x-a,i.x+a),o=fabric.util.getRandomInt(i.y-a,i.y+a),s=this.dotWidthVariance?fabric.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var d=new fabric.Point(e,o);d.width=s,this.randomOpacity&&(d.opacity=fabric.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(d)}this.sprayChunks.push(this.sprayChunkPoints)}}),fabric.PatternBrush=fabric.util.createClass(fabric.PencilBrush,{getPatternSrc:function(){var i=fabric.document.createElement("canvas"),e=i.getContext("2d");return i.width=i.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),i},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(i){var e=this.callSuper("createPath",i),o=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new fabric.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-o.x,offsetY:-o.y}),e}}),function(){var i=fabric.util.getPointer,e=fabric.util.degreesToRadians,o=fabric.util.radiansToDegrees,s=Math.atan2,a=Math.abs,c=fabric.StaticCanvas.supports("setLineDash");fabric.Canvas=fabric.util.createClass(fabric.StaticCanvas,{initialize:function(h,_){_||(_={}),this._initStatic(h,_),this._initInteractive(),this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=fabric.PencilBrush&&new fabric.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var h,_=this.getActiveGroup(),g=this.getActiveObject(),b=[],j=[];if(!_&&!g||this.preserveObjectStacking)b=this._objects;else{for(var $=0,rt=this._objects.length;$<rt;$++)h=this._objects[$],_&&_.contains(h)||h===g?j.push(h):b.push(h);_&&(_._set("_objects",j),b.push(_)),g&&b.push(g)}return b},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1);var h=this.contextContainer;return this.renderCanvas(h,this._chooseObjectsToRender()),this},renderTop:function(){var h=this.contextTop;return this.clearContext(h),this.selection&&this._groupSelector&&this._drawSelection(h),this.fire("after:render"),this.contextTopDirty=!0,this},_resetCurrentTransform:function(){var h=this._currentTransform;h.target.set({scaleX:h.original.scaleX,scaleY:h.original.scaleY,skewX:h.original.skewX,skewY:h.original.skewY,left:h.original.left,top:h.original.top}),this._shouldCenterTransform(h.target)?h.action==="rotate"?this._setOriginToCenter(h.target):(h.originX!=="center"&&(h.originX==="right"?h.mouseXSign=-1:h.mouseXSign=1),h.originY!=="center"&&(h.originY==="bottom"?h.mouseYSign=-1:h.mouseYSign=1),h.originX="center",h.originY="center"):(h.originX=h.original.originX,h.originY=h.original.originY)},containsPoint:function(h,_,g){var b,j=g||this.getPointer(h,!0);return b=_.group&&_.group===this.getActiveGroup()?this._normalizePointer(_.group,j):{x:j.x,y:j.y},_.containsPoint(b)||_._findTargetCorner(j)},_normalizePointer:function(h,_){var g=h.calcTransformMatrix(),b=fabric.util.invertTransform(g),j=this.restorePointerVpt(_);return fabric.util.transformPoint(j,b)},isTargetTransparent:function(h,_,g){var b=h.hasBorders,j=h.transparentCorners,$=this.contextCache,rt=h.selectionBackgroundColor;h.hasBorders=h.transparentCorners=!1,h.selectionBackgroundColor="",$.save(),$.transform.apply($,this.viewportTransform),h.render($),$.restore(),h.active&&h._renderControls($),h.hasBorders=b,h.transparentCorners=j,h.selectionBackgroundColor=rt;var lt=fabric.util.isTransparent($,_,g,this.targetFindTolerance);return this.clearContext($),lt},_shouldClearSelection:function(h,_){var g=this.getActiveGroup(),b=this.getActiveObject();return!_||_&&g&&!g.contains(_)&&g!==_&&!h[this.selectionKey]||_&&!_.evented||_&&!_.selectable&&b&&b!==_},_shouldCenterTransform:function(h){if(h){var _,g=this._currentTransform;return g.action==="scale"||g.action==="scaleX"||g.action==="scaleY"?_=this.centeredScaling||h.centeredScaling:g.action==="rotate"&&(_=this.centeredRotation||h.centeredRotation),_?!g.altKey:g.altKey}},_getOriginFromCorner:function(h,_){var g={x:h.originX,y:h.originY};return _==="ml"||_==="tl"||_==="bl"?g.x="right":_!=="mr"&&_!=="tr"&&_!=="br"||(g.x="left"),_==="tl"||_==="mt"||_==="tr"?g.y="bottom":_!=="bl"&&_!=="mb"&&_!=="br"||(g.y="top"),g},_getActionFromCorner:function(h,_,g){if(!_)return"drag";switch(_){case"mtr":return"rotate";case"ml":case"mr":return g[this.altActionKey]?"skewY":"scaleX";case"mt":case"mb":return g[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(h,_){if(_){var g=this.getPointer(h),b=_._findTargetCorner(this.getPointer(h,!0)),j=this._getActionFromCorner(_,b,h),$=this._getOriginFromCorner(_,b);this._currentTransform={target:_,action:j,corner:b,scaleX:_.scaleX,scaleY:_.scaleY,skewX:_.skewX,skewY:_.skewY,offsetX:g.x-_.left,offsetY:g.y-_.top,originX:$.x,originY:$.y,ex:g.x,ey:g.y,lastX:g.x,lastY:g.y,left:_.left,top:_.top,theta:e(_.angle),width:_.width*_.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:h.shiftKey,altKey:h[this.centeredKey]},this._currentTransform.original={left:_.left,top:_.top,scaleX:_.scaleX,scaleY:_.scaleY,skewX:_.skewX,skewY:_.skewY,originX:$.x,originY:$.y},this._resetCurrentTransform()}},_translateObject:function(h,_){var g=this._currentTransform,b=g.target,j=h-g.offsetX,$=_-g.offsetY,rt=!b.get("lockMovementX")&&b.left!==j,lt=!b.get("lockMovementY")&&b.top!==$;return rt&&b.set("left",j),lt&&b.set("top",$),rt||lt},_changeSkewTransformOrigin:function(h,_,g){var b="originX",j={0:"center"},$=_.target.skewX,rt="left",lt="right",it=_.corner==="mt"||_.corner==="ml"?1:-1,ht=1;h=h>0?1:-1,g==="y"&&($=_.target.skewY,rt="top",lt="bottom",b="originY"),j[-1]=rt,j[1]=lt,_.target.flipX&&(ht*=-1),_.target.flipY&&(ht*=-1),$===0?(_.skewSign=-it*h*ht,_[b]=j[-h]):($=$>0?1:-1,_.skewSign=$,_[b]=j[$*it*ht])},_skewObject:function(h,_,g){var b=this._currentTransform,j=b.target,$=!1,rt=j.get("lockSkewingX"),lt=j.get("lockSkewingY");if(rt&&g==="x"||lt&&g==="y")return!1;var it,ht,et=j.getCenterPoint(),tt=j.toLocalPoint(new fabric.Point(h,_),"center","center")[g],nt=j.toLocalPoint(new fabric.Point(b.lastX,b.lastY),"center","center")[g],st=j._getTransformedDimensions();return this._changeSkewTransformOrigin(tt-nt,b,g),it=j.toLocalPoint(new fabric.Point(h,_),b.originX,b.originY)[g],ht=j.translateToOriginPoint(et,b.originX,b.originY),$=this._setObjectSkew(it,b,g,st),b.lastX=h,b.lastY=_,j.setPositionByOrigin(ht,b.originX,b.originY),$},_setObjectSkew:function(h,_,g,b){var j,$,rt,lt,it,ht,et,tt,nt,st=_.target,ut=!1,St=_.skewSign;return g==="x"?(lt="y",it="Y",ht="X",tt=0,nt=st.skewY):(lt="x",it="X",ht="Y",tt=st.skewX,nt=0),rt=st._getTransformedDimensions(tt,nt),et=2*Math.abs(h)-rt[g],et<=2?j=0:(j=St*Math.atan(et/st["scale"+ht]/(rt[lt]/st["scale"+it])),j=fabric.util.radiansToDegrees(j)),ut=st["skew"+ht]!==j,st.set("skew"+ht,j),st["skew"+it]!==0&&($=st._getTransformedDimensions(),j=b[lt]/$[lt]*st["scale"+it],st.set("scale"+it,j)),ut},_scaleObject:function(h,_,g){var b=this._currentTransform,j=b.target,$=j.get("lockScalingX"),rt=j.get("lockScalingY"),lt=j.get("lockScalingFlip");if($&&rt)return!1;var it=j.translateToOriginPoint(j.getCenterPoint(),b.originX,b.originY),ht=j.toLocalPoint(new fabric.Point(h,_),b.originX,b.originY),et=j._getTransformedDimensions(),tt=!1;return this._setLocalMouse(ht,b),tt=this._setObjectScale(ht,b,$,rt,g,lt,et),j.setPositionByOrigin(it,b.originX,b.originY),tt},_setObjectScale:function(h,_,g,b,j,$,rt){var lt,it,ht,et,tt=_.target,nt=!1,st=!1,ut=!1;return ht=h.x*tt.scaleX/rt.x,et=h.y*tt.scaleY/rt.y,lt=tt.scaleX!==ht,it=tt.scaleY!==et,$&&ht<=0&&ht<tt.scaleX&&(nt=!0),$&&et<=0&&et<tt.scaleY&&(st=!0),j!=="equally"||g||b?j?j!=="x"||tt.get("lockUniScaling")?j!=="y"||tt.get("lockUniScaling")||st||b||tt.set("scaleY",et)&&(ut=ut||it):nt||g||tt.set("scaleX",ht)&&(ut=ut||lt):(nt||g||tt.set("scaleX",ht)&&(ut=ut||lt),st||b||tt.set("scaleY",et)&&(ut=ut||it)):nt||st||(ut=this._scaleObjectEqually(h,tt,_,rt)),_.newScaleX=ht,_.newScaleY=et,nt||st||this._flipObject(_,j),ut},_scaleObjectEqually:function(h,_,g,b){var j,$=h.y+h.x,rt=b.y*g.original.scaleY/_.scaleY+b.x*g.original.scaleX/_.scaleX,lt=h.x/Math.abs(h.x),it=h.y/Math.abs(h.y);return g.newScaleX=lt*Math.abs(g.original.scaleX*$/rt),g.newScaleY=it*Math.abs(g.original.scaleY*$/rt),j=g.newScaleX!==_.scaleX||g.newScaleY!==_.scaleY,_.set("scaleX",g.newScaleX),_.set("scaleY",g.newScaleY),j},_flipObject:function(h,_){h.newScaleX<0&&_!=="y"&&(h.originX==="left"?h.originX="right":h.originX==="right"&&(h.originX="left")),h.newScaleY<0&&_!=="x"&&(h.originY==="top"?h.originY="bottom":h.originY==="bottom"&&(h.originY="top"))},_setLocalMouse:function(h,_){var g=_.target,b=this.getZoom(),j=g.padding/b;_.originX==="right"?h.x*=-1:_.originX==="center"&&(h.x*=2*_.mouseXSign,h.x<0&&(_.mouseXSign=-_.mouseXSign)),_.originY==="bottom"?h.y*=-1:_.originY==="center"&&(h.y*=2*_.mouseYSign,h.y<0&&(_.mouseYSign=-_.mouseYSign)),a(h.x)>j?h.x<0?h.x+=j:h.x-=j:h.x=0,a(h.y)>j?h.y<0?h.y+=j:h.y-=j:h.y=0},_rotateObject:function(h,_){var g=this._currentTransform;if(g.target.get("lockRotation"))return!1;var b=s(g.ey-g.top,g.ex-g.left),j=s(_-g.top,h-g.left),$=o(j-b+g.theta),rt=!0;if(g.target.snapAngle>0){var lt=g.target.snapAngle,it=g.target.snapThreshold||lt,ht=Math.ceil($/lt)*lt,et=Math.floor($/lt)*lt;Math.abs($-et)<it?$=et:Math.abs($-ht)<it&&($=ht)}return $<0&&($=360+$),$%=360,g.target.angle===$?rt=!1:g.target.angle=$,rt},setCursor:function(h){this.upperCanvasEl.style.cursor=h},_resetObjectTransform:function(h){h.scaleX=1,h.scaleY=1,h.skewX=0,h.skewY=0,h.setAngle(0)},_drawSelection:function(h){var _=this._groupSelector,g=_.left,b=_.top,j=a(g),$=a(b);if(this.selectionColor&&(h.fillStyle=this.selectionColor,h.fillRect(_.ex-(g>0?0:-g),_.ey-(b>0?0:-b),j,$)),this.selectionLineWidth&&this.selectionBorderColor)if(h.lineWidth=this.selectionLineWidth,h.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!c){var rt=_.ex+.5-(g>0?0:j),lt=_.ey+.5-(b>0?0:$);h.beginPath(),fabric.util.drawDashedLine(h,rt,lt,rt+j,lt,this.selectionDashArray),fabric.util.drawDashedLine(h,rt,lt+$-1,rt+j,lt+$-1,this.selectionDashArray),fabric.util.drawDashedLine(h,rt,lt,rt,lt+$,this.selectionDashArray),fabric.util.drawDashedLine(h,rt+j-1,lt,rt+j-1,lt+$,this.selectionDashArray),h.closePath(),h.stroke()}else fabric.Object.prototype._setLineDash.call(this,h,this.selectionDashArray),h.strokeRect(_.ex+.5-(g>0?0:j),_.ey+.5-(b>0?0:$),j,$)},findTarget:function(h,_){if(!this.skipTargetFind){var g,b,j=this.getPointer(h,!0),$=this.getActiveGroup(),rt=this.getActiveObject();if(this.targets=[],$&&!_&&$===this._searchPossibleTargets([$],j))return this._fireOverOutEvents($,h),$;if(rt&&rt._findTargetCorner(j))return this._fireOverOutEvents(rt,h),rt;if(rt&&rt===this._searchPossibleTargets([rt],j)){if(!this.preserveObjectStacking)return this._fireOverOutEvents(rt,h),rt;g=rt,b=this.targets,this.targets=[]}var lt=this._searchPossibleTargets(this._objects,j);return h[this.altSelectionKey]&&lt&&g&&lt!==g&&(lt=g,this.targets=b),this._fireOverOutEvents(lt,h),lt}},_fireOverOutEvents:function(h,_){var g,b,j=this._hoveredTarget;j!==h&&(g={e:_,target:h,previousTarget:this._hoveredTarget},b={e:_,target:this._hoveredTarget,nextTarget:h},this._hoveredTarget=h),h?j!==h&&(j&&(this.fire("mouse:out",b),j.fire("mouseout",b)),this.fire("mouse:over",g),h.fire("mouseover",g)):j&&(this.fire("mouse:out",b),j.fire("mouseout",b))},_checkTarget:function(h,_){if(_&&_.visible&&_.evented&&this.containsPoint(null,_,h)&&(!this.perPixelTargetFind&&!_.perPixelTargetFind||_.isEditing||!this.isTargetTransparent(_,h.x,h.y)))return!0},_searchPossibleTargets:function(h,_){for(var g,b,j,$=h.length;$--;)if(this._checkTarget(_,h[$])){g=h[$],g.type==="group"&&g.subTargetCheck&&(b=this._normalizePointer(g,_),(j=this._searchPossibleTargets(g._objects,b))&&this.targets.push(j));break}return g},restorePointerVpt:function(h){return fabric.util.transformPoint(h,fabric.util.invertTransform(this.viewportTransform))},getPointer:function(h,_,g){g||(g=this.upperCanvasEl);var b,j=i(h),$=g.getBoundingClientRect(),rt=$.width||0,lt=$.height||0;return rt&&lt||("top"in $&&"bottom"in $&&(lt=Math.abs($.top-$.bottom)),"right"in $&&"left"in $&&(rt=Math.abs($.right-$.left))),this.calcOffset(),j.x=j.x-this._offset.left,j.y=j.y-this._offset.top,_||(j=this.restorePointerVpt(j)),b=rt===0||lt===0?{width:1,height:1}:{width:g.width/rt,height:g.height/lt},{x:j.x*b.width,y:j.y*b.height}},_createUpperCanvas:function(){var h=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl?this.upperCanvasEl.className="":this.upperCanvasEl=this._createCanvasElement(),fabric.util.addClass(this.upperCanvasEl,"upper-canvas "+h),this.wrapperEl.appendChild(this.upperCanvasEl),this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl),this._applyCanvasStyle(this.upperCanvasEl),this.contextTop=this.upperCanvasEl.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=fabric.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),fabric.util.setStyle(this.wrapperEl,{width:this.getWidth()+"px",height:this.getHeight()+"px",position:"relative"}),fabric.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(h){var _=this.getWidth()||h.width,g=this.getHeight()||h.height;fabric.util.setStyle(h,{position:"absolute",width:_+"px",height:g+"px",left:0,top:0,"touch-action":"none"}),h.width=_,h.height=g,fabric.util.makeElementUnselectable(h)},_copyCanvasStyle:function(h,_){_.style.cssText=h.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},_setActiveObject:function(h){var _=this._activeObject;_&&(_.set("active",!1),h!==_&&_.onDeselect&&typeof _.onDeselect=="function"&&_.onDeselect()),this._activeObject=h,h.set("active",!0)},setActiveObject:function(h,_){var g=this.getActiveObject();return g&&g!==h&&g.fire("deselected",{e:_}),this._setActiveObject(h),this.fire("object:selected",{target:h,e:_}),h.fire("selected",{e:_}),this.renderAll(),this},getActiveObject:function(){return this._activeObject},_onObjectRemoved:function(h){this.getActiveObject()===h&&(this.fire("before:selection:cleared",{target:h}),this._discardActiveObject(),this.fire("selection:cleared",{target:h}),h.fire("deselected")),this._hoveredTarget===h&&(this._hoveredTarget=null),this.callSuper("_onObjectRemoved",h)},_discardActiveObject:function(){var h=this._activeObject;h&&(h.set("active",!1),h.onDeselect&&typeof h.onDeselect=="function"&&h.onDeselect()),this._activeObject=null},discardActiveObject:function(h){var _=this._activeObject;return _&&(this.fire("before:selection:cleared",{target:_,e:h}),this._discardActiveObject(),this.fire("selection:cleared",{e:h}),_.fire("deselected",{e:h})),this},_setActiveGroup:function(h){this._activeGroup=h,h&&h.set("active",!0)},setActiveGroup:function(h,_){return this._setActiveGroup(h),h&&(this.fire("object:selected",{target:h,e:_}),h.fire("selected",{e:_})),this},getActiveGroup:function(){return this._activeGroup},_discardActiveGroup:function(){var h=this.getActiveGroup();h&&h.destroy(),this.setActiveGroup(null)},discardActiveGroup:function(h){var _=this.getActiveGroup();return _&&(this.fire("before:selection:cleared",{e:h,target:_}),this._discardActiveGroup(),this.fire("selection:cleared",{e:h})),this},deactivateAll:function(){for(var h,_=this.getObjects(),g=0,b=_.length;g<b;g++)(h=_[g])&&h.set("active",!1);return this._discardActiveGroup(),this._discardActiveObject(),this},deactivateAllWithDispatch:function(h){for(var _,g=this.getObjects(),b=0,j=g.length;b<j;b++)(_=g[b])&&_.set("active",!1);return this.discardActiveGroup(h),this.discardActiveObject(h),this},dispose:function(){fabric.StaticCanvas.prototype.dispose.call(this);var h=this.wrapperEl;return this.removeListeners(),h.removeChild(this.upperCanvasEl),h.removeChild(this.lowerCanvasEl),delete this.upperCanvasEl,h.parentNode&&h.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,this},clear:function(){return this.discardActiveGroup(),this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(h){var _=this.getActiveGroup();_?_._renderControls(h):this._drawObjectsControls(h)},_drawObjectsControls:function(h){for(var _=0,g=this._objects.length;_<g;++_)this._objects[_]&&this._objects[_].active&&this._objects[_]._renderControls(h)},_toObject:function(h,_,g){var b=this._realizeGroupTransformOnObject(h),j=this.callSuper("_toObject",h,_,g);return this._unwindGroupTransformOnObject(h,b),j},_realizeGroupTransformOnObject:function(h){if(h.group&&h.group===this.getActiveGroup()){var _={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(g){_[g]=h[g]}),this.getActiveGroup().realizeTransform(h),_}return null},_unwindGroupTransformOnObject:function(h,_){_&&h.set(_)},_setSVGObject:function(h,_,g){var b;b=this._realizeGroupTransformOnObject(_),this.callSuper("_setSVGObject",h,_,g),this._unwindGroupTransformOnObject(_,b)}});for(var d in fabric.StaticCanvas)d!=="prototype"&&(fabric.Canvas[d]=fabric.StaticCanvas[d]);fabric.isTouchSupported&&(fabric.Canvas.prototype._setCursorFromEvent=function(){}),fabric.Element=fabric.Canvas}(),function(){function i(a,c){return"which"in a?a.which===c:a.button===c-1}var e={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},o=fabric.util.addListener,s=fabric.util.removeListener;fabric.util.object.extend(fabric.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],_initEventListeners:function(){this.removeListeners(),this._bindEvents(),o(fabric.window,"resize",this._onResize),o(this.upperCanvasEl,"mousedown",this._onMouseDown),o(this.upperCanvasEl,"mousemove",this._onMouseMove),o(this.upperCanvasEl,"mouseout",this._onMouseOut),o(this.upperCanvasEl,"mouseenter",this._onMouseEnter),o(this.upperCanvasEl,"wheel",this._onMouseWheel),o(this.upperCanvasEl,"contextmenu",this._onContextMenu),o(this.upperCanvasEl,"touchstart",this._onMouseDown,{passive:!1}),o(this.upperCanvasEl,"touchmove",this._onMouseMove,{passive:!1}),typeof eventjs<"u"&&"add"in eventjs&&(eventjs.add(this.upperCanvasEl,"gesture",this._onGesture),eventjs.add(this.upperCanvasEl,"drag",this._onDrag),eventjs.add(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.add(this.upperCanvasEl,"shake",this._onShake),eventjs.add(this.upperCanvasEl,"longpress",this._onLongPress))},_bindEvents:function(){this.eventsBinded||(this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this.eventsBinded=!0)},removeListeners:function(){s(fabric.window,"resize",this._onResize),s(this.upperCanvasEl,"mousedown",this._onMouseDown),s(this.upperCanvasEl,"mousemove",this._onMouseMove),s(this.upperCanvasEl,"mouseout",this._onMouseOut),s(this.upperCanvasEl,"mouseenter",this._onMouseEnter),s(this.upperCanvasEl,"wheel",this._onMouseWheel),s(this.upperCanvasEl,"contextmenu",this._onContextMenu),s(this.upperCanvasEl,"touchstart",this._onMouseDown),s(this.upperCanvasEl,"touchmove",this._onMouseMove),typeof eventjs<"u"&&"remove"in eventjs&&(eventjs.remove(this.upperCanvasEl,"gesture",this._onGesture),eventjs.remove(this.upperCanvasEl,"drag",this._onDrag),eventjs.remove(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.remove(this.upperCanvasEl,"shake",this._onShake),eventjs.remove(this.upperCanvasEl,"longpress",this._onLongPress))},_onGesture:function(a,c){this.__onTransformGesture&&this.__onTransformGesture(a,c)},_onDrag:function(a,c){this.__onDrag&&this.__onDrag(a,c)},_onMouseWheel:function(a){this.__onMouseWheel(a)},_onMouseOut:function(a){var c=this._hoveredTarget;this.fire("mouse:out",{target:c,e:a}),this._hoveredTarget=null,c&&c.fire("mouseout",{e:a}),this._iTextInstances&&this._iTextInstances.forEach(function(d){d.isEditing&&d.hiddenTextarea.focus()})},_onMouseEnter:function(a){this.findTarget(a)||(this.fire("mouse:over",{target:null,e:a}),this._hoveredTarget=null)},_onOrientationChange:function(a,c){this.__onOrientationChange&&this.__onOrientationChange(a,c)},_onShake:function(a,c){this.__onShake&&this.__onShake(a,c)},_onLongPress:function(a,c){this.__onLongPress&&this.__onLongPress(a,c)},_onContextMenu:function(a){return this.stopContextMenu&&(a.stopPropagation(),a.preventDefault()),!1},_onMouseDown:function(a){this.__onMouseDown(a),o(fabric.document,"touchend",this._onMouseUp,{passive:!1}),o(fabric.document,"touchmove",this._onMouseMove,{passive:!1}),s(this.upperCanvasEl,"mousemove",this._onMouseMove),s(this.upperCanvasEl,"touchmove",this._onMouseMove),a.type==="touchstart"?s(this.upperCanvasEl,"mousedown",this._onMouseDown):(o(fabric.document,"mouseup",this._onMouseUp),o(fabric.document,"mousemove",this._onMouseMove))},_onMouseUp:function(a){if(this.__onMouseUp(a),s(fabric.document,"mouseup",this._onMouseUp),s(fabric.document,"touchend",this._onMouseUp),s(fabric.document,"mousemove",this._onMouseMove),s(fabric.document,"touchmove",this._onMouseMove),o(this.upperCanvasEl,"mousemove",this._onMouseMove),o(this.upperCanvasEl,"touchmove",this._onMouseMove,{passive:!1}),a.type==="touchend"){var c=this;setTimeout(function(){o(c.upperCanvasEl,"mousedown",c._onMouseDown)},400)}},_onMouseMove:function(a){!this.allowTouchScrolling&&a.preventDefault&&a.preventDefault(),this.__onMouseMove(a)},_onResize:function(){this.calcOffset()},_shouldRender:function(a,c){var d=this.getActiveGroup()||this.getActiveObject();return(!d||!d.isEditing||a!==d)&&!!(a&&(a.isMoving||a!==d)||!a&&d||!a&&!d&&!this._groupSelector||c&&this._previousPointer&&this.selection&&(c.x!==this._previousPointer.x||c.y!==this._previousPointer.y))},__onMouseUp:function(a){var c;if(i(a,3))return void(this.fireRightClick&&this._handleEvent(a,"up",c,3));if(i(a,2))return void(this.fireMiddleClick&&this._handleEvent(a,"up",c,2));if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(a);var d=!0,h=this._currentTransform,_=this._groupSelector,g=!_||_.left===0&&_.top===0;h&&(this._finalizeCurrentTransform(a),d=!h.actionPerformed),c=d?this.findTarget(a,!0):h.target;var b=this._shouldRender(c,this.getPointer(a));c||!g?this._maybeGroupObjects(a):(this._groupSelector=null,this._currentTransform=null),c&&(c.isMoving=!1),this._setCursorFromEvent(a,c),this._handleEvent(a,"up",c||null,1,g),c&&(c.__corner=0),b&&this.renderAll()},_handleEvent:function(a,c,d,h,_){var g=d===void 0?this.findTarget(a):d,b=this.targets||[],j={e:a,target:g,subTargets:b,button:h||1,isClick:_||!1};this.fire("mouse:"+c,j),g&&g.fire("mouse"+c,j);for(var $=0;$<b.length;$++)b[$].fire("mouse"+c,j)},_finalizeCurrentTransform:function(a){var c=this._currentTransform,d=c.target;d._scaling&&(d._scaling=!1),d.setCoords(),this._restoreOriginXY(d),(c.actionPerformed||this.stateful&&d.hasStateChanged())&&(this.fire("object:modified",{target:d,e:a}),d.fire("modified",{e:a}))},_restoreOriginXY:function(a){if(this._previousOriginX&&this._previousOriginY){var c=a.translateToOriginPoint(a.getCenterPoint(),this._previousOriginX,this._previousOriginY);a.originX=this._previousOriginX,a.originY=this._previousOriginY,a.left=c.x,a.top=c.y,this._previousOriginX=null,this._previousOriginY=null}},_onMouseDownInDrawingMode:function(a){this._isCurrentlyDrawing=!0,this.discardActiveObject(a).renderAll(),this.clipTo&&fabric.util.clipContext(this,this.contextTop);var c=this.getPointer(a);this.freeDrawingBrush.onMouseDown(c),this._handleEvent(a,"down")},_onMouseMoveInDrawingMode:function(a){if(this._isCurrentlyDrawing){var c=this.getPointer(a);this.freeDrawingBrush.onMouseMove(c)}this.setCursor(this.freeDrawingCursor),this._handleEvent(a,"move")},_onMouseUpInDrawingMode:function(a){this._isCurrentlyDrawing=!1,this.clipTo&&this.contextTop.restore(),this.freeDrawingBrush.onMouseUp(),this._handleEvent(a,"up")},__onMouseDown:function(a){var c=this.findTarget(a);if(i(a,3))return void(this.fireRightClick&&this._handleEvent(a,"down",c||null,3));if(i(a,2))return void(this.fireMiddleClick&&this._handleEvent(a,"down",c||null,2));if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(a);if(!this._currentTransform){var d=this.getPointer(a,!0);this._previousPointer=d;var h=this._shouldRender(c,d),_=this._shouldGroup(a,c);if(this._shouldClearSelection(a,c)?this.deactivateAllWithDispatch(a):_&&(this._handleGrouping(a,c),c=this.getActiveGroup()),!this.selection||c&&(c.selectable||c.isEditing)||(this._groupSelector={ex:d.x,ey:d.y,top:0,left:0}),c){!c.selectable||!c.__corner&&_||(this._beforeTransform(a,c),this._setupCurrentTransform(a,c));var g=this.getActiveObject();c!==this.getActiveGroup()&&c!==g&&(this.deactivateAll(),c.selectable&&(g&&g.fire("deselected",{e:a}),this.setActiveObject(c,a)))}this._handleEvent(a,"down",c||null),h&&this.renderAll()}},_beforeTransform:function(a,c){this.stateful&&c.saveState(),c._findTargetCorner(this.getPointer(a))&&this.onBeforeScaleRotate(c)},_setOriginToCenter:function(a){this._previousOriginX=this._currentTransform.target.originX,this._previousOriginY=this._currentTransform.target.originY;var c=a.getCenterPoint();a.originX="center",a.originY="center",a.left=c.x,a.top=c.y,this._currentTransform.left=a.left,this._currentTransform.top=a.top},_setCenterToOrigin:function(a){var c=a.translateToOriginPoint(a.getCenterPoint(),this._previousOriginX,this._previousOriginY);a.originX=this._previousOriginX,a.originY=this._previousOriginY,a.left=c.x,a.top=c.y,this._previousOriginX=null,this._previousOriginY=null},__onMouseMove:function(a){var c,d;if(this.isDrawingMode)return void this._onMouseMoveInDrawingMode(a);if(!(a.touches!==void 0&&a.touches.length>1)){var h=this._groupSelector;h?(d=this.getPointer(a,!0),h.left=d.x-h.ex,h.top=d.y-h.ey,this.renderTop()):this._currentTransform?this._transformObject(a):(c=this.findTarget(a),this._setCursorFromEvent(a,c)),this._handleEvent(a,"move",c||null)}},__onMouseWheel:function(a){this._handleEvent(a,"wheel")},_transformObject:function(a){var c=this.getPointer(a),d=this._currentTransform;d.reset=!1,d.target.isMoving=!0,d.shiftKey=a.shiftKey,d.altKey=a[this.centeredKey],this._beforeScaleTransform(a,d),this._performTransformAction(a,d,c),d.actionPerformed&&this.renderAll()},_performTransformAction:function(a,c,d){var h=d.x,_=d.y,g=c.target,b=c.action,j=!1;b==="rotate"?(j=this._rotateObject(h,_))&&this._fire("rotating",g,a):b==="scale"?(j=this._onScale(a,c,h,_))&&this._fire("scaling",g,a):b==="scaleX"?(j=this._scaleObject(h,_,"x"))&&this._fire("scaling",g,a):b==="scaleY"?(j=this._scaleObject(h,_,"y"))&&this._fire("scaling",g,a):b==="skewX"?(j=this._skewObject(h,_,"x"))&&this._fire("skewing",g,a):b==="skewY"?(j=this._skewObject(h,_,"y"))&&this._fire("skewing",g,a):(j=this._translateObject(h,_))&&(this._fire("moving",g,a),this.setCursor(g.moveCursor||this.moveCursor)),c.actionPerformed=c.actionPerformed||j},_fire:function(a,c,d){this.fire("object:"+a,{target:c,e:d}),c.fire(a,{e:d})},_beforeScaleTransform:function(a,c){if(c.action==="scale"||c.action==="scaleX"||c.action==="scaleY"){var d=this._shouldCenterTransform(c.target);(d&&(c.originX!=="center"||c.originY!=="center")||!d&&c.originX==="center"&&c.originY==="center")&&(this._resetCurrentTransform(),c.reset=!0)}},_onScale:function(a,c,d,h){return!a[this.uniScaleKey]&&!this.uniScaleTransform||c.target.get("lockUniScaling")?(c.reset||c.currentAction!=="scale"||this._resetCurrentTransform(),c.currentAction="scaleEqually",this._scaleObject(d,h,"equally")):(c.currentAction="scale",this._scaleObject(d,h))},_setCursorFromEvent:function(a,c){if(!c)return this.setCursor(this.defaultCursor),!1;var d=c.hoverCursor||this.hoverCursor,h=this.getActiveGroup(),_=c._findTargetCorner&&(!h||!h.contains(c))&&c._findTargetCorner(this.getPointer(a,!0));return _?this._setCornerCursor(_,c,a):this.setCursor(d),!0},_setCornerCursor:function(a,c,d){if(a in e)this.setCursor(this._getRotatedCornerCursor(a,c,d));else{if(a!=="mtr"||!c.hasRotatingPoint)return this.setCursor(this.defaultCursor),!1;this.setCursor(this.rotationCursor)}},_getRotatedCornerCursor:function(a,c,d){var h=Math.round(c.getAngle()%360/45);return h<0&&(h+=8),h+=e[a],d[this.altActionKey]&&e[a]%2==0&&(h+=2),h%=8,this.cursorMap[h]}})}(),function(){var i=Math.min,e=Math.max;fabric.util.object.extend(fabric.Canvas.prototype,{_shouldGroup:function(o,s){var a=this.getActiveObject();return o[this.selectionKey]&&s&&s.selectable&&(this.getActiveGroup()||a&&a!==s)&&this.selection},_handleGrouping:function(o,s){var a=this.getActiveGroup();(s!==a||(s=this.findTarget(o,!0)))&&(a?this._updateActiveGroup(s,o):this._createActiveGroup(s,o),this._activeGroup&&this._activeGroup.saveCoords())},_updateActiveGroup:function(o,s){var a=this.getActiveGroup();if(a.contains(o)){if(a.removeWithUpdate(o),o.set("active",!1),a.size()===1)return this.discardActiveGroup(s),void this.setActiveObject(a.item(0),s)}else a.addWithUpdate(o);this.fire("selection:created",{target:a,e:s}),a.set("active",!0)},_createActiveGroup:function(o,s){if(this._activeObject&&o!==this._activeObject){var a=this._createGroup(o);a.addWithUpdate(),this.setActiveGroup(a,s),this._activeObject=null,this.fire("selection:created",{target:a,e:s})}o.set("active",!0)},_createGroup:function(o){var s=this.getObjects(),a=s.indexOf(this._activeObject)<s.indexOf(o),c=a?[this._activeObject,o]:[o,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new fabric.Group(c,{canvas:this})},_groupSelectedObjects:function(o){var s=this._collectObjects();s.length===1?this.setActiveObject(s[0],o):s.length>1&&(s=new fabric.Group(s.reverse(),{canvas:this}),s.addWithUpdate(),this.setActiveGroup(s,o),s.saveCoords(),this.fire("selection:created",{target:s,e:o}),this.renderAll())},_collectObjects:function(){for(var o,s=[],a=this._groupSelector.ex,c=this._groupSelector.ey,d=a+this._groupSelector.left,h=c+this._groupSelector.top,_=new fabric.Point(i(a,d),i(c,h)),g=new fabric.Point(e(a,d),e(c,h)),b=a===d&&c===h,j=this._objects.length;j--&&!((o=this._objects[j])&&o.selectable&&o.visible&&(o.intersectsWithRect(_,g)||o.isContainedWithinRect(_,g)||o.containsPoint(_)||o.containsPoint(g))&&(o.set("active",!0),s.push(o),b)););return s},_maybeGroupObjects:function(o){this.selection&&this._groupSelector&&this._groupSelectedObjects(o);var s=this.getActiveGroup();s&&(s.setObjectsCoords().setCoords(),s.isMoving=!1,this.setCursor(this.defaultCursor)),this._groupSelector=null,this._currentTransform=null}})}(),function(){var i=fabric.StaticCanvas.supports("toDataURLWithQuality");fabric.util.object.extend(fabric.StaticCanvas.prototype,{toDataURL:function(e){e||(e={});var o=e.format||"png",s=e.quality||1,a=e.multiplier||1,c={left:e.left||0,top:e.top||0,width:e.width||0,height:e.height||0};return this.__toDataURLWithMultiplier(o,s,c,a)},__toDataURLWithMultiplier:function(e,o,s,a){var c=this.getWidth(),d=this.getHeight(),h=(s.width||this.getWidth())*a,_=(s.height||this.getHeight())*a,g=this.getZoom(),b=g*a,j=this.viewportTransform,$=(j[4]-s.left)*a,rt=(j[5]-s.top)*a,lt=[b,0,0,b,$,rt],it=this.interactive;this.viewportTransform=lt,this.interactive&&(this.interactive=!1),c!==h||d!==_?this.setDimensions({width:h,height:_},{backstoreOnly:!0}):this.renderAll();var ht=this.__toDataURL(e,o,s);return it&&(this.interactive=it),this.viewportTransform=j,this.setDimensions({width:c,height:d},{backstoreOnly:!0}),ht},__toDataURL:function(e,o){var s=this.contextContainer.canvas;return e==="jpg"&&(e="jpeg"),i?s.toDataURL("image/"+e,o):s.toDataURL("image/"+e)},toDataURLWithMultiplier:function(e,o,s){return this.toDataURL({format:e,multiplier:o,quality:s})}})}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{loadFromDatalessJSON:function(i,e,o){return this.loadFromJSON(i,e,o)},loadFromJSON:function(i,e,o){if(i){var s=typeof i=="string"?JSON.parse(i):fabric.util.object.clone(i),a=this,c=this.renderOnAddRemove;return this.renderOnAddRemove=!1,this._enlivenObjects(s.objects,function(d){a.clear(),a._setBgOverlay(s,function(){d.forEach(function(h,_){a.insertAt(h,_)}),a.renderOnAddRemove=c,delete s.objects,delete s.backgroundImage,delete s.overlayImage,delete s.background,delete s.overlay,a._setOptions(s),a.renderAll(),e&&e()})},o),this}},_setBgOverlay:function(i,e){var o={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!(i.backgroundImage||i.overlayImage||i.background||i.overlay))return void(e&&e());var s=function(){o.backgroundImage&&o.overlayImage&&o.backgroundColor&&o.overlayColor&&e&&e()};this.__setBgOverlay("backgroundImage",i.backgroundImage,o,s),this.__setBgOverlay("overlayImage",i.overlayImage,o,s),this.__setBgOverlay("backgroundColor",i.background,o,s),this.__setBgOverlay("overlayColor",i.overlay,o,s)},__setBgOverlay:function(i,e,o,s){var a=this;if(!e)return o[i]=!0,void(s&&s());i==="backgroundImage"||i==="overlayImage"?fabric.util.enlivenObjects([e],function(c){a[i]=c[0],o[i]=!0,s&&s()}):this["set"+fabric.util.string.capitalize(i,!0)](e,function(){o[i]=!0,s&&s()})},_enlivenObjects:function(i,e,o){if(!i||i.length===0)return void(e&&e([]));fabric.util.enlivenObjects(i,function(s){e&&e(s)},null,o)},_toDataURL:function(i,e){this.clone(function(o){e(o.toDataURL(i))})},_toDataURLWithMultiplier:function(i,e,o){this.clone(function(s){o(s.toDataURLWithMultiplier(i,e))})},clone:function(i,e){var o=JSON.stringify(this.toJSON(e));this.cloneWithoutData(function(s){s.loadFromJSON(o,function(){i&&i(s)})})},cloneWithoutData:function(i){var e=fabric.document.createElement("canvas");e.width=this.getWidth(),e.height=this.getHeight();var o=new fabric.Canvas(e);o.clipTo=this.clipTo,this.backgroundImage?(o.setBackgroundImage(this.backgroundImage.src,function(){o.renderAll(),i&&i(o)}),o.backgroundImageOpacity=this.backgroundImageOpacity,o.backgroundImageStretch=this.backgroundImageStretch):i&&i(o)}}),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend,s=e.util.object.clone,a=e.util.toFixed,c=e.util.string.capitalize,d=e.util.degreesToRadians,h=e.StaticCanvas.supports("setLineDash"),_=!e.isLikelyNode;e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:10,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:.01,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:_,statefullCache:!1,noScaleCache:!0,dirty:!0,stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height strokeLineCap strokeLineJoin strokeMiterLimit backgroundColor".split(" "),initialize:function(g){(g=g||{})&&this.setOptions(g)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=e.document.createElement("canvas"),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas()},_limitCacheSize:function(g){var b=e.perfLimitSizeTotal,j=g.width,$=g.height,rt=e.maxCacheSideLimit,lt=e.minCacheSideLimit;if(j<=rt&&$<=rt&&j*$<=b)return j<lt&&(g.width=lt),$<lt&&(g.height=lt),g;var it=j/$,ht=e.util.limitDimsByArea(it,b),et=e.util.capValue,tt=et(lt,ht.x,rt),nt=et(lt,ht.y,rt);return j>tt&&(g.zoomX/=j/tt,g.width=tt,g.capped=!0),$>nt&&(g.zoomY/=$/nt,g.height=nt,g.capped=!0),g},_getCacheCanvasDimensions:function(){var g=this.canvas&&this.canvas.getZoom()||1,b=this.getObjectScaling(),j=this.canvas&&this.canvas._isRetinaScaling()?e.devicePixelRatio:1,$=this._getNonTransformedDimensions(),rt=b.scaleX*g*j,lt=b.scaleY*g*j;return{width:$.x*rt+2,height:$.y*lt+2,zoomX:rt,zoomY:lt,x:$.x,y:$.y}},_updateCacheCanvas:function(){if(this.noScaleCache&&this.canvas&&this.canvas._currentTransform){var g=this.canvas._currentTransform.target,b=this.canvas._currentTransform.action;if(this===g&&b.slice&&b.slice(0,5)==="scale")return!1}var j,$,rt=this._cacheCanvas,lt=this._limitCacheSize(this._getCacheCanvasDimensions()),it=e.minCacheSideLimit,ht=lt.width,et=lt.height,tt=lt.zoomX,nt=lt.zoomY,st=ht!==this.cacheWidth||et!==this.cacheHeight,ut=this.zoomX!==tt||this.zoomY!==nt,St=st||ut,jt=0,xt=0,Rt=!1;if(st){var kt=this._cacheCanvas.width,Wt=this._cacheCanvas.height,Ct=ht>kt||et>Wt,pt=(ht<.9*kt||et<.9*Wt)&&kt>it&&Wt>it;Rt=Ct||pt,Ct&&!lt.capped&&(ht>it||et>it)&&(jt=.1*ht,xt=.1*et)}return!!St&&(Rt?(rt.width=Math.ceil(ht+jt),rt.height=Math.ceil(et+xt)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,rt.width,rt.height)),j=lt.x*tt/2,$=lt.y*nt/2,this.cacheTranslationX=Math.round(rt.width/2-j)+j,this.cacheTranslationY=Math.round(rt.height/2-$)+$,this.cacheWidth=ht,this.cacheHeight=et,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(tt,nt),this.zoomX=tt,this.zoomY=nt,!0)},setOptions:function(g){this._setOptions(g),this._initGradient(g.fill,"fill"),this._initGradient(g.stroke,"stroke"),this._initClipping(g),this._initPattern(g.fill,"fill"),this._initPattern(g.stroke,"stroke")},transform:function(g,b){this.group&&!this.group._transformDone&&this.group===this.canvas._activeGroup&&this.group.transform(g);var j=b?this._getLeftTopCoords():this.getCenterPoint();g.translate(j.x,j.y),this.angle&&g.rotate(d(this.angle)),g.scale(this.scaleX*(this.flipX?-1:1),this.scaleY*(this.flipY?-1:1)),this.skewX&&g.transform(1,0,Math.tan(d(this.skewX)),1,0,0),this.skewY&&g.transform(1,Math.tan(d(this.skewY)),0,1,0,0)},toObject:function(g){var b=e.Object.NUM_FRACTION_DIGITS,j={type:this.type,originX:this.originX,originY:this.originY,left:a(this.left,b),top:a(this.top,b),width:a(this.width,b),height:a(this.height,b),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:a(this.strokeWidth,b),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:a(this.strokeMiterLimit,b),scaleX:a(this.scaleX,b),scaleY:a(this.scaleY,b),angle:a(this.getAngle(),b),flipX:this.flipX,flipY:this.flipY,opacity:a(this.opacity,b),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:a(this.skewX,b),skewY:a(this.skewY,b)};return e.util.populateWithProperties(this,j,g),this.includeDefaultValues||(j=this._removeDefaultValues(j)),j},toDatalessObject:function(g){return this.toObject(g)},_removeDefaultValues:function(g){var b=e.util.getKlass(g.type).prototype;return b.stateProperties.forEach(function(j){g[j]===b[j]&&delete g[j],Object.prototype.toString.call(g[j])==="[object Array]"&&Object.prototype.toString.call(b[j])==="[object Array]"&&g[j].length===0&&b[j].length===0&&delete g[j]}),g},toString:function(){return"#<fabric."+c(this.type)+">"},getObjectScaling:function(){var g=this.scaleX,b=this.scaleY;if(this.group){var j=this.group.getObjectScaling();g*=j.scaleX,b*=j.scaleY}return{scaleX:g,scaleY:b}},_set:function(g,b){var j=g==="scaleX"||g==="scaleY",$=this[g]!==b;return j&&(b=this._constrainScale(b)),g==="scaleX"&&b<0?(this.flipX=!this.flipX,b*=-1):g==="scaleY"&&b<0?(this.flipY=!this.flipY,b*=-1):g!=="shadow"||!b||b instanceof e.Shadow?g==="dirty"&&this.group&&this.group.set("dirty",b):b=new e.Shadow(b),this[g]=b,$&&this.cacheProperties.indexOf(g)>-1&&(this.group&&this.group.set("dirty",!0),this.dirty=!0),$&&this.group&&this.stateProperties.indexOf(g)>-1&&this.group.set("dirty",!0),g!=="width"&&g!=="height"||(this.minScaleLimit=Math.min(.1,1/Math.max(this.width,this.height))),this},setOnGroup:function(){},setSourcePath:function(g){return this.sourcePath=g,this},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:e.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||this.width===0&&this.height===0||!this.visible},render:function(g,b){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(g.save(),this._setupCompositeOperation(g),this.drawSelectionBackground(g),b||this.transform(g),this._setOpacity(g),this._setShadow(g),this.transformMatrix&&g.transform.apply(g,this.transformMatrix),this.clipTo&&e.util.clipContext(this,g),this.shouldCache(b)?(this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty(b)&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,b),this.dirty=!1),this.drawCacheOnCanvas(g)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(g,b),b&&this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&g.restore(),g.restore())},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},needsItsOwnCache:function(){return!1},shouldCache:function(g){return!g&&this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isCaching())},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawObject:function(g,b){this._renderBackground(g),this._setStrokeStyles(g),this._setFillStyles(g),this._render(g,b)},drawCacheOnCanvas:function(g){g.scale(1/this.zoomX,1/this.zoomY),g.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(g){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!g&&this._updateCacheCanvas())return!0;if(this.dirty||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!g){var b=this.cacheWidth/this.zoomX,j=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-b/2,-j/2,b,j)}return!0}return!1},_renderBackground:function(g){if(this.backgroundColor){var b=this._getNonTransformedDimensions();g.fillStyle=this.backgroundColor,g.fillRect(-b.x/2,-b.y/2,b.x,b.y),this._removeShadow(g)}},_setOpacity:function(g){g.globalAlpha*=this.opacity},_setStrokeStyles:function(g){this.stroke&&(g.lineWidth=this.strokeWidth,g.lineCap=this.strokeLineCap,g.lineJoin=this.strokeLineJoin,g.miterLimit=this.strokeMiterLimit,g.strokeStyle=this.stroke.toLive?this.stroke.toLive(g,this):this.stroke)},_setFillStyles:function(g){this.fill&&(g.fillStyle=this.fill.toLive?this.fill.toLive(g,this):this.fill)},_setLineDash:function(g,b,j){b&&(1&b.length&&b.push.apply(b,b),h?g.setLineDash(b):j&&j(g))},_renderControls:function(g){if(this.active&&(!this.group||this.group===this.canvas.getActiveGroup())){var b,j=this.getViewportTransform(),$=this.calcTransformMatrix();$=e.util.multiplyTransformMatrices(j,$),b=e.util.qrDecompose($),g.save(),g.translate(b.translateX,b.translateY),g.lineWidth=1*this.borderScaleFactor,this.group||(g.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.group&&this.group===this.canvas.getActiveGroup()?(g.rotate(d(b.angle)),this.drawBordersInGroup(g,b)):(g.rotate(d(this.angle)),this.drawBorders(g)),this.drawControls(g),g.restore()}},_setShadow:function(g){if(this.shadow){var b=this.canvas&&this.canvas.viewportTransform[0]||1,j=this.canvas&&this.canvas.viewportTransform[3]||1,$=this.getObjectScaling();this.canvas&&this.canvas._isRetinaScaling()&&(b*=e.devicePixelRatio,j*=e.devicePixelRatio),g.shadowColor=this.shadow.color,g.shadowBlur=this.shadow.blur*(b+j)*($.scaleX+$.scaleY)/4,g.shadowOffsetX=this.shadow.offsetX*b*$.scaleX,g.shadowOffsetY=this.shadow.offsetY*j*$.scaleY}},_removeShadow:function(g){this.shadow&&(g.shadowColor="",g.shadowBlur=g.shadowOffsetX=g.shadowOffsetY=0)},_applyPatternGradientTransform:function(g,b){if(b.toLive){var j=b.gradientTransform||b.patternTransform;j&&g.transform.apply(g,j);var $=-this.width/2+b.offsetX||0,rt=-this.height/2+b.offsetY||0;g.translate($,rt)}},_renderFill:function(g){this.fill&&(g.save(),this._applyPatternGradientTransform(g,this.fill),this.fillRule==="evenodd"?g.fill("evenodd"):g.fill(),g.restore())},_renderStroke:function(g){this.stroke&&this.strokeWidth!==0&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(g),g.save(),this._setLineDash(g,this.strokeDashArray,this._renderDashedStroke),this._applyPatternGradientTransform(g,this.stroke),g.stroke(),g.restore())},clone:function(g,b){return this.constructor.fromObject?this.constructor.fromObject(this.toObject(b),g):new e.Object(this.toObject(b))},cloneAsImage:function(g,b){var j=this.toDataURL(b);return e.util.loadImage(j,function($){g&&g(new e.Image($))}),this},toDataURL:function(g){g||(g={});var b=e.util.createCanvasElement(),j=this.getBoundingRect();b.width=j.width,b.height=j.height,e.util.wrapElement(b,"div");var $=new e.StaticCanvas(b,{enableRetinaScaling:g.enableRetinaScaling});g.format==="jpg"&&(g.format="jpeg"),g.format==="jpeg"&&($.backgroundColor="#fff");var rt={active:this.get("active"),left:this.getLeft(),top:this.getTop()};this.set("active",!1),this.setPositionByOrigin(new e.Point($.getWidth()/2,$.getHeight()/2),"center","center");var lt=this.canvas;$.add(this);var it=$.toDataURL(g);return this.set(rt).setCoords(),this.canvas=lt,$.dispose(),$=null,it},isType:function(g){return this.type===g},complexity:function(){return 1},toJSON:function(g){return this.toObject(g)},setGradient:function(g,b){b||(b={});var j={colorStops:[]};return j.type=b.type||(b.r1||b.r2?"radial":"linear"),j.coords={x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2},(b.r1||b.r2)&&(j.coords.r1=b.r1,j.coords.r2=b.r2),j.gradientTransform=b.gradientTransform,e.Gradient.prototype.addColorStop.call(j,b.colorStops),this.set(g,e.Gradient.forObject(this,j))},setPatternFill:function(g){return this.set("fill",new e.Pattern(g))},setShadow:function(g){return this.set("shadow",g?new e.Shadow(g):null)},setColor:function(g){return this.set("fill",g),this},setAngle:function(g){var b=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return b&&this._setOriginToCenter(),this.set("angle",g),b&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},remove:function(){return this.canvas&&(this.group&&this.group===this.canvas._activeGroup&&this.group.remove(this),this.canvas.remove(this)),this},getLocalPointer:function(g,b){b=b||this.canvas.getPointer(g);var j=new e.Point(b.x,b.y),$=this._getLeftTopCoords();return this.angle&&(j=e.util.rotatePoint(j,$,d(-this.angle))),{x:j.x-$.x,y:j.y-$.y}},_setupCompositeOperation:function(g){this.globalCompositeOperation&&(g.globalCompositeOperation=this.globalCompositeOperation)}}),e.util.createAccessors(e.Object),e.Object.prototype.rotate=e.Object.prototype.setAngle,o(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object._fromObject=function(g,b,j,$,rt){var lt=e[g];if(b=s(b,!0),!$){var it=rt?new lt(b[rt],b):new lt(b);return j&&j(it),it}e.util.enlivenPatterns([b.fill,b.stroke],function(ht){ht[0]!==void 0&&(b.fill=ht[0]),ht[1]!==void 0&&(b.stroke=ht[1]);var et=rt?new lt(b[rt],b):new lt(b);j&&j(et)})},e.Object.__uid=0)}(exports),function(){var i=fabric.util.degreesToRadians,e={left:-.5,center:0,right:.5},o={top:-.5,center:0,bottom:.5};fabric.util.object.extend(fabric.Object.prototype,{translateToGivenOrigin:function(s,a,c,d,h){var _,g,b,j=s.x,$=s.y;return typeof a=="string"?a=e[a]:a-=.5,typeof d=="string"?d=e[d]:d-=.5,_=d-a,typeof c=="string"?c=o[c]:c-=.5,typeof h=="string"?h=o[h]:h-=.5,g=h-c,(_||g)&&(b=this._getTransformedDimensions(),j=s.x+_*b.x,$=s.y+g*b.y),new fabric.Point(j,$)},translateToCenterPoint:function(s,a,c){var d=this.translateToGivenOrigin(s,a,c,"center","center");return this.angle?fabric.util.rotatePoint(d,s,i(this.angle)):d},translateToOriginPoint:function(s,a,c){var d=this.translateToGivenOrigin(s,"center","center",a,c);return this.angle?fabric.util.rotatePoint(d,s,i(this.angle)):d},getCenterPoint:function(){var s=new fabric.Point(this.left,this.top);return this.translateToCenterPoint(s,this.originX,this.originY)},getPointByOrigin:function(s,a){var c=this.getCenterPoint();return this.translateToOriginPoint(c,s,a)},toLocalPoint:function(s,a,c){var d,h,_=this.getCenterPoint();return d=a!==void 0&&c!==void 0?this.translateToGivenOrigin(_,"center","center",a,c):new fabric.Point(this.left,this.top),h=new fabric.Point(s.x,s.y),this.angle&&(h=fabric.util.rotatePoint(h,_,-i(this.angle))),h.subtractEquals(d)},setPositionByOrigin:function(s,a,c){var d=this.translateToCenterPoint(s,a,c),h=this.translateToOriginPoint(d,this.originX,this.originY);this.set("left",h.x),this.set("top",h.y)},adjustPosition:function(s){var a,c,d=i(this.angle),h=this.getWidth(),_=Math.cos(d)*h,g=Math.sin(d)*h;a=typeof this.originX=="string"?e[this.originX]:this.originX-.5,c=typeof s=="string"?e[s]:s-.5,this.left+=_*(c-a),this.top+=g*(c-a),this.setCoords(),this.originX=s},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var s=this.getCenterPoint();this.originX="center",this.originY="center",this.left=s.x,this.top=s.y},_resetOrigin:function(){var s=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=s.x,this.top=s.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")},onDeselect:function(){}})}(),function(){function i(s){return[new fabric.Point(s.tl.x,s.tl.y),new fabric.Point(s.tr.x,s.tr.y),new fabric.Point(s.br.x,s.br.y),new fabric.Point(s.bl.x,s.bl.y)]}var e=fabric.util.degreesToRadians,o=fabric.util.multiplyTransformMatrices;fabric.util.object.extend(fabric.Object.prototype,{oCoords:null,aCoords:null,getCoords:function(s,a){this.oCoords||this.setCoords();var c=s?this.aCoords:this.oCoords;return i(a?this.calcCoords(s):c)},intersectsWithRect:function(s,a,c,d){var h=this.getCoords(c,d);return fabric.Intersection.intersectPolygonRectangle(h,s,a).status==="Intersection"},intersectsWithObject:function(s,a,c){return fabric.Intersection.intersectPolygonPolygon(this.getCoords(a,c),s.getCoords(a,c)).status==="Intersection"||s.isContainedWithinObject(this,a,c)||this.isContainedWithinObject(s,a,c)},isContainedWithinObject:function(s,a,c){for(var d=this.getCoords(a,c),h=0,_=s._getImageLines(c?s.calcCoords(a):a?s.aCoords:s.oCoords);h<4;h++)if(!s.containsPoint(d[h],_))return!1;return!0},isContainedWithinRect:function(s,a,c,d){var h=this.getBoundingRect(c,d);return h.left>=s.x&&h.left+h.width<=a.x&&h.top>=s.y&&h.top+h.height<=a.y},containsPoint:function(s,h,c,d){var h=h||this._getImageLines(d?this.calcCoords(c):c?this.aCoords:this.oCoords),_=this._findCrossPoints(s,h);return _!==0&&_%2==1},isOnScreen:function(s){if(!this.canvas)return!1;for(var a,c=this.canvas.vptCoords.tl,d=this.canvas.vptCoords.br,h=this.getCoords(!0,s),_=0;_<4;_++)if(a=h[_],a.x<=d.x&&a.x>=c.x&&a.y<=d.y&&a.y>=c.y)return!0;if(this.intersectsWithRect(c,d,!0))return!0;var g={x:(c.x+d.x)/2,y:(c.y+d.y)/2};return!!this.containsPoint(g,null,!0)},_getImageLines:function(s){return{topline:{o:s.tl,d:s.tr},rightline:{o:s.tr,d:s.br},bottomline:{o:s.br,d:s.bl},leftline:{o:s.bl,d:s.tl}}},_findCrossPoints:function(s,a){var c,d,h,_,g,b,j=0;for(var $ in a)if(b=a[$],!(b.o.y<s.y&&b.d.y<s.y||b.o.y>=s.y&&b.d.y>=s.y||(b.o.x===b.d.x&&b.o.x>=s.x?g=b.o.x:(c=0,d=(b.d.y-b.o.y)/(b.d.x-b.o.x),h=s.y-c*s.x,_=b.o.y-d*b.o.x,g=-(h-_)/(c-d)),g>=s.x&&(j+=1),j!==2)))break;return j},getBoundingRectWidth:function(){return this.getBoundingRect().width},getBoundingRectHeight:function(){return this.getBoundingRect().height},getBoundingRect:function(s,a){var c=this.getCoords(s,a);return fabric.util.makeBoundingBoxFromPoints(c)},getWidth:function(){return this._getTransformedDimensions().x},getHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(s){return Math.abs(s)<this.minScaleLimit?s<0?-this.minScaleLimit:this.minScaleLimit:s},scale:function(s){return s=this._constrainScale(s),s<0&&(this.flipX=!this.flipX,this.flipY=!this.flipY,s*=-1),this.scaleX=s,this.scaleY=s,this.setCoords()},scaleToWidth:function(s){var a=this.getBoundingRect().width/this.getWidth();return this.scale(s/this.width/a)},scaleToHeight:function(s){var a=this.getBoundingRect().height/this.getHeight();return this.scale(s/this.height/a)},calcCoords:function(s){var a=e(this.angle),c=this.getViewportTransform(),d=s?this._getTransformedDimensions():this._calculateCurrentDimensions(),h=d.x,_=d.y,g=Math.sin(a),b=Math.cos(a),j=h>0?Math.atan(_/h):0,$=h/Math.cos(j)/2,rt=Math.cos(j+a)*$,lt=Math.sin(j+a)*$,it=this.getCenterPoint(),Rt=s?it:fabric.util.transformPoint(it,c),ht=new fabric.Point(Rt.x-rt,Rt.y-lt),et=new fabric.Point(ht.x+h*b,ht.y+h*g),tt=new fabric.Point(ht.x-_*g,ht.y+_*b),nt=new fabric.Point(Rt.x+rt,Rt.y+lt);if(!s)var st=new fabric.Point((ht.x+tt.x)/2,(ht.y+tt.y)/2),ut=new fabric.Point((et.x+ht.x)/2,(et.y+ht.y)/2),St=new fabric.Point((nt.x+et.x)/2,(nt.y+et.y)/2),jt=new fabric.Point((nt.x+tt.x)/2,(nt.y+tt.y)/2),xt=new fabric.Point(ut.x+g*this.rotatingPointOffset,ut.y-b*this.rotatingPointOffset);var Rt={tl:ht,tr:et,br:nt,bl:tt};return s||(Rt.ml=st,Rt.mt=ut,Rt.mr=St,Rt.mb=jt,Rt.mtr=xt),Rt},setCoords:function(s,a){return this.oCoords=this.calcCoords(s),a||(this.aCoords=this.calcCoords(!0)),s||this._setCornerCoords&&this._setCornerCoords(),this},_calcRotateMatrix:function(){if(this.angle){var s=e(this.angle),a=Math.cos(s),c=Math.sin(s);return a!==6123233995736766e-32&&a!==-18369701987210297e-32||(a=0),[a,c,-c,a,0,0]}return fabric.iMatrix.concat()},calcTransformMatrix:function(s){var a,c,d=this.getCenterPoint(),h=[1,0,0,1,d.x,d.y],_=this._calcDimensionsTransformMatrix(this.skewX,this.skewY,!0);return c=this.group&&!s?o(this.group.calcTransformMatrix(),h):h,this.angle&&(a=this._calcRotateMatrix(),c=o(c,a)),c=o(c,_)},_calcDimensionsTransformMatrix:function(s,a,c){var d,h=this.scaleX*(c&&this.flipX?-1:1),_=this.scaleY*(c&&this.flipY?-1:1),g=[h,0,0,_,0,0];return s&&(d=[1,0,Math.tan(e(s)),1],g=o(g,d,!0)),a&&(d=[1,Math.tan(e(a)),0,1],g=o(g,d,!0)),g},_getNonTransformedDimensions:function(){var s=this.strokeWidth;return{x:this.width+s,y:this.height+s}},_getTransformedDimensions:function(s,a){s===void 0&&(s=this.skewX),a===void 0&&(a=this.skewY);var c,d,h=this._getNonTransformedDimensions(),_=h.x/2,g=h.y/2,b=[{x:-_,y:-g},{x:_,y:-g},{x:-_,y:g},{x:_,y:g}],j=this._calcDimensionsTransformMatrix(s,a,!1);for(c=0;c<b.length;c++)b[c]=fabric.util.transformPoint(b[c],j);return d=fabric.util.makeBoundingBoxFromPoints(b),{x:d.width,y:d.height}},_calculateCurrentDimensions:function(){var s=this.getViewportTransform(),a=this._getTransformedDimensions();return fabric.util.transformPoint(a,s,!0).scalarAdd(2*this.padding)}})}(),fabric.util.object.extend(fabric.Object.prototype,{sendToBack:function(){return this.group?fabric.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?fabric.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(i){return this.group?fabric.StaticCanvas.prototype.sendBackwards.call(this.group,this,i):this.canvas.sendBackwards(this,i),this},bringForward:function(i){return this.group?fabric.StaticCanvas.prototype.bringForward.call(this.group,this,i):this.canvas.bringForward(this,i),this},moveTo:function(i){return this.group?fabric.StaticCanvas.prototype.moveTo.call(this.group,this,i):this.canvas.moveTo(this,i),this}}),function(){function i(e,o){if(o){if(o.toLive)return e+": url(#SVGID_"+o.id+"); ";var s=new fabric.Color(o),a=e+": "+s.toRgb()+"; ",c=s.getAlpha();return c!==1&&(a+=e+"-opacity: "+c.toString()+"; "),a}return e+": none; "}fabric.util.object.extend(fabric.Object.prototype,{getSvgStyles:function(e){var o=this.fillRule,s=this.strokeWidth?this.strokeWidth:"0",a=this.strokeDashArray?this.strokeDashArray.join(" "):"none",c=this.strokeLineCap?this.strokeLineCap:"butt",d=this.strokeLineJoin?this.strokeLineJoin:"miter",h=this.strokeMiterLimit?this.strokeMiterLimit:"4",_=this.opacity!==void 0?this.opacity:"1",g=this.visible?"":" visibility: hidden;",b=e?"":this.getSvgFilter(),j=i("fill",this.fill);return[i("stroke",this.stroke),"stroke-width: ",s,"; ","stroke-dasharray: ",a,"; ","stroke-linecap: ",c,"; ","stroke-linejoin: ",d,"; ","stroke-miterlimit: ",h,"; ",j,"fill-rule: ",o,"; ","opacity: ",_,";",b,g].join("")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgId:function(){return this.id?'id="'+this.id+'" ':""},getSvgTransform:function(){if(this.group&&this.group.type==="path-group")return"";var e=fabric.util.toFixed,o=this.getAngle(),s=this.getSkewX()%360,a=this.getSkewY()%360,c=this.getCenterPoint(),d=fabric.Object.NUM_FRACTION_DIGITS,h=this.type==="path-group"?"":"translate("+e(c.x,d)+" "+e(c.y,d)+")",_=o!==0?" rotate("+e(o,d)+")":"",g=this.scaleX===1&&this.scaleY===1?"":" scale("+e(this.scaleX,d)+" "+e(this.scaleY,d)+")",b=s!==0?" skewX("+e(s,d)+")":"",j=a!==0?" skewY("+e(a,d)+")":"",$=this.type==="path-group"?this.width:0,rt=this.flipX?" matrix(-1 0 0 1 "+$+" 0) ":"",lt=this.type==="path-group"?this.height:0;return[h,_,g,rt,this.flipY?" matrix(1 0 0 -1 0 "+lt+")":"",b,j].join("")},getSvgTransformMatrix:function(){return this.transformMatrix?" matrix("+this.transformMatrix.join(" ")+") ":""},_createBaseSVGMarkup:function(){var e=[];return this.fill&&this.fill.toLive&&e.push(this.fill.toSVG(this,!1)),this.stroke&&this.stroke.toLive&&e.push(this.stroke.toSVG(this,!1)),this.shadow&&e.push(this.shadow.toSVG(this)),e}})}(),function(){function i(s,a,c){var d={};c.forEach(function(h){d[h]=s[h]}),o(s[a],d,!0)}function e(s,a,c){if(s===a)return!0;if(Array.isArray(s)){if(s.length!==a.length)return!1;for(var d=0,h=s.length;d<h;d++)if(!e(s[d],a[d]))return!1;return!0}if(s&&typeof s=="object"){var _,g=Object.keys(s);if(!c&&g.length!==Object.keys(a).length)return!1;for(var d=0,h=g.length;d<h;d++)if(_=g[d],!e(s[_],a[_]))return!1;return!0}}var o=fabric.util.object.extend;fabric.util.object.extend(fabric.Object.prototype,{hasStateChanged:function(s){s=s||"stateProperties";var a="_"+s;return Object.keys(this[a]).length<this[s].length||!e(this[a],this,!0)},saveState:function(s){var a=s&&s.propertySet||"stateProperties",c="_"+a;return this[c]?(i(this,c,this[a]),s&&s.stateProperties&&i(this,c,s.stateProperties),this):this.setupState(s)},setupState:function(s){s=s||{};var a=s.propertySet||"stateProperties";return s.propertySet=a,this["_"+a]={},this.saveState(s),this}})}(),function(){var i=fabric.util.degreesToRadians,e=function(){return typeof G_vmlCanvasManager<"u"};fabric.util.object.extend(fabric.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(o){if(!this.hasControls||!this.active)return!1;var s,a,c=o.x,d=o.y;this.__corner=0;for(var h in this.oCoords)if(this.isControlVisible(h)&&(h!=="mtr"||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||h!=="mt"&&h!=="mr"&&h!=="mb"&&h!=="ml")&&(a=this._getImageLines(this.oCoords[h].corner),(s=this._findCrossPoints({x:c,y:d},a))!==0&&s%2==1))return this.__corner=h,h;return!1},_setCornerCoords:function(){var o,s,a=this.oCoords,c=i(45-this.angle),d=.707106*this.cornerSize,h=d*Math.cos(c),_=d*Math.sin(c);for(var g in a)o=a[g].x,s=a[g].y,a[g].corner={tl:{x:o-_,y:s-h},tr:{x:o+h,y:s-_},bl:{x:o-h,y:s+_},br:{x:o+_,y:s+h}}},drawSelectionBackground:function(o){if(!this.selectionBackgroundColor||this.group||!this.active||this.canvas&&!this.canvas.interactive)return this;o.save();var s=this.getCenterPoint(),a=this._calculateCurrentDimensions(),c=this.canvas.viewportTransform;return o.translate(s.x,s.y),o.scale(1/c[0],1/c[3]),o.rotate(i(this.angle)),o.fillStyle=this.selectionBackgroundColor,o.fillRect(-a.x/2,-a.y/2,a.x,a.y),o.restore(),this},drawBorders:function(o){if(!this.hasBorders)return this;var s=this._calculateCurrentDimensions(),a=1/this.borderScaleFactor,c=s.x+a,d=s.y+a;if(o.save(),o.strokeStyle=this.borderColor,this._setLineDash(o,this.borderDashArray,null),o.strokeRect(-c/2,-d/2,c,d),this.hasRotatingPoint&&this.isControlVisible("mtr")&&!this.get("lockRotation")&&this.hasControls){var h=-d/2;o.beginPath(),o.moveTo(0,h),o.lineTo(0,h-this.rotatingPointOffset),o.closePath(),o.stroke()}return o.restore(),this},drawBordersInGroup:function(o,s){if(!this.hasBorders)return this;var a=this._getNonTransformedDimensions(),c=fabric.util.customTransformMatrix(s.scaleX,s.scaleY,s.skewX),d=fabric.util.transformPoint(a,c),h=1/this.borderScaleFactor,_=d.x+h,g=d.y+h;return o.save(),this._setLineDash(o,this.borderDashArray,null),o.strokeStyle=this.borderColor,o.strokeRect(-_/2,-g/2,_,g),o.restore(),this},drawControls:function(o){if(!this.hasControls)return this;var s=this._calculateCurrentDimensions(),a=s.x,c=s.y,d=this.cornerSize,h=-(a+d)/2,_=-(c+d)/2,g=this.transparentCorners?"stroke":"fill";return o.save(),o.strokeStyle=o.fillStyle=this.cornerColor,this.transparentCorners||(o.strokeStyle=this.cornerStrokeColor),this._setLineDash(o,this.cornerDashArray,null),this._drawControl("tl",o,g,h,_),this._drawControl("tr",o,g,h+a,_),this._drawControl("bl",o,g,h,_+c),this._drawControl("br",o,g,h+a,_+c),this.get("lockUniScaling")||(this._drawControl("mt",o,g,h+a/2,_),this._drawControl("mb",o,g,h+a/2,_+c),this._drawControl("mr",o,g,h+a,_+c/2),this._drawControl("ml",o,g,h,_+c/2)),this.hasRotatingPoint&&this._drawControl("mtr",o,g,h+a/2,_-this.rotatingPointOffset),o.restore(),this},_drawControl:function(o,s,a,c,d){if(this.isControlVisible(o)){var h=this.cornerSize,_=!this.transparentCorners&&this.cornerStrokeColor;switch(this.cornerStyle){case"circle":s.beginPath(),s.arc(c+h/2,d+h/2,h/2,0,2*Math.PI,!1),s[a](),_&&s.stroke();break;default:e()||this.transparentCorners||s.clearRect(c,d,h,h),s[a+"Rect"](c,d,h,h),_&&s.strokeRect(c,d,h,h)}}},isControlVisible:function(o){return this._getControlsVisibility()[o]},setControlVisible:function(o,s){return this._getControlsVisibility()[o]=s,this},setControlsVisibility:function(o){o||(o={});for(var s in o)this.setControlVisible(s,o[s]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility}})}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(i,e){e=e||{};var o=function(){},s=e.onComplete||o,a=e.onChange||o,c=this;return fabric.util.animate({startValue:i.get("left"),endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(d){i.set("left",d),c.renderAll(),a()},onComplete:function(){i.setCoords(),s()}}),this},fxCenterObjectV:function(i,e){e=e||{};var o=function(){},s=e.onComplete||o,a=e.onChange||o,c=this;return fabric.util.animate({startValue:i.get("top"),endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(d){i.set("top",d),c.renderAll(),a()},onComplete:function(){i.setCoords(),s()}}),this},fxRemove:function(i,e){e=e||{};var o=function(){},s=e.onComplete||o,a=e.onChange||o,c=this;return fabric.util.animate({startValue:i.get("opacity"),endValue:0,duration:this.FX_DURATION,onStart:function(){i.set("active",!1)},onChange:function(d){i.set("opacity",d),c.renderAll(),a()},onComplete:function(){c.remove(i),s()}}),this}}),fabric.util.object.extend(fabric.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var i,e,o=[];for(i in arguments[0])o.push(i);for(var s=0,a=o.length;s<a;s++)i=o[s],e=s!==a-1,this._animate(i,arguments[0][i],arguments[1],e)}else this._animate.apply(this,arguments);return this},_animate:function(i,e,o,s){var a,c=this;e=e.toString(),o=o?fabric.util.object.clone(o):{},~i.indexOf(".")&&(a=i.split("."));var d=a?this.get(a[0])[a[1]]:this.get(i);"from"in o||(o.from=d),e=~e.indexOf("=")?d+parseFloat(e.replace("=","")):parseFloat(e),fabric.util.animate({startValue:o.from,endValue:e,byValue:o.by,easing:o.easing,duration:o.duration,abort:o.abort&&function(){return o.abort.call(c)},onChange:function(h,_,g){a?c[a[0]][a[1]]=h:c.set(i,h),s||o.onChange&&o.onChange(h,_,g)},onComplete:function(h,_,g){s||(c.setCoords(),o.onComplete&&o.onComplete(h,_,g))}})}}),function(i){function e(h,_){var g=h.origin,b=h.axis1,j=h.axis2,$=h.dimension,rt=_.nearest,lt=_.center,it=_.farthest;return function(){switch(this.get(g)){case rt:return Math.min(this.get(b),this.get(j));case lt:return Math.min(this.get(b),this.get(j))+.5*this.get($);case it:return Math.max(this.get(b),this.get(j))}}}var o=i.fabric||(i.fabric={}),s=o.util.object.extend,a=o.util.object.clone,c={x1:1,x2:1,y1:1,y2:1},d=o.StaticCanvas.supports("setLineDash");if(o.Line)return void o.warn("fabric.Line is already defined");o.Line=o.util.createClass(o.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:o.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(h,_){h||(h=[0,0,0,0]),this.callSuper("initialize",_),this.set("x1",h[0]),this.set("y1",h[1]),this.set("x2",h[2]),this.set("y2",h[3]),this._setWidthHeight(_)},_setWidthHeight:function(h){h||(h={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in h?h.left:this._getLeftToOriginX(),this.top="top"in h?h.top:this._getTopToOriginY()},_set:function(h,_){return this.callSuper("_set",h,_),c[h]!==void 0&&this._setWidthHeight(),this},_getLeftToOriginX:e({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:e({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(h,_){if(h.beginPath(),_){var g=this.getCenterPoint(),b=this.strokeWidth/2;h.translate(g.x-(this.strokeLineCap==="butt"&&this.height===0?0:b),g.y-(this.strokeLineCap==="butt"&&this.width===0?0:b))}if(!this.strokeDashArray||this.strokeDashArray&&d){var j=this.calcLinePoints();h.moveTo(j.x1,j.y1),h.lineTo(j.x2,j.y2)}h.lineWidth=this.strokeWidth;var $=h.strokeStyle;h.strokeStyle=this.stroke||h.fillStyle,this.stroke&&this._renderStroke(h),h.strokeStyle=$},_renderDashedStroke:function(h){var _=this.calcLinePoints();h.beginPath(),o.util.drawDashedLine(h,_.x1,_.y1,_.x2,_.y2,this.strokeDashArray),h.closePath()},toObject:function(h){return s(this.callSuper("toObject",h),this.calcLinePoints())},_getNonTransformedDimensions:function(){var h=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(h.y-=this.strokeWidth),this.height===0&&(h.x-=this.strokeWidth)),h},calcLinePoints:function(){var h=this.x1<=this.x2?-1:1,_=this.y1<=this.y2?-1:1,g=h*this.width*.5,b=_*this.height*.5;return{x1:g,x2:h*this.width*-.5,y1:b,y2:_*this.height*-.5}},toSVG:function(h){var _=this._createBaseSVGMarkup(),g={x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2};return this.group&&this.group.type==="path-group"||(g=this.calcLinePoints()),_.push("<line ",this.getSvgId(),'x1="',g.x1,'" y1="',g.y1,'" x2="',g.x2,'" y2="',g.y2,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),`"/>
`),h?h(_.join("")):_.join("")}}),o.Line.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),o.Line.fromElement=function(h,_){_=_||{};var g=o.parseAttributes(h,o.Line.ATTRIBUTE_NAMES),b=[g.x1||0,g.y1||0,g.x2||0,g.y2||0];return _.originX="left",_.originY="top",new o.Line(b,s(g,_))},o.Line.fromObject=function(h,_,g){function b(rt){delete rt.points,_&&_(rt)}var j=a(h,!0);j.points=[h.x1,h.y1,h.x2,h.y2];var $=o.Object._fromObject("Line",j,b,g,"points");return $&&delete $.points,$}}(exports),function(i){function e(c){return"radius"in c&&c.radius>=0}var o=i.fabric||(i.fabric={}),s=Math.PI,a=o.util.object.extend;if(o.Circle)return void o.warn("fabric.Circle is already defined.");o.Circle=o.util.createClass(o.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*s,cacheProperties:o.Object.prototype.cacheProperties.concat("radius"),initialize:function(c){this.callSuper("initialize",c),this.set("radius",c&&c.radius||0)},_set:function(c,d){return this.callSuper("_set",c,d),c==="radius"&&this.setRadius(d),this},toObject:function(c){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(c))},toSVG:function(c){var d=this._createBaseSVGMarkup(),h=0,_=0,g=(this.endAngle-this.startAngle)%(2*s);if(g===0)this.group&&this.group.type==="path-group"&&(h=this.left+this.radius,_=this.top+this.radius),d.push("<circle ",this.getSvgId(),'cx="'+h+'" cy="'+_+'" ','r="',this.radius,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),`"/>
`);else{var b=Math.cos(this.startAngle)*this.radius,j=Math.sin(this.startAngle)*this.radius,$=Math.cos(this.endAngle)*this.radius,rt=Math.sin(this.endAngle)*this.radius,lt=g>s?"1":"0";d.push('<path d="M '+b+" "+j," A "+this.radius+" "+this.radius," 0 ",+lt+" 1"," "+$+" "+rt,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),`"/>
`)}return c?c(d.join("")):d.join("")},_render:function(c,d){c.beginPath(),c.arc(d?this.left+this.radius:0,d?this.top+this.radius:0,this.radius,this.startAngle,this.endAngle,!1),this._renderFill(c),this._renderStroke(c)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(c){return this.radius=c,this.set("width",2*c).set("height",2*c)}}),o.Circle.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),o.Circle.fromElement=function(c,d){d||(d={});var h=o.parseAttributes(c,o.Circle.ATTRIBUTE_NAMES);if(!e(h))throw new Error("value of `r` attribute is required and can not be negative");h.left=h.left||0,h.top=h.top||0;var _=new o.Circle(a(h,d));return _.left-=_.radius,_.top-=_.radius,_},o.Circle.fromObject=function(c,d,h){return o.Object._fromObject("Circle",c,d,h)}}(exports),function(i){var e=i.fabric||(i.fabric={});if(e.Triangle)return void e.warn("fabric.Triangle is already defined");e.Triangle=e.util.createClass(e.Object,{type:"triangle",initialize:function(o){this.callSuper("initialize",o),this.set("width",o&&o.width||100).set("height",o&&o.height||100)},_render:function(o){var s=this.width/2,a=this.height/2;o.beginPath(),o.moveTo(-s,a),o.lineTo(0,-a),o.lineTo(s,a),o.closePath(),this._renderFill(o),this._renderStroke(o)},_renderDashedStroke:function(o){var s=this.width/2,a=this.height/2;o.beginPath(),e.util.drawDashedLine(o,-s,a,0,-a,this.strokeDashArray),e.util.drawDashedLine(o,0,-a,s,a,this.strokeDashArray),e.util.drawDashedLine(o,s,a,-s,a,this.strokeDashArray),o.closePath()},toSVG:function(o){var s=this._createBaseSVGMarkup(),a=this.width/2,c=this.height/2,d=[-a+" "+c,"0 "+-c,a+" "+c].join(",");return s.push("<polygon ",this.getSvgId(),'points="',d,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>'),o?o(s.join("")):s.join("")}}),e.Triangle.fromObject=function(o,s,a){return e.Object._fromObject("Triangle",o,s,a)}}(exports),function(i){var e=i.fabric||(i.fabric={}),o=2*Math.PI,s=e.util.object.extend;if(e.Ellipse)return void e.warn("fabric.Ellipse is already defined.");e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(a){this.callSuper("initialize",a),this.set("rx",a&&a.rx||0),this.set("ry",a&&a.ry||0)},_set:function(a,c){switch(this.callSuper("_set",a,c),a){case"rx":this.rx=c,this.set("width",2*c);break;case"ry":this.ry=c,this.set("height",2*c)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(a){return this.callSuper("toObject",["rx","ry"].concat(a))},toSVG:function(a){var c=this._createBaseSVGMarkup(),d=0,h=0;return this.group&&this.group.type==="path-group"&&(d=this.left+this.rx,h=this.top+this.ry),c.push("<ellipse ",this.getSvgId(),'cx="',d,'" cy="',h,'" ','rx="',this.rx,'" ry="',this.ry,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),`"/>
`),a?a(c.join("")):c.join("")},_render:function(a,c){a.beginPath(),a.save(),a.transform(1,0,0,this.ry/this.rx,0,0),a.arc(c?this.left+this.rx:0,c?(this.top+this.ry)*this.rx/this.ry:0,this.rx,0,o,!1),a.restore(),this._renderFill(a),this._renderStroke(a)}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(a,c){c||(c={});var d=e.parseAttributes(a,e.Ellipse.ATTRIBUTE_NAMES);d.left=d.left||0,d.top=d.top||0;var h=new e.Ellipse(s(d,c));return h.top-=h.ry,h.left-=h.rx,h},e.Ellipse.fromObject=function(a,c,d){return e.Object._fromObject("Ellipse",a,c,d)}}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend;if(e.Rect)return void e.warn("fabric.Rect is already defined");e.Rect=e.util.createClass(e.Object,{stateProperties:e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(s){this.callSuper("initialize",s),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(s,a){if(this.width===1&&this.height===1)return void s.fillRect(-.5,-.5,1,1);var c=this.rx?Math.min(this.rx,this.width/2):0,d=this.ry?Math.min(this.ry,this.height/2):0,h=this.width,_=this.height,g=a?this.left:-this.width/2,b=a?this.top:-this.height/2,j=c!==0||d!==0,$=.4477152502;s.beginPath(),s.moveTo(g+c,b),s.lineTo(g+h-c,b),j&&s.bezierCurveTo(g+h-$*c,b,g+h,b+$*d,g+h,b+d),s.lineTo(g+h,b+_-d),j&&s.bezierCurveTo(g+h,b+_-$*d,g+h-$*c,b+_,g+h-c,b+_),s.lineTo(g+c,b+_),j&&s.bezierCurveTo(g+$*c,b+_,g,b+_-$*d,g,b+_-d),s.lineTo(g,b+d),j&&s.bezierCurveTo(g,b+$*d,g+$*c,b,g+c,b),s.closePath(),this._renderFill(s),this._renderStroke(s)},_renderDashedStroke:function(s){var a=-this.width/2,c=-this.height/2,d=this.width,h=this.height;s.beginPath(),e.util.drawDashedLine(s,a,c,a+d,c,this.strokeDashArray),e.util.drawDashedLine(s,a+d,c,a+d,c+h,this.strokeDashArray),e.util.drawDashedLine(s,a+d,c+h,a,c+h,this.strokeDashArray),e.util.drawDashedLine(s,a,c+h,a,c,this.strokeDashArray),s.closePath()},toObject:function(s){return this.callSuper("toObject",["rx","ry"].concat(s))},toSVG:function(s){var a=this._createBaseSVGMarkup(),c=this.left,d=this.top;return this.group&&this.group.type==="path-group"||(c=-this.width/2,d=-this.height/2),a.push("<rect ",this.getSvgId(),'x="',c,'" y="',d,'" rx="',this.get("rx"),'" ry="',this.get("ry"),'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),`"/>
`),s?s(a.join("")):a.join("")}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(s,a){if(!s)return null;a=a||{};var c=e.parseAttributes(s,e.Rect.ATTRIBUTE_NAMES);c.left=c.left||0,c.top=c.top||0;var d=new e.Rect(o(a?e.util.object.clone(a):{},c));return d.visible=d.visible&&d.width>0&&d.height>0,d},e.Rect.fromObject=function(s,a,c){return e.Object._fromObject("Rect",s,a,c)}}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend,s=e.util.array.min,a=e.util.array.max,c=e.util.toFixed,d=e.Object.NUM_FRACTION_DIGITS;if(e.Polyline)return void e.warn("fabric.Polyline is already defined");e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,minX:0,minY:0,cacheProperties:e.Object.prototype.cacheProperties.concat("points"),initialize:function(h,_){_=_||{},this.points=h||[],this.callSuper("initialize",_),this._calcDimensions(),"top"in _||(this.top=this.minY),"left"in _||(this.left=this.minX),this.pathOffset={x:this.minX+this.width/2,y:this.minY+this.height/2}},_calcDimensions:function(){var h=this.points,_=s(h,"x"),g=s(h,"y"),b=a(h,"x"),j=a(h,"y");this.width=b-_||0,this.height=j-g||0,this.minX=_||0,this.minY=g||0},toObject:function(h){return o(this.callSuper("toObject",h),{points:this.points.concat()})},toSVG:function(h){var _=[],g=0,b=0,j=this._createBaseSVGMarkup();this.group&&this.group.type==="path-group"||(g=this.pathOffset.x,b=this.pathOffset.y);for(var $=0,rt=this.points.length;$<rt;$++)_.push(c(this.points[$].x-g,d),",",c(this.points[$].y-b,d)," ");return j.push("<",this.type," ",this.getSvgId(),'points="',_.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),`"/>
`),h?h(j.join("")):j.join("")},commonRender:function(h,_){var g,b=this.points.length,j=_?0:this.pathOffset.x,$=_?0:this.pathOffset.y;if(!b||isNaN(this.points[b-1].y))return!1;h.beginPath(),h.moveTo(this.points[0].x-j,this.points[0].y-$);for(var rt=0;rt<b;rt++)g=this.points[rt],h.lineTo(g.x-j,g.y-$);return!0},_render:function(h,_){this.commonRender(h,_)&&(this._renderFill(h),this._renderStroke(h))},_renderDashedStroke:function(h){var _,g;h.beginPath();for(var b=0,j=this.points.length;b<j;b++)_=this.points[b],g=this.points[b+1]||_,e.util.drawDashedLine(h,_.x,_.y,g.x,g.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElement=function(h,_){if(!h)return null;_||(_={});var g=e.parsePointsAttribute(h.getAttribute("points")),b=e.parseAttributes(h,e.Polyline.ATTRIBUTE_NAMES);return new e.Polyline(g,e.util.object.extend(b,_))},e.Polyline.fromObject=function(h,_,g){return e.Object._fromObject("Polyline",h,_,g,"points")}}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend;if(e.Polygon)return void e.warn("fabric.Polygon is already defined");e.Polygon=e.util.createClass(e.Polyline,{type:"polygon",_render:function(s,a){this.commonRender(s,a)&&(s.closePath(),this._renderFill(s),this._renderStroke(s))},_renderDashedStroke:function(s){this.callSuper("_renderDashedStroke",s),s.closePath()}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=function(s,a){if(!s)return null;a||(a={});var c=e.parsePointsAttribute(s.getAttribute("points")),d=e.parseAttributes(s,e.Polygon.ATTRIBUTE_NAMES);return new e.Polygon(c,o(d,a))},e.Polygon.fromObject=function(s,a,c){return e.Object._fromObject("Polygon",s,a,c,"points")}}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.array.min,s=e.util.array.max,a=e.util.object.extend,c=Object.prototype.toString,d=e.util.drawArc,h={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},_={m:"l",M:"L"};if(e.Path)return void e.warn("fabric.Path is already defined");e.Path=e.util.createClass(e.Object,{type:"path",path:null,minX:0,minY:0,cacheProperties:e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:e.Object.prototype.stateProperties.concat("path"),initialize:function(g,b){b=b||{},this.callSuper("initialize",b),g||(g=[]);var j=c.call(g)==="[object Array]";this.path=j?g:g.match&&g.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(j||(this.path=this._parsePath()),this._setPositionDimensions(b))},_setPositionDimensions:function(g){var b=this._parseDimensions();this.minX=b.left,this.minY=b.top,this.width=b.width,this.height=b.height,g.left===void 0&&(this.left=b.left+(this.originX==="center"?this.width/2:this.originX==="right"?this.width:0)),g.top===void 0&&(this.top=b.top+(this.originY==="center"?this.height/2:this.originY==="bottom"?this.height:0)),this.pathOffset=this.pathOffset||{x:this.minX+this.width/2,y:this.minY+this.height/2}},_renderPathCommands:function(g){var b,j,$,rt=null,lt=0,it=0,ht=0,et=0,tt=0,nt=0,st=-this.pathOffset.x,ut=-this.pathOffset.y;this.group&&this.group.type==="path-group"&&(st=0,ut=0),g.beginPath();for(var St=0,jt=this.path.length;St<jt;++St){switch(b=this.path[St],b[0]){case"l":ht+=b[1],et+=b[2],g.lineTo(ht+st,et+ut);break;case"L":ht=b[1],et=b[2],g.lineTo(ht+st,et+ut);break;case"h":ht+=b[1],g.lineTo(ht+st,et+ut);break;case"H":ht=b[1],g.lineTo(ht+st,et+ut);break;case"v":et+=b[1],g.lineTo(ht+st,et+ut);break;case"V":et=b[1],g.lineTo(ht+st,et+ut);break;case"m":ht+=b[1],et+=b[2],lt=ht,it=et,g.moveTo(ht+st,et+ut);break;case"M":ht=b[1],et=b[2],lt=ht,it=et,g.moveTo(ht+st,et+ut);break;case"c":j=ht+b[5],$=et+b[6],tt=ht+b[3],nt=et+b[4],g.bezierCurveTo(ht+b[1]+st,et+b[2]+ut,tt+st,nt+ut,j+st,$+ut),ht=j,et=$;break;case"C":ht=b[5],et=b[6],tt=b[3],nt=b[4],g.bezierCurveTo(b[1]+st,b[2]+ut,tt+st,nt+ut,ht+st,et+ut);break;case"s":j=ht+b[3],$=et+b[4],rt[0].match(/[CcSs]/)===null?(tt=ht,nt=et):(tt=2*ht-tt,nt=2*et-nt),g.bezierCurveTo(tt+st,nt+ut,ht+b[1]+st,et+b[2]+ut,j+st,$+ut),tt=ht+b[1],nt=et+b[2],ht=j,et=$;break;case"S":j=b[3],$=b[4],rt[0].match(/[CcSs]/)===null?(tt=ht,nt=et):(tt=2*ht-tt,nt=2*et-nt),g.bezierCurveTo(tt+st,nt+ut,b[1]+st,b[2]+ut,j+st,$+ut),ht=j,et=$,tt=b[1],nt=b[2];break;case"q":j=ht+b[3],$=et+b[4],tt=ht+b[1],nt=et+b[2],g.quadraticCurveTo(tt+st,nt+ut,j+st,$+ut),ht=j,et=$;break;case"Q":j=b[3],$=b[4],g.quadraticCurveTo(b[1]+st,b[2]+ut,j+st,$+ut),ht=j,et=$,tt=b[1],nt=b[2];break;case"t":j=ht+b[1],$=et+b[2],rt[0].match(/[QqTt]/)===null?(tt=ht,nt=et):(tt=2*ht-tt,nt=2*et-nt),g.quadraticCurveTo(tt+st,nt+ut,j+st,$+ut),ht=j,et=$;break;case"T":j=b[1],$=b[2],rt[0].match(/[QqTt]/)===null?(tt=ht,nt=et):(tt=2*ht-tt,nt=2*et-nt),g.quadraticCurveTo(tt+st,nt+ut,j+st,$+ut),ht=j,et=$;break;case"a":d(g,ht+st,et+ut,[b[1],b[2],b[3],b[4],b[5],b[6]+ht+st,b[7]+et+ut]),ht+=b[6],et+=b[7];break;case"A":d(g,ht+st,et+ut,[b[1],b[2],b[3],b[4],b[5],b[6]+st,b[7]+ut]),ht=b[6],et=b[7];break;case"z":case"Z":ht=lt,et=it,g.closePath()}rt=b}},_render:function(g){this._renderPathCommands(g),this._renderFill(g),this._renderStroke(g)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(g){return a(this.callSuper("toObject",["sourcePath","pathOffset"].concat(g)),{path:this.path.map(function(b){return b.slice()}),top:this.top,left:this.left})},toDatalessObject:function(g){var b=this.toObject(g);return this.sourcePath&&(b.path=this.sourcePath),delete b.sourcePath,b},toSVG:function(g){for(var b=[],j=this._createBaseSVGMarkup(),$="",rt=0,lt=this.path.length;rt<lt;rt++)b.push(this.path[rt].join(" "));var it=b.join(" ");return this.group&&this.group.type==="path-group"||($=" translate("+-this.pathOffset.x+", "+-this.pathOffset.y+") "),j.push("<path ",this.getSvgId(),'d="',it,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),$,this.getSvgTransformMatrix(),'" stroke-linecap="round" ',`/>
`),g?g(j.join("")):j.join("")},complexity:function(){return this.path.length},_parsePath:function(){for(var g,b,j,$,rt,lt=[],it=[],ht=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,et=0,tt=this.path.length;et<tt;et++){for(g=this.path[et],$=g.slice(1).trim(),it.length=0;j=ht.exec($);)it.push(j[0]);rt=[g.charAt(0)];for(var nt=0,st=it.length;nt<st;nt++)b=parseFloat(it[nt]),isNaN(b)||rt.push(b);var ut=rt[0],St=h[ut.toLowerCase()],jt=_[ut]||ut;if(rt.length-1>St)for(var xt=1,Rt=rt.length;xt<Rt;xt+=St)lt.push([ut].concat(rt.slice(xt,xt+St))),ut=jt;else lt.push(rt)}return lt},_parseDimensions:function(){for(var g,b,j,$,rt=[],lt=[],it=null,ht=0,et=0,tt=0,nt=0,st=0,ut=0,St=0,jt=this.path.length;St<jt;++St){switch(g=this.path[St],g[0]){case"l":tt+=g[1],nt+=g[2],$=[];break;case"L":tt=g[1],nt=g[2],$=[];break;case"h":tt+=g[1],$=[];break;case"H":tt=g[1],$=[];break;case"v":nt+=g[1],$=[];break;case"V":nt=g[1],$=[];break;case"m":tt+=g[1],nt+=g[2],ht=tt,et=nt,$=[];break;case"M":tt=g[1],nt=g[2],ht=tt,et=nt,$=[];break;case"c":b=tt+g[5],j=nt+g[6],st=tt+g[3],ut=nt+g[4],$=e.util.getBoundsOfCurve(tt,nt,tt+g[1],nt+g[2],st,ut,b,j),tt=b,nt=j;break;case"C":st=g[3],ut=g[4],$=e.util.getBoundsOfCurve(tt,nt,g[1],g[2],st,ut,g[5],g[6]),tt=g[5],nt=g[6];break;case"s":b=tt+g[3],j=nt+g[4],it[0].match(/[CcSs]/)===null?(st=tt,ut=nt):(st=2*tt-st,ut=2*nt-ut),$=e.util.getBoundsOfCurve(tt,nt,st,ut,tt+g[1],nt+g[2],b,j),st=tt+g[1],ut=nt+g[2],tt=b,nt=j;break;case"S":b=g[3],j=g[4],it[0].match(/[CcSs]/)===null?(st=tt,ut=nt):(st=2*tt-st,ut=2*nt-ut),$=e.util.getBoundsOfCurve(tt,nt,st,ut,g[1],g[2],b,j),tt=b,nt=j,st=g[1],ut=g[2];break;case"q":b=tt+g[3],j=nt+g[4],st=tt+g[1],ut=nt+g[2],$=e.util.getBoundsOfCurve(tt,nt,st,ut,st,ut,b,j),tt=b,nt=j;break;case"Q":st=g[1],ut=g[2],$=e.util.getBoundsOfCurve(tt,nt,st,ut,st,ut,g[3],g[4]),tt=g[3],nt=g[4];break;case"t":b=tt+g[1],j=nt+g[2],it[0].match(/[QqTt]/)===null?(st=tt,ut=nt):(st=2*tt-st,ut=2*nt-ut),$=e.util.getBoundsOfCurve(tt,nt,st,ut,st,ut,b,j),tt=b,nt=j;break;case"T":b=g[1],j=g[2],it[0].match(/[QqTt]/)===null?(st=tt,ut=nt):(st=2*tt-st,ut=2*nt-ut),$=e.util.getBoundsOfCurve(tt,nt,st,ut,st,ut,b,j),tt=b,nt=j;break;case"a":$=e.util.getBoundsOfArc(tt,nt,g[1],g[2],g[3],g[4],g[5],g[6]+tt,g[7]+nt),tt+=g[6],nt+=g[7];break;case"A":$=e.util.getBoundsOfArc(tt,nt,g[1],g[2],g[3],g[4],g[5],g[6],g[7]),tt=g[6],nt=g[7];break;case"z":case"Z":tt=ht,nt=et}it=g,$.forEach(function(kt){rt.push(kt.x),lt.push(kt.y)}),rt.push(tt),lt.push(nt)}var xt=o(rt)||0,Rt=o(lt)||0;return{left:xt,top:Rt,width:(s(rt)||0)-xt,height:(s(lt)||0)-Rt}}}),e.Path.fromObject=function(g,b,j){var $;if(typeof g.path!="string")return e.Object._fromObject("Path",g,b,j,"path");e.loadSVGFromURL(g.path,function(rt){var lt=g.path;$=rt[0],delete g.path,$.setOptions(g),$.setSourcePath(lt),b&&b($)})},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(g,b,j){var $=e.parseAttributes(g,e.Path.ATTRIBUTE_NAMES);b&&b(new e.Path($.d,a($,j)))},e.Path.async=!0}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend;if(e.PathGroup)return void e.warn("fabric.PathGroup is already defined");e.PathGroup=e.util.createClass(e.Object,{type:"path-group",fill:"",cacheProperties:[],initialize:function(s,a){a=a||{},this.paths=s||[];for(var c=this.paths.length;c--;)this.paths[c].group=this;a.toBeParsed&&(this.parseDimensionsFromPaths(a),delete a.toBeParsed),this.setOptions(a),this.setCoords()},parseDimensionsFromPaths:function(s){for(var a,c,d,h,_,g,b=[],j=[],$=this.paths.length;$--;){d=this.paths[$],h=d.height+d.strokeWidth,_=d.width+d.strokeWidth,a=[{x:d.left,y:d.top},{x:d.left+_,y:d.top},{x:d.left,y:d.top+h},{x:d.left+_,y:d.top+h}],g=this.paths[$].transformMatrix;for(var rt=0;rt<a.length;rt++)c=a[rt],g&&(c=e.util.transformPoint(c,g,!1)),b.push(c.x),j.push(c.y)}s.width=Math.max.apply(null,b),s.height=Math.max.apply(null,j)},drawObject:function(s){s.save(),s.translate(-this.width/2,-this.height/2);for(var a=0,c=this.paths.length;a<c;++a)this.paths[a].render(s,!0);s.restore()},shouldCache:function(){var s=this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isCaching());if(this.caching=s,s){for(var a=0,c=this.paths.length;a<c;a++)if(this.paths[a].willDrawShadow())return this.caching=!1,!1}return s},willDrawShadow:function(){if(this.shadow)return!0;for(var s=0,a=this.paths.length;s<a;s++)if(this.paths[s].willDrawShadow())return!0;return!1},isCaching:function(){return this.caching||this.group&&this.group.isCaching()},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var s=0,a=this.paths.length;s<a;s++)if(this.paths[s].isCacheDirty(!0)){if(this._cacheCanvas){var c=this.cacheWidth/this.zoomX,d=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-c/2,-d/2,c,d)}return!0}return!1},_set:function(s,a){if(s==="fill"&&a&&this.isSameColor())for(var c=this.paths.length;c--;)this.paths[c]._set(s,a);return this.callSuper("_set",s,a)},toObject:function(s){var a=this.paths.map(function(c){var d=c.includeDefaultValues;c.includeDefaultValues=c.group.includeDefaultValues;var h=c.toObject(s);return c.includeDefaultValues=d,h});return o(this.callSuper("toObject",["sourcePath"].concat(s)),{paths:a})},toDatalessObject:function(s){var a=this.toObject(s);return this.sourcePath&&(a.paths=this.sourcePath),a},toSVG:function(s){var a=this.getObjects(),c=this.getPointByOrigin("left","top"),d="translate("+c.x+" "+c.y+")",h=this._createBaseSVGMarkup();h.push("<g ",this.getSvgId(),'style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransformMatrix(),d,this.getSvgTransform(),'" ',`>
`);for(var _=0,g=a.length;_<g;_++)h.push("	",a[_].toSVG(s));return h.push(`</g>
`),s?s(h.join("")):h.join("")},toString:function(){return"#<fabric.PathGroup ("+this.complexity()+"): { top: "+this.top+", left: "+this.left+" }>"},isSameColor:function(){var s=this.getObjects()[0].get("fill")||"";return typeof s=="string"&&(s=s.toLowerCase(),this.getObjects().every(function(a){var c=a.get("fill")||"";return typeof c=="string"&&c.toLowerCase()===s}))},complexity:function(){return this.paths.reduce(function(s,a){return s+(a&&a.complexity?a.complexity():0)},0)},getObjects:function(){return this.paths}}),e.PathGroup.fromObject=function(s,a){var c=s.paths;delete s.paths,typeof c=="string"?e.loadSVGFromURL(c,function(d){var h=c,_=e.util.groupSVGElements(d,s,h);s.paths=c,a(_)}):e.util.enlivenObjects(c,function(d){var h=new e.PathGroup(d,s);s.paths=c,a(h)})},e.PathGroup.async=!0}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend,s=e.util.array.min,a=e.util.array.max;if(!e.Group){var c={lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0};e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],initialize:function(d,h,_){h=h||{},this._objects=[],_&&this.callSuper("initialize",h),this._objects=d||[];for(var g=this._objects.length;g--;)this._objects[g].group=this;h.originX&&(this.originX=h.originX),h.originY&&(this.originY=h.originY),_?(this._updateObjectsCoords(!0),this._updateObjectsACoords()):(this._calcBounds(),this._updateObjectsCoords(),this.callSuper("initialize",h)),this.setCoords(),this.saveCoords()},_updateObjectsACoords:function(){for(var d=this._objects.length;d--;)this._objects[d].setCoords(!0,!0)},_updateObjectsCoords:function(d){for(var h=this.getCenterPoint(),_=this._objects.length;_--;)this._updateObjectCoords(this._objects[_],h,d)},_updateObjectCoords:function(d,h,_){if(d.__origHasControls=d.hasControls,d.hasControls=!1,!_){var g=d.getLeft(),b=d.getTop();d.set({left:g-h.x,top:b-h.y}),d.setCoords(!0,!0)}},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(d){return this._restoreObjectsState(),e.util.resetObjectTransform(this),d&&(this._objects.push(d),d.group=this,d._set("canvas",this.canvas)),this.forEachObject(this._setObjectActive,this),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_setObjectActive:function(d){d.set("active",!0),d.group=this},removeWithUpdate:function(d){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.forEachObject(this._setObjectActive,this),this.remove(d),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(d){this.dirty=!0,d.group=this,d._set("canvas",this.canvas)},_onObjectRemoved:function(d){this.dirty=!0,delete d.group,d.set("active",!1)},delegatedProperties:{fill:!0,stroke:!0,strokeWidth:!0,fontFamily:!0,fontWeight:!0,fontSize:!0,fontStyle:!0,lineHeight:!0,textDecoration:!0,textAlign:!0,backgroundColor:!0},_set:function(d,h){var _=this._objects.length;if(this.delegatedProperties[d]||d==="canvas")for(;_--;)this._objects[_].set(d,h);else for(;_--;)this._objects[_].setOnGroup(d,h);this.callSuper("_set",d,h)},toObject:function(d){var h=this.getObjects().map(function(_){var g=_.includeDefaultValues;_.includeDefaultValues=_.group.includeDefaultValues;var b=_.toObject(d);return _.includeDefaultValues=g,b});return o(this.callSuper("toObject",d),{objects:h})},toDatalessObject:function(d){var h=this.getObjects().map(function(_){var g=_.includeDefaultValues;_.includeDefaultValues=_.group.includeDefaultValues;var b=_.toDatalessObject(d);return _.includeDefaultValues=g,b});return o(this.callSuper("toDatalessObject",d),{objects:h})},render:function(d){this._transformDone=!0,this.callSuper("render",d),this._transformDone=!1},shouldCache:function(){var d=this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isCaching());if(this.caching=d,d){for(var h=0,_=this._objects.length;h<_;h++)if(this._objects[h].willDrawShadow())return this.caching=!1,!1}return d},willDrawShadow:function(){if(this.callSuper("willDrawShadow"))return!0;for(var d=0,h=this._objects.length;d<h;d++)if(this._objects[d].willDrawShadow())return!0;return!1},isCaching:function(){return this.caching||this.group&&this.group.isCaching()},drawObject:function(d){for(var h=0,_=this._objects.length;h<_;h++)this._renderObject(this._objects[h],d)},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var d=0,h=this._objects.length;d<h;d++)if(this._objects[d].isCacheDirty(!0)){if(this._cacheCanvas){var _=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-_/2,-g/2,_,g)}return!0}return!1},_renderControls:function(d,h){d.save(),d.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",d,h);for(var _=0,g=this._objects.length;_<g;_++)this._objects[_]._renderControls(d);d.restore()},_renderObject:function(d,h){if(d.visible){var _=d.hasRotatingPoint;d.hasRotatingPoint=!1,d.render(h),d.hasRotatingPoint=_}},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(d){var h=d.calcTransformMatrix(),_=e.util.qrDecompose(h),g=new e.Point(_.translateX,_.translateY);return d.flipX=!1,d.flipY=!1,d.set("scaleX",_.scaleX),d.set("scaleY",_.scaleY),d.skewX=_.skewX,d.skewY=_.skewY,d.angle=_.angle,d.setPositionByOrigin(g,"center","center"),d},_restoreObjectState:function(d){return this.realizeTransform(d),d.setCoords(),d.hasControls=d.__origHasControls,delete d.__origHasControls,d.set("active",!1),delete d.group,this},destroy:function(){return this._objects.forEach(function(d){d.set("dirty",!0)}),this._restoreObjectsState()},saveCoords:function(){return this._originalLeft=this.get("left"),this._originalTop=this.get("top"),this},hasMoved:function(){return this._originalLeft!==this.get("left")||this._originalTop!==this.get("top")},setObjectsCoords:function(){return this.forEachObject(function(d){d.setCoords(!0,!0)}),this},_calcBounds:function(d){for(var h,_,g,b=[],j=[],$=["tr","br","bl","tl"],rt=0,lt=this._objects.length,it=$.length;rt<lt;++rt)for(h=this._objects[rt],h.setCoords(!0),g=0;g<it;g++)_=$[g],b.push(h.oCoords[_].x),j.push(h.oCoords[_].y);this.set(this._getBounds(b,j,d))},_getBounds:function(d,h,_){var g=new e.Point(s(d),s(h)),b=new e.Point(a(d),a(h)),j={width:b.x-g.x||0,height:b.y-g.y||0};return _||(j.left=g.x||0,j.top=g.y||0,this.originX==="center"&&(j.left+=j.width/2),this.originX==="right"&&(j.left+=j.width),this.originY==="center"&&(j.top+=j.height/2),this.originY==="bottom"&&(j.top+=j.height)),j},toSVG:function(d){var h=this._createBaseSVGMarkup();h.push("<g ",this.getSvgId(),'transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'" style="',this.getSvgFilter(),`">
`);for(var _=0,g=this._objects.length;_<g;_++)h.push("	",this._objects[_].toSVG(d));return h.push(`</g>
`),d?d(h.join("")):h.join("")},get:function(d){if(d in c){if(this[d])return this[d];for(var h=0,_=this._objects.length;h<_;h++)if(this._objects[h][d])return!0;return!1}return d in this.delegatedProperties?this._objects[0]&&this._objects[0].get(d):this[d]}}),e.Group.fromObject=function(d,h){e.util.enlivenObjects(d.objects,function(_){var g=e.util.object.clone(d,!0);delete g.objects,h&&h(new e.Group(_,g,!0))})},e.Group.async=!0}}(exports),function(i){var e=fabric.util.object.extend;if(i.fabric||(i.fabric={}),i.fabric.Image)return void fabric.warn("fabric.Image is already defined.");fabric.Image=fabric.util.createClass(fabric.Object,{type:"image",crossOrigin:"",alignX:"none",alignY:"none",meetOrSlice:"meet",strokeWidth:0,_lastScaleX:1,_lastScaleY:1,minimumScaleTrigger:.5,stateProperties:fabric.Object.prototype.stateProperties.concat("alignX","alignY","meetOrSlice"),objectCaching:!1,initialize:function(o,s,a){s||(s={}),this.filters=[],this.resizeFilters=[],this.callSuper("initialize",s),this._initElement(o,s,a)},getElement:function(){return this._element},setElement:function(o,s,a){var c,d;return this._element=o,this._originalElement=o,this._initConfig(a),this.resizeFilters.length===0?c=s:(d=this,c=function(){d.applyFilters(s,d.resizeFilters,d._filteredEl||d._originalElement,!0)}),this.filters.length!==0?this.applyFilters(c):c&&c(this),this},setCrossOrigin:function(o){return this.crossOrigin=o,this._element.crossOrigin=o,this},getOriginalSize:function(){var o=this.getElement();return{width:o.width,height:o.height}},_stroke:function(o){if(this.stroke&&this.strokeWidth!==0){var s=this.width/2,a=this.height/2;o.beginPath(),o.moveTo(-s,-a),o.lineTo(s,-a),o.lineTo(s,a),o.lineTo(-s,a),o.lineTo(-s,-a),o.closePath()}},_renderDashedStroke:function(o){var s=-this.width/2,a=-this.height/2,c=this.width,d=this.height;o.save(),this._setStrokeStyles(o),o.beginPath(),fabric.util.drawDashedLine(o,s,a,s+c,a,this.strokeDashArray),fabric.util.drawDashedLine(o,s+c,a,s+c,a+d,this.strokeDashArray),fabric.util.drawDashedLine(o,s+c,a+d,s,a+d,this.strokeDashArray),fabric.util.drawDashedLine(o,s,a+d,s,a,this.strokeDashArray),o.closePath(),o.restore()},toObject:function(o){var s=[],a=[],c=1,d=1;this.filters.forEach(function(_){_&&(_.type==="Resize"&&(c*=_.scaleX,d*=_.scaleY),s.push(_.toObject()))}),this.resizeFilters.forEach(function(_){_&&a.push(_.toObject())});var h=e(this.callSuper("toObject",["crossOrigin","alignX","alignY","meetOrSlice"].concat(o)),{src:this.getSrc(),filters:s,resizeFilters:a});return h.width/=c,h.height/=d,h},toSVG:function(o){var s=this._createBaseSVGMarkup(),a=-this.width/2,c=-this.height/2,d="none";if(this.group&&this.group.type==="path-group"&&(a=this.left,c=this.top),this.alignX!=="none"&&this.alignY!=="none"&&(d="x"+this.alignX+"Y"+this.alignY+" "+this.meetOrSlice),s.push('<g transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),`">
`,"<image ",this.getSvgId(),'xlink:href="',this.getSvgSrc(!0),'" x="',a,'" y="',c,'" style="',this.getSvgStyles(),'" width="',this.width,'" height="',this.height,'" preserveAspectRatio="',d,'"',`></image>
`),this.stroke||this.strokeDashArray){var h=this.fill;this.fill=null,s.push("<rect ",'x="',a,'" y="',c,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`),this.fill=h}return s.push(`</g>
`),o?o(s.join("")):s.join("")},getSrc:function(o){var s=o?this._element:this._originalElement;return s?fabric.isLikelyNode?s._src:s.src:this.src||""},setSrc:function(o,s,a){fabric.util.loadImage(o,function(c){return this.setElement(c,s,a)},this,a&&a.crossOrigin)},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyFilters:function(o,s,a,c){if(s=s||this.filters,a=a||this._originalElement){var d,h,_=fabric.util.createImage(),g=this.canvas?this.canvas.getRetinaScaling():fabric.devicePixelRatio,b=this.minimumScaleTrigger/g,j=this;if(s.length===0)return this._element=a,o&&o(this),a;var $=fabric.util.createCanvasElement();return $.width=a.width,$.height=a.height,$.getContext("2d").drawImage(a,0,0,a.width,a.height),s.forEach(function(rt){rt&&(c?(d=j.scaleX<b?j.scaleX:1,h=j.scaleY<b?j.scaleY:1,d*g<1&&(d*=g),h*g<1&&(h*=g)):(d=rt.scaleX,h=rt.scaleY),rt.applyTo($,d,h),c||rt.type!=="Resize"||(j.width*=rt.scaleX,j.height*=rt.scaleY))}),_.width=$.width,_.height=$.height,fabric.isLikelyNode?(_.src=$.toBuffer(void 0,fabric.Image.pngCompression),j._element=_,!c&&(j._filteredEl=_),o&&o(j)):(_.onload=function(){j._element=_,!c&&(j._filteredEl=_),o&&o(j),_.onload=$=null},_.src=$.toDataURL("image/png")),$}},_render:function(o,s){var a,c,d,h=this._findMargins();a=s?this.left:-this.width/2,c=s?this.top:-this.height/2,this.meetOrSlice==="slice"&&(o.beginPath(),o.rect(a,c,this.width,this.height),o.clip()),this.isMoving===!1&&this.resizeFilters.length&&this._needsResize()?(this._lastScaleX=this.scaleX,this._lastScaleY=this.scaleY,d=this.applyFilters(null,this.resizeFilters,this._filteredEl||this._originalElement,!0)):d=this._element,d&&o.drawImage(d,a+h.marginX,c+h.marginY,h.width,h.height),this._stroke(o),this._renderStroke(o)},_needsResize:function(){return this.scaleX!==this._lastScaleX||this.scaleY!==this._lastScaleY},_findMargins:function(){var o,s,a=this.width,c=this.height,d=0,h=0;return this.alignX==="none"&&this.alignY==="none"||(o=[this.width/this._element.width,this.height/this._element.height],s=this.meetOrSlice==="meet"?Math.min.apply(null,o):Math.max.apply(null,o),a=this._element.width*s,c=this._element.height*s,this.alignX==="Mid"&&(d=(this.width-a)/2),this.alignX==="Max"&&(d=this.width-a),this.alignY==="Mid"&&(h=(this.height-c)/2),this.alignY==="Max"&&(h=this.height-c)),{width:a,height:c,marginX:d,marginY:h}},_resetWidthHeight:function(){var o=this.getElement();this.set("width",o.width),this.set("height",o.height)},_initElement:function(o,s,a){this.setElement(fabric.util.getById(o),a,s),fabric.util.addClass(this.getElement(),fabric.Image.CSS_CANVAS)},_initConfig:function(o){o||(o={}),this.setOptions(o),this._setWidthHeight(o),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(o,s){o&&o.length?fabric.util.enlivenObjects(o,function(a){s&&s(a)},"fabric.Image.filters"):s&&s()},_setWidthHeight:function(o){this.width="width"in o?o.width:this.getElement()&&this.getElement().width||0,this.height="height"in o?o.height:this.getElement()&&this.getElement().height||0}}),fabric.Image.CSS_CANVAS="canvas-img",fabric.Image.prototype.getSvgSrc=fabric.Image.prototype.getSrc,fabric.Image.fromObject=function(o,s){fabric.util.loadImage(o.src,function(a,c){if(c)return void(s&&s(null,c));fabric.Image.prototype._initFilters.call(o,o.filters,function(d){o.filters=d||[],fabric.Image.prototype._initFilters.call(o,o.resizeFilters,function(h){return o.resizeFilters=h||[],new fabric.Image(a,o,s)})})},null,o.crossOrigin)},fabric.Image.fromURL=function(o,s,a){fabric.util.loadImage(o,function(c){s&&s(new fabric.Image(c,a))},null,a&&a.crossOrigin)},fabric.Image.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")),fabric.Image.fromElement=function(o,s,a){var c,d=fabric.parseAttributes(o,fabric.Image.ATTRIBUTE_NAMES);d.preserveAspectRatio&&(c=fabric.util.parsePreserveAspectRatioAttribute(d.preserveAspectRatio),e(d,c)),fabric.Image.fromURL(d["xlink:href"],s,e(a?fabric.util.object.clone(a):{},d))},fabric.Image.async=!0,fabric.Image.pngCompression=1}(exports),fabric.util.object.extend(fabric.Object.prototype,{_getAngleValueForStraighten:function(){var i=this.getAngle()%360;return i>0?90*Math.round((i-1)/90):90*Math.round(i/90)},straighten:function(){return this.setAngle(this._getAngleValueForStraighten()),this},fxStraighten:function(i){i=i||{};var e=function(){},o=i.onComplete||e,s=i.onChange||e,a=this;return fabric.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(c){a.setAngle(c),s()},onComplete:function(){a.setCoords(),o()},onStart:function(){a.set("active",!1)}}),this}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{straightenObject:function(i){return i.straighten(),this.renderAll(),this},fxStraightenObject:function(i){return i.fxStraighten({onChange:this.renderAll.bind(this)}),this}}),fabric.Image.filters=fabric.Image.filters||{},fabric.Image.filters.BaseFilter=fabric.util.createClass({type:"BaseFilter",initialize:function(i){i&&this.setOptions(i)},setOptions:function(i){for(var e in i)this[e]=i[e]},toObject:function(){return{type:this.type}},toJSON:function(){return this.toObject()}}),fabric.Image.filters.BaseFilter.fromObject=function(i,e){var o=new fabric.Image.filters[i.type](i);return e&&e(o),o},function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend,s=e.Image.filters,a=e.util.createClass;s.Brightness=a(s.BaseFilter,{type:"Brightness",initialize:function(c){c=c||{},this.brightness=c.brightness||0},applyTo:function(c){for(var d=c.getContext("2d"),h=d.getImageData(0,0,c.width,c.height),_=h.data,g=this.brightness,b=0,j=_.length;b<j;b+=4)_[b]+=g,_[b+1]+=g,_[b+2]+=g;d.putImageData(h,0,0)},toObject:function(){return o(this.callSuper("toObject"),{brightness:this.brightness})}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend,s=e.Image.filters,a=e.util.createClass;s.Convolute=a(s.BaseFilter,{type:"Convolute",initialize:function(c){c=c||{},this.opaque=c.opaque,this.matrix=c.matrix||[0,0,0,0,1,0,0,0,0]},applyTo:function(c){for(var d,h,_,g,b,j,$,rt,lt,it=this.matrix,ht=c.getContext("2d"),et=ht.getImageData(0,0,c.width,c.height),tt=Math.round(Math.sqrt(it.length)),nt=Math.floor(tt/2),st=et.data,ut=et.width,St=et.height,jt=ht.createImageData(ut,St),xt=jt.data,Rt=this.opaque?1:0,kt=0;kt<St;kt++)for(var Wt=0;Wt<ut;Wt++){b=4*(kt*ut+Wt),d=0,h=0,_=0,g=0;for(var Ct=0;Ct<tt;Ct++)for(var pt=0;pt<tt;pt++)$=kt+Ct-nt,j=Wt+pt-nt,$<0||$>St||j<0||j>ut||(rt=4*($*ut+j),lt=it[Ct*tt+pt],d+=st[rt]*lt,h+=st[rt+1]*lt,_+=st[rt+2]*lt,g+=st[rt+3]*lt);xt[b]=d,xt[b+1]=h,xt[b+2]=_,xt[b+3]=g+Rt*(255-g)}ht.putImageData(jt,0,0)},toObject:function(){return o(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend,s=e.Image.filters,a=e.util.createClass;s.GradientTransparency=a(s.BaseFilter,{type:"GradientTransparency",initialize:function(c){c=c||{},this.threshold=c.threshold||100},applyTo:function(c){for(var d=c.getContext("2d"),h=d.getImageData(0,0,c.width,c.height),_=h.data,g=this.threshold,b=_.length,j=0,$=_.length;j<$;j+=4)_[j+3]=g+255*(b-j)/b;d.putImageData(h,0,0)},toObject:function(){return o(this.callSuper("toObject"),{threshold:this.threshold})}}),e.Image.filters.GradientTransparency.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.Image.filters,s=e.util.createClass;o.Grayscale=s(o.BaseFilter,{type:"Grayscale",applyTo:function(a){for(var c,d=a.getContext("2d"),h=d.getImageData(0,0,a.width,a.height),_=h.data,g=h.width*h.height*4,b=0;b<g;)c=(_[b]+_[b+1]+_[b+2])/3,_[b]=c,_[b+1]=c,_[b+2]=c,b+=4;d.putImageData(h,0,0)}}),e.Image.filters.Grayscale.fromObject=function(a,c){return a=a||{},a.type="Grayscale",e.Image.filters.BaseFilter.fromObject(a,c)}}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.Image.filters,s=e.util.createClass;o.Invert=s(o.BaseFilter,{type:"Invert",applyTo:function(a){var c,d=a.getContext("2d"),h=d.getImageData(0,0,a.width,a.height),_=h.data,g=_.length;for(c=0;c<g;c+=4)_[c]=255-_[c],_[c+1]=255-_[c+1],_[c+2]=255-_[c+2];d.putImageData(h,0,0)}}),e.Image.filters.Invert.fromObject=function(a,c){return a=a||{},a.type="Invert",e.Image.filters.BaseFilter.fromObject(a,c)}}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend,s=e.Image.filters,a=e.util.createClass;s.Mask=a(s.BaseFilter,{type:"Mask",initialize:function(c){c=c||{},this.mask=c.mask,this.channel=[0,1,2,3].indexOf(c.channel)>-1?c.channel:0},applyTo:function(c){if(this.mask){var d,h=c.getContext("2d"),_=h.getImageData(0,0,c.width,c.height),g=_.data,b=this.mask.getElement(),j=e.util.createCanvasElement(),$=this.channel,rt=_.width*_.height*4;j.width=c.width,j.height=c.height,j.getContext("2d").drawImage(b,0,0,c.width,c.height);var lt=j.getContext("2d").getImageData(0,0,c.width,c.height),it=lt.data;for(d=0;d<rt;d+=4)g[d+3]=it[d+$];h.putImageData(_,0,0)}},toObject:function(){return o(this.callSuper("toObject"),{mask:this.mask.toObject(),channel:this.channel})}}),e.Image.filters.Mask.fromObject=function(c,d){e.util.loadImage(c.mask.src,function(h){return c.mask=new e.Image(h,c.mask),e.Image.filters.BaseFilter.fromObject(c,d)})},e.Image.filters.Mask.async=!0}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend,s=e.Image.filters,a=e.util.createClass;s.Noise=a(s.BaseFilter,{type:"Noise",initialize:function(c){c=c||{},this.noise=c.noise||0},applyTo:function(c){for(var d,h=c.getContext("2d"),_=h.getImageData(0,0,c.width,c.height),g=_.data,b=this.noise,j=0,$=g.length;j<$;j+=4)d=(.5-Math.random())*b,g[j]+=d,g[j+1]+=d,g[j+2]+=d;h.putImageData(_,0,0)},toObject:function(){return o(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend,s=e.Image.filters,a=e.util.createClass;s.Pixelate=a(s.BaseFilter,{type:"Pixelate",initialize:function(c){c=c||{},this.blocksize=c.blocksize||4},applyTo:function(c){var d,h,_,g,b,j,$,rt=c.getContext("2d"),lt=rt.getImageData(0,0,c.width,c.height),it=lt.data,ht=lt.height,et=lt.width;for(h=0;h<ht;h+=this.blocksize)for(_=0;_<et;_+=this.blocksize){d=4*h*et+4*_,g=it[d],b=it[d+1],j=it[d+2],$=it[d+3];for(var tt=h,nt=h+this.blocksize;tt<nt;tt++)for(var st=_,ut=_+this.blocksize;st<ut;st++)d=4*tt*et+4*st,it[d]=g,it[d+1]=b,it[d+2]=j,it[d+3]=$}rt.putImageData(lt,0,0)},toObject:function(){return o(this.callSuper("toObject"),{blocksize:this.blocksize})}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend,s=e.Image.filters,a=e.util.createClass;s.RemoveWhite=a(s.BaseFilter,{type:"RemoveWhite",initialize:function(c){c=c||{},this.threshold=c.threshold||30,this.distance=c.distance||20},applyTo:function(c){for(var d,h,_,g=c.getContext("2d"),b=g.getImageData(0,0,c.width,c.height),j=b.data,$=this.threshold,rt=this.distance,lt=255-$,it=Math.abs,ht=0,et=j.length;ht<et;ht+=4)d=j[ht],h=j[ht+1],_=j[ht+2],d>lt&&h>lt&&_>lt&&it(d-h)<rt&&it(d-_)<rt&&it(h-_)<rt&&(j[ht+3]=0);g.putImageData(b,0,0)},toObject:function(){return o(this.callSuper("toObject"),{threshold:this.threshold,distance:this.distance})}}),e.Image.filters.RemoveWhite.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.Image.filters,s=e.util.createClass;o.Sepia=s(o.BaseFilter,{type:"Sepia",applyTo:function(a){var c,d,h=a.getContext("2d"),_=h.getImageData(0,0,a.width,a.height),g=_.data,b=g.length;for(c=0;c<b;c+=4)d=.3*g[c]+.59*g[c+1]+.11*g[c+2],g[c]=d+100,g[c+1]=d+50,g[c+2]=d+255;h.putImageData(_,0,0)}}),e.Image.filters.Sepia.fromObject=function(a,c){return a=a||{},a.type="Sepia",new e.Image.filters.BaseFilter.fromObject(a,c)}}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.Image.filters,s=e.util.createClass;o.Sepia2=s(o.BaseFilter,{type:"Sepia2",applyTo:function(a){var c,d,h,_,g=a.getContext("2d"),b=g.getImageData(0,0,a.width,a.height),j=b.data,$=j.length;for(c=0;c<$;c+=4)d=j[c],h=j[c+1],_=j[c+2],j[c]=(.393*d+.769*h+.189*_)/1.351,j[c+1]=(.349*d+.686*h+.168*_)/1.203,j[c+2]=(.272*d+.534*h+.131*_)/2.14;g.putImageData(b,0,0)}}),e.Image.filters.Sepia2.fromObject=function(a,c){return a=a||{},a.type="Sepia2",new e.Image.filters.BaseFilter.fromObject(a,c)}}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend,s=e.Image.filters,a=e.util.createClass;s.Tint=a(s.BaseFilter,{type:"Tint",initialize:function(c){c=c||{},this.color=c.color||"#000000",this.opacity=c.opacity!==void 0?c.opacity:new e.Color(this.color).getAlpha()},applyTo:function(c){var d,h,_,g,b,j,$,rt,lt,it=c.getContext("2d"),ht=it.getImageData(0,0,c.width,c.height),et=ht.data,tt=et.length;for(lt=new e.Color(this.color).getSource(),h=lt[0]*this.opacity,_=lt[1]*this.opacity,g=lt[2]*this.opacity,rt=1-this.opacity,d=0;d<tt;d+=4)b=et[d],j=et[d+1],$=et[d+2],et[d]=h+b*rt,et[d+1]=_+j*rt,et[d+2]=g+$*rt;it.putImageData(ht,0,0)},toObject:function(){return o(this.callSuper("toObject"),{color:this.color,opacity:this.opacity})}}),e.Image.filters.Tint.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend,s=e.Image.filters,a=e.util.createClass;s.Multiply=a(s.BaseFilter,{type:"Multiply",initialize:function(c){c=c||{},this.color=c.color||"#000000"},applyTo:function(c){var d,h,_=c.getContext("2d"),g=_.getImageData(0,0,c.width,c.height),b=g.data,j=b.length;for(h=new e.Color(this.color).getSource(),d=0;d<j;d+=4)b[d]*=h[0]/255,b[d+1]*=h[1]/255,b[d+2]*=h[2]/255;_.putImageData(g,0,0)},toObject:function(){return o(this.callSuper("toObject"),{color:this.color})}}),e.Image.filters.Multiply.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(i){var e=i.fabric,o=e.Image.filters,s=e.util.createClass;o.Blend=s(o.BaseFilter,{type:"Blend",initialize:function(a){a=a||{},this.color=a.color||"#000",this.image=a.image||!1,this.mode=a.mode||"multiply",this.alpha=a.alpha||1},applyTo:function(a){var c,d,h,_,g,b,j,$,rt,lt,it=a.getContext("2d"),ht=it.getImageData(0,0,a.width,a.height),et=ht.data,tt=!1;if(this.image){tt=!0;var nt=e.util.createCanvasElement();nt.width=this.image.width,nt.height=this.image.height;var st=new e.StaticCanvas(nt);st.add(this.image),lt=st.getContext("2d").getImageData(0,0,st.width,st.height).data}else lt=new e.Color(this.color).getSource(),c=lt[0]*this.alpha,d=lt[1]*this.alpha,h=lt[2]*this.alpha;for(var ut=0,St=et.length;ut<St;ut+=4)switch(_=et[ut],g=et[ut+1],b=et[ut+2],tt&&(c=lt[ut]*this.alpha,d=lt[ut+1]*this.alpha,h=lt[ut+2]*this.alpha),this.mode){case"multiply":et[ut]=_*c/255,et[ut+1]=g*d/255,et[ut+2]=b*h/255;break;case"screen":et[ut]=1-(1-_)*(1-c),et[ut+1]=1-(1-g)*(1-d),et[ut+2]=1-(1-b)*(1-h);break;case"add":et[ut]=Math.min(255,_+c),et[ut+1]=Math.min(255,g+d),et[ut+2]=Math.min(255,b+h);break;case"diff":case"difference":et[ut]=Math.abs(_-c),et[ut+1]=Math.abs(g-d),et[ut+2]=Math.abs(b-h);break;case"subtract":j=_-c,$=g-d,rt=b-h,et[ut]=j<0?0:j,et[ut+1]=$<0?0:$,et[ut+2]=rt<0?0:rt;break;case"darken":et[ut]=Math.min(_,c),et[ut+1]=Math.min(g,d),et[ut+2]=Math.min(b,h);break;case"lighten":et[ut]=Math.max(_,c),et[ut+1]=Math.max(g,d),et[ut+2]=Math.max(b,h)}it.putImageData(ht,0,0)},toObject:function(){return{color:this.color,image:this.image,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.Blend.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(i){var e=i.fabric||(i.fabric={}),o=Math.pow,s=Math.floor,a=Math.sqrt,c=Math.abs,d=Math.max,h=Math.round,_=Math.sin,g=Math.ceil,b=e.Image.filters,j=e.util.createClass;b.Resize=j(b.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:0,scaleY:0,lanczosLobes:3,applyTo:function($,rt,lt){if(rt!==1||lt!==1){this.rcpScaleX=1/rt,this.rcpScaleY=1/lt;var it,ht=$.width,et=$.height,tt=h(ht*rt),nt=h(et*lt);this.resizeType==="sliceHack"&&(it=this.sliceByTwo($,ht,et,tt,nt)),this.resizeType==="hermite"&&(it=this.hermiteFastResize($,ht,et,tt,nt)),this.resizeType==="bilinear"&&(it=this.bilinearFiltering($,ht,et,tt,nt)),this.resizeType==="lanczos"&&(it=this.lanczosResize($,ht,et,tt,nt)),$.width=tt,$.height=nt,$.getContext("2d").putImageData(it,0,0)}},sliceByTwo:function($,rt,lt,it,ht){var et,tt=$.getContext("2d"),nt=.5,st=.5,ut=1,St=1,jt=!1,xt=!1,Rt=rt,kt=lt,Wt=e.util.createCanvasElement(),Ct=Wt.getContext("2d");for(it=s(it),ht=s(ht),Wt.width=d(it,rt),Wt.height=d(ht,lt),it>rt&&(nt=2,ut=-1),ht>lt&&(st=2,St=-1),et=tt.getImageData(0,0,rt,lt),$.width=d(it,rt),$.height=d(ht,lt),tt.putImageData(et,0,0);!jt||!xt;)rt=Rt,lt=kt,it*ut<s(Rt*nt*ut)?Rt=s(Rt*nt):(Rt=it,jt=!0),ht*St<s(kt*st*St)?kt=s(kt*st):(kt=ht,xt=!0),et=tt.getImageData(0,0,rt,lt),Ct.putImageData(et,0,0),tt.clearRect(0,0,Rt,kt),tt.drawImage(Wt,0,0,rt,lt,0,0,Rt,kt);return tt.getImageData(0,0,it,ht)},lanczosResize:function($,rt,lt,it,ht){function et(At){var Ot,Pt,dt,Mt,Nt,ft,yt,wt,_t,Et,It;for(bt.x=(At+.5)*xt,Dt.x=s(bt.x),Ot=0;Ot<ht;Ot++){for(bt.y=(Ot+.5)*Rt,Dt.y=s(bt.y),Nt=0,ft=0,yt=0,wt=0,_t=0,Pt=Dt.x-Ct;Pt<=Dt.x+Ct;Pt++)if(!(Pt<0||Pt>=rt)){Et=s(1e3*c(Pt-bt.x)),gt[Et]||(gt[Et]={});for(var zt=Dt.y-pt;zt<=Dt.y+pt;zt++)zt<0||zt>=lt||(It=s(1e3*c(zt-bt.y)),gt[Et][It]||(gt[Et][It]=jt(a(o(Et*kt,2)+o(It*Wt,2))/1e3)),(dt=gt[Et][It])>0&&(Mt=4*(zt*rt+Pt),Nt+=dt,ft+=dt*ut[Mt],yt+=dt*ut[Mt+1],wt+=dt*ut[Mt+2],_t+=dt*ut[Mt+3]))}Mt=4*(Ot*it+At),St[Mt]=ft/Nt,St[Mt+1]=yt/Nt,St[Mt+2]=wt/Nt,St[Mt+3]=_t/Nt}return++At<it?et(At):st}var tt=$.getContext("2d"),nt=tt.getImageData(0,0,rt,lt),st=tt.getImageData(0,0,it,ht),ut=nt.data,St=st.data,jt=function(At){return function(Ot){if(Ot>At)return 0;if(Ot*=Math.PI,c(Ot)<1e-16)return 1;var Pt=Ot/At;return _(Ot)*_(Pt)/Ot/Pt}}(this.lanczosLobes),xt=this.rcpScaleX,Rt=this.rcpScaleY,kt=2/this.rcpScaleX,Wt=2/this.rcpScaleY,Ct=g(xt*this.lanczosLobes/2),pt=g(Rt*this.lanczosLobes/2),gt={},bt={},Dt={};return et(0)},bilinearFiltering:function($,rt,lt,it,ht){var et,tt,nt,st,ut,St,jt,xt,Rt,kt,Wt,Ct,pt,gt=0,bt=this.rcpScaleX,Dt=this.rcpScaleY,At=$.getContext("2d"),Ot=4*(rt-1),Pt=At.getImageData(0,0,rt,lt),dt=Pt.data,Mt=At.getImageData(0,0,it,ht),Nt=Mt.data;for(jt=0;jt<ht;jt++)for(xt=0;xt<it;xt++)for(ut=s(bt*xt),St=s(Dt*jt),Rt=bt*xt-ut,kt=Dt*jt-St,pt=4*(St*rt+ut),Wt=0;Wt<4;Wt++)et=dt[pt+Wt],tt=dt[pt+4+Wt],nt=dt[pt+Ot+Wt],st=dt[pt+Ot+4+Wt],Ct=et*(1-Rt)*(1-kt)+tt*Rt*(1-kt)+nt*kt*(1-Rt)+st*Rt*kt,Nt[gt++]=Ct;return Mt},hermiteFastResize:function($,rt,lt,it,ht){for(var et=this.rcpScaleX,tt=this.rcpScaleY,nt=g(et/2),st=g(tt/2),ut=$.getContext("2d"),St=ut.getImageData(0,0,rt,lt),jt=St.data,xt=ut.getImageData(0,0,it,ht),Rt=xt.data,kt=0;kt<ht;kt++)for(var Wt=0;Wt<it;Wt++){for(var Ct=4*(Wt+kt*it),pt=0,gt=0,bt=0,Dt=0,At=0,Ot=0,Pt=0,dt=(kt+.5)*tt,Mt=s(kt*tt);Mt<(kt+1)*tt;Mt++)for(var Nt=c(dt-(Mt+.5))/st,ft=(Wt+.5)*et,yt=Nt*Nt,wt=s(Wt*et);wt<(Wt+1)*et;wt++){var _t=c(ft-(wt+.5))/nt,Et=a(yt+_t*_t);Et>1&&Et<-1||(pt=2*Et*Et*Et-3*Et*Et+1)>0&&(_t=4*(wt+Mt*rt),Pt+=pt*jt[_t+3],bt+=pt,jt[_t+3]<255&&(pt=pt*jt[_t+3]/250),Dt+=pt*jt[_t],At+=pt*jt[_t+1],Ot+=pt*jt[_t+2],gt+=pt)}Rt[Ct]=Dt/gt,Rt[Ct+1]=At/gt,Rt[Ct+2]=Ot/gt,Rt[Ct+3]=Pt/bt}return xt},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend,s=e.Image.filters,a=e.util.createClass;s.ColorMatrix=a(s.BaseFilter,{type:"ColorMatrix",initialize:function(c){c||(c={}),this.matrix=c.matrix||[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]},applyTo:function(c){var d,h,_,g,b,j=c.getContext("2d"),$=j.getImageData(0,0,c.width,c.height),rt=$.data,lt=rt.length,it=this.matrix;for(d=0;d<lt;d+=4)h=rt[d],_=rt[d+1],g=rt[d+2],b=rt[d+3],rt[d]=h*it[0]+_*it[1]+g*it[2]+b*it[3]+it[4],rt[d+1]=h*it[5]+_*it[6]+g*it[7]+b*it[8]+it[9],rt[d+2]=h*it[10]+_*it[11]+g*it[12]+b*it[13]+it[14],rt[d+3]=h*it[15]+_*it[16]+g*it[17]+b*it[18]+it[19];j.putImageData($,0,0)},toObject:function(){return o(this.callSuper("toObject"),{type:this.type,matrix:this.matrix})}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend,s=e.Image.filters,a=e.util.createClass;s.Contrast=a(s.BaseFilter,{type:"Contrast",initialize:function(c){c=c||{},this.contrast=c.contrast||0},applyTo:function(c){for(var d=c.getContext("2d"),h=d.getImageData(0,0,c.width,c.height),_=h.data,g=259*(this.contrast+255)/(255*(259-this.contrast)),b=0,j=_.length;b<j;b+=4)_[b]=g*(_[b]-128)+128,_[b+1]=g*(_[b+1]-128)+128,_[b+2]=g*(_[b+2]-128)+128;d.putImageData(h,0,0)},toObject:function(){return o(this.callSuper("toObject"),{contrast:this.contrast})}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.object.extend,s=e.Image.filters,a=e.util.createClass;s.Saturate=a(s.BaseFilter,{type:"Saturate",initialize:function(c){c=c||{},this.saturate=c.saturate||0},applyTo:function(c){for(var d,h=c.getContext("2d"),_=h.getImageData(0,0,c.width,c.height),g=_.data,b=.01*-this.saturate,j=0,$=g.length;j<$;j+=4)d=Math.max(g[j],g[j+1],g[j+2]),g[j]+=d!==g[j]?(d-g[j])*b:0,g[j+1]+=d!==g[j+1]?(d-g[j+1])*b:0,g[j+2]+=d!==g[j+2]?(d-g[j+2])*b:0;h.putImageData(_,0,0)},toObject:function(){return o(this.callSuper("toObject"),{saturate:this.saturate})}}),e.Image.filters.Saturate.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(i){var e=i.fabric||(i.fabric={}),o=e.util.toFixed,s=e.Object.NUM_FRACTION_DIGITS;if(e.Text)return void e.warn("fabric.Text is already defined");e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",textDecoration:"",textAlign:"left",fontStyle:"",lineHeight:1.16,textBackgroundColor:"",stateProperties:e.Object.prototype.stateProperties.concat("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing"),cacheProperties:e.Object.prototype.cacheProperties.concat("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),stroke:null,shadow:null,_fontSizeFraction:.25,_fontSizeMult:1.13,charSpacing:0,initialize:function(a,c){c=c||{},this.text=a,this.__skipDimension=!0,this.callSuper("initialize",c),this.__skipDimension=!1,this._initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},_initDimensions:function(a){this.__skipDimension||(a||(a=e.util.createCanvasElement().getContext("2d"),this._setTextStyles(a)),this._textLines=this._splitTextIntoLines(),this._clearCache(),this.width=this._getTextWidth(a)||this.cursorWidth||2,this.height=this._getTextHeight(a),this.setCoords())},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var a=this.callSuper("_getCacheCanvasDimensions"),c=this.fontSize;return a.width+=c*a.zoomX,a.height+=c*a.zoomY,a},_render:function(a){this._setTextStyles(a),this.group&&this.group.type==="path-group"&&a.translate(this.left,this.top),this._renderTextLinesBackground(a),this._renderText(a),this._renderTextDecoration(a)},_renderText:function(a){this._renderTextFill(a),this._renderTextStroke(a)},_setTextStyles:function(a){a.textBaseline="alphabetic",a.font=this._getFontDeclaration()},_getTextHeight:function(){return this._getHeightOfSingleLine()+(this._textLines.length-1)*this._getHeightOfLine()},_getTextWidth:function(a){for(var c=this._getLineWidth(a,0),d=1,h=this._textLines.length;d<h;d++){var _=this._getLineWidth(a,d);_>c&&(c=_)}return c},_renderChars:function(a,c,d,h,_){var g,b,j=a.slice(0,-4);if(this[j].toLive){var $=-this.width/2+this[j].offsetX||0,rt=-this.height/2+this[j].offsetY||0;c.save(),c.translate($,rt),h-=$,_-=rt}if(this.charSpacing!==0){var lt=this._getWidthOfCharSpacing();d=d.split("");for(var it=0,ht=d.length;it<ht;it++)g=d[it],b=c.measureText(g).width+lt,c[a](g,h,_),h+=b>0?b:0}else c[a](d,h,_);this[j].toLive&&c.restore()},_renderTextLine:function(a,c,d,h,_,g){_-=this.fontSize*this._fontSizeFraction;var b=this._getLineWidth(c,g);if(this.textAlign!=="justify"||this.width<b)return void this._renderChars(a,c,d,h,_,g);for(var j,$=d.split(/\s+/),rt=0,lt=this._getWidthOfWords(c,$.join(" "),g,0),it=this.width-lt,ht=$.length-1,et=ht>0?it/ht:0,tt=0,nt=0,st=$.length;nt<st;nt++){for(;d[rt]===" "&&rt<d.length;)rt++;j=$[nt],this._renderChars(a,c,j,h+tt,_,g,rt),tt+=this._getWidthOfWords(c,j,g,rt)+et,rt+=j.length}},_getWidthOfWords:function(a,c){var d,h,_=a.measureText(c).width;return this.charSpacing!==0&&(d=c.split("").length,h=d*this._getWidthOfCharSpacing(),_+=h),_>0?_:0},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},isEmptyStyles:function(){return!0},_renderTextCommon:function(a,c){for(var d=0,h=this._getLeftOffset(),_=this._getTopOffset(),g=0,b=this._textLines.length;g<b;g++){var j=this._getHeightOfLine(a,g),$=j/this.lineHeight,rt=this._getLineWidth(a,g),lt=this._getLineLeftOffset(rt);this._renderTextLine(c,a,this._textLines[g],h+lt,_+d+$,g),d+=j}},_renderTextFill:function(a){!this.fill&&this.isEmptyStyles()||this._renderTextCommon(a,"fillText")},_renderTextStroke:function(a){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(a),a.save(),this._setLineDash(a,this.strokeDashArray),a.beginPath(),this._renderTextCommon(a,"strokeText"),a.closePath(),a.restore())},_getHeightOfLine:function(){return this._getHeightOfSingleLine()*this.lineHeight},_getHeightOfSingleLine:function(){return this.fontSize*this._fontSizeMult},_renderTextLinesBackground:function(a){if(this.textBackgroundColor){var c,d,h,_=0,g=a.fillStyle;a.fillStyle=this.textBackgroundColor;for(var b=0,j=this._textLines.length;b<j;b++)c=this._getHeightOfLine(a,b),d=this._getLineWidth(a,b),d>0&&(h=this._getLineLeftOffset(d),a.fillRect(this._getLeftOffset()+h,this._getTopOffset()+_,d,c/this.lineHeight)),_+=c;a.fillStyle=g,this._removeShadow(a)}},_getLineLeftOffset:function(a){return this.textAlign==="center"?(this.width-a)/2:this.textAlign==="right"?this.width-a:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[]},_shouldClearDimensionCache:function(){var a=this._forceClearCache;return a||(a=this.hasStateChanged("_dimensionAffectingProps")),a&&(this.saveState({propertySet:"_dimensionAffectingProps"}),this.dirty=!0),a},_getLineWidth:function(a,c){if(this.__lineWidths[c])return this.__lineWidths[c]===-1?this.width:this.__lineWidths[c];var d,h,_=this._textLines[c];return d=_===""?0:this._measureLine(a,c),this.__lineWidths[c]=d,d&&this.textAlign==="justify"&&(h=_.split(/\s+/),h.length>1&&(this.__lineWidths[c]=-1)),d},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},_measureLine:function(a,c){var d,h,_=this._textLines[c],g=a.measureText(_).width,b=0;return this.charSpacing!==0&&(d=_.split("").length,b=(d-1)*this._getWidthOfCharSpacing()),h=g+b,h>0?h:0},_renderTextDecoration:function(a){if(this.textDecoration){var c=this.height/2,d=this,h=[];this.textDecoration.indexOf("underline")>-1&&h.push(.85),this.textDecoration.indexOf("line-through")>-1&&h.push(.43),this.textDecoration.indexOf("overline")>-1&&h.push(-.12),h.length>0&&function(_){var g,b,j,$,rt,lt,it,ht=0;for(g=0,b=d._textLines.length;g<b;g++){for(rt=d._getLineWidth(a,g),lt=d._getLineLeftOffset(rt),it=d._getHeightOfLine(a,g),j=0,$=_.length;j<$;j++)a.fillRect(d._getLeftOffset()+lt,ht+(d._fontSizeMult-1+_[j])*d.fontSize-c,rt,d.fontSize/15);ht+=it}}(h)}},_getFontDeclaration:function(){return[e.isLikelyNode?this.fontWeight:this.fontStyle,e.isLikelyNode?this.fontStyle:this.fontWeight,this.fontSize+"px",e.isLikelyNode?'"'+this.fontFamily+'"':this.fontFamily].join(" ")},render:function(a,c){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&(this._setTextStyles(a),this._initDimensions(a)),this.callSuper("render",a,c)))},_splitTextIntoLines:function(){return this.text.split(this._reNewline)},toObject:function(a){var c=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","textDecoration","textAlign","textBackgroundColor","charSpacing"].concat(a);return this.callSuper("toObject",c)},toSVG:function(a){this.ctx||(this.ctx=e.util.createCanvasElement().getContext("2d"));var c=this._createBaseSVGMarkup(),d=this._getSVGLeftTopOffsets(this.ctx),h=this._getSVGTextAndBg(d.textTop,d.textLeft);return this._wrapSVGTextAndBg(c,h),a?a(c.join("")):c.join("")},_getSVGLeftTopOffsets:function(a){var c=this._getHeightOfLine(a,0);return{textLeft:-this.width/2+(this.group&&this.group.type==="path-group"?this.left:0),textTop:0+(this.group&&this.group.type==="path-group"?-this.top:0),lineTop:c}},_wrapSVGTextAndBg:function(a,c){var d=this.getSvgFilter(),h=d===""?"":' style="'+d+'"';a.push("	<g ",this.getSvgId(),'transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"',h,`>
`,c.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",this.textDecoration?'text-decoration="'+this.textDecoration+'" ':"",'style="',this.getSvgStyles(!0),`" >
`,c.textSpans.join(""),`		</text>
`,`	</g>
`)},getSvgStyles:function(a){return e.Object.prototype.getSvgStyles.call(this,a)+" white-space: pre;"},_getSVGTextAndBg:function(a,c){var d=[],h=[],_=0;this._setSVGBg(h);for(var g=0,b=this._textLines.length;g<b;g++)this.textBackgroundColor&&this._setSVGTextLineBg(h,g,c,a,_),this._setSVGTextLineText(g,d,_,c,a,h),_+=this._getHeightOfLine(this.ctx,g);return{textSpans:d,textBgRects:h}},_setSVGTextLineText:function(a,c,d,h,_){var g=this.fontSize*(this._fontSizeMult-this._fontSizeFraction)-_+d-this.height/2;if(this.textAlign==="justify")return void this._setSVGTextLineJustifed(a,c,g,h);c.push('			<tspan x="',o(h+this._getLineLeftOffset(this._getLineWidth(this.ctx,a)),s),'" ','y="',o(g,s),'" ',this._getFillAttributes(this.fill),">",e.util.string.escapeXml(this._textLines[a]),`</tspan>
`)},_setSVGTextLineJustifed:function(a,c,d,h){var _=e.util.createCanvasElement().getContext("2d");this._setTextStyles(_);var g,b,j=this._textLines[a],$=j.split(/\s+/),rt=this._getWidthOfWords(_,$.join("")),lt=this.width-rt,it=$.length-1,ht=it>0?lt/it:0,et=this._getFillAttributes(this.fill);for(h+=this._getLineLeftOffset(this._getLineWidth(_,a)),a=0,b=$.length;a<b;a++)g=$[a],c.push('			<tspan x="',o(h,s),'" ','y="',o(d,s),'" ',et,">",e.util.string.escapeXml(g),`</tspan>
`),h+=this._getWidthOfWords(_,g)+ht},_setSVGTextLineBg:function(a,c,d,h,_){a.push("		<rect ",this._getFillAttributes(this.textBackgroundColor),' x="',o(d+this._getLineLeftOffset(this._getLineWidth(this.ctx,c)),s),'" y="',o(_-this.height/2,s),'" width="',o(this._getLineWidth(this.ctx,c),s),'" height="',o(this._getHeightOfLine(this.ctx,c)/this.lineHeight,s),`"></rect>
`)},_setSVGBg:function(a){this.backgroundColor&&a.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',o(-this.width/2,s),'" y="',o(-this.height/2,s),'" width="',o(this.width,s),'" height="',o(this.height,s),`"></rect>
`)},_getFillAttributes:function(a){var c=a&&typeof a=="string"?new e.Color(a):"";return c&&c.getSource()&&c.getAlpha()!==1?'opacity="'+c.getAlpha()+'" fill="'+c.setAlpha(1).toRgb()+'"':'fill="'+a+'"'},_set:function(a,c){this.callSuper("_set",a,c),this._dimensionAffectingProps.indexOf(a)>-1&&(this._initDimensions(),this.setCoords())},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(a,c){if(!a)return null;var d=e.parseAttributes(a,e.Text.ATTRIBUTE_NAMES);c=e.util.object.extend(c?e.util.object.clone(c):{},d),c.top=c.top||0,c.left=c.left||0,"dx"in d&&(c.left+=d.dx),"dy"in d&&(c.top+=d.dy),"fontSize"in c||(c.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE),c.originX||(c.originX="left");var h="";"textContent"in a?h=a.textContent:"firstChild"in a&&a.firstChild!==null&&"data"in a.firstChild&&a.firstChild.data!==null&&(h=a.firstChild.data),h=h.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var _=new e.Text(h,c),g=_.getHeight()/_.height,b=(_.height+_.strokeWidth)*_.lineHeight-_.height,j=b*g,$=_.getHeight()+j,rt=0;return _.originX==="left"&&(rt=_.getWidth()/2),_.originX==="right"&&(rt=-_.getWidth()/2),_.set({left:_.getLeft()+rt,top:_.getTop()-$/2+_.fontSize*(.18+_._fontSizeFraction)/_.lineHeight}),_},e.Text.fromObject=function(a,c,d){return e.Object._fromObject("Text",a,c,d,"text")},e.util.createAccessors(e.Text)}(exports),function(){var i=fabric.util.object.clone;fabric.IText=fabric.util.createClass(fabric.Text,fabric.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,styles:null,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],initialize:function(e,o){this.styles=o?o.styles||{}:{},this.callSuper("initialize",e,o),this.initBehavior()},_clearCache:function(){this.callSuper("_clearCache"),this.__widthOfSpace=[]},isEmptyStyles:function(){if(!this.styles)return!0;var e=this.styles;for(var o in e)for(var s in e[o])for(var a in e[o][s])return!1;return!0},setSelectionStart:function(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)},setSelectionEnd:function(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)},_updateAndFire:function(e,o){this[e]!==o&&(this._fireSelectionChanged(),this[e]=o),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},getSelectionStyles:function(e,o){if(arguments.length===2){for(var s=[],a=e;a<o;a++)s.push(this.getSelectionStyles(a));return s}var c=this.get2DCursorLocation(e);return this._getStyleDeclaration(c.lineIndex,c.charIndex)||{}},setSelectionStyles:function(e){if(this.selectionStart===this.selectionEnd)this._extendStyles(this.selectionStart,e);else for(var o=this.selectionStart;o<this.selectionEnd;o++)this._extendStyles(o,e);return this._forceClearCache=!0,this},_extendStyles:function(e,o){var s=this.get2DCursorLocation(e);this._getLineStyle(s.lineIndex)||this._setLineStyle(s.lineIndex,{}),this._getStyleDeclaration(s.lineIndex,s.charIndex)||this._setStyleDeclaration(s.lineIndex,s.charIndex,{}),fabric.util.object.extend(this._getStyleDeclaration(s.lineIndex,s.charIndex),o)},_initDimensions:function(e){e||this.clearContextTop(),this.callSuper("_initDimensions",e)},render:function(e,o){this.clearContextTop(),this.callSuper("render",e,o),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(e){this.callSuper("_render",e),this.ctx=e},clearContextTop:function(){if(this.active&&this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this.canvas.contextTop;e.save(),e.transform.apply(e,this.canvas.viewportTransform),this.transform(e),this.transformMatrix&&e.transform.apply(e,this.transformMatrix),this._clearTextArea(e),e.restore()}},renderCursorOrSelection:function(){if(this.active&&this.isEditing){var e,o,s=this.text.split("");this.canvas&&this.canvas.contextTop?(o=this.canvas.contextTop,o.save(),o.transform.apply(o,this.canvas.viewportTransform),this.transform(o),this.transformMatrix&&o.transform.apply(o,this.transformMatrix),this._clearTextArea(o)):(o=this.ctx,o.save()),this.selectionStart===this.selectionEnd?(e=this._getCursorBoundaries(s,"cursor"),this.renderCursor(e,o)):(e=this._getCursorBoundaries(s,"selection"),this.renderSelection(s,e,o)),o.restore()}},_clearTextArea:function(e){var o=this.width+4,s=this.height+4;e.clearRect(-o/2,-s/2,o,s)},get2DCursorLocation:function(e){e===void 0&&(e=this.selectionStart);for(var o=this._textLines.length,s=0;s<o;s++){if(e<=this._textLines[s].length)return{lineIndex:s,charIndex:e};e-=this._textLines[s].length+1}return{lineIndex:s-1,charIndex:this._textLines[s-1].length<e?this._textLines[s-1].length:e}},getCurrentCharStyle:function(e,o){var s=this._getStyleDeclaration(e,o===0?0:o-1);return{fontSize:s&&s.fontSize||this.fontSize,fill:s&&s.fill||this.fill,textBackgroundColor:s&&s.textBackgroundColor||this.textBackgroundColor,textDecoration:s&&s.textDecoration||this.textDecoration,fontFamily:s&&s.fontFamily||this.fontFamily,fontWeight:s&&s.fontWeight||this.fontWeight,fontStyle:s&&s.fontStyle||this.fontStyle,stroke:s&&s.stroke||this.stroke,strokeWidth:s&&s.strokeWidth||this.strokeWidth}},getCurrentCharFontSize:function(e,o){var s=this._getStyleDeclaration(e,o===0?0:o-1);return s&&s.fontSize?s.fontSize:this.fontSize},getCurrentCharColor:function(e,o){var s=this._getStyleDeclaration(e,o===0?0:o-1);return s&&s.fill?s.fill:this.cursorColor},_getCursorBoundaries:function(e,o){var s=Math.round(this._getLeftOffset()),a=this._getTopOffset(),c=this._getCursorBoundariesOffsets(e,o);return{left:s,top:a,leftOffset:c.left+c.lineLeft,topOffset:c.top}},_getCursorBoundariesOffsets:function(e,o){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;for(var s,a=0,c=0,d=0,h=0,_=0,g=0;g<this.selectionStart;g++)e[g]===`
`?(_=0,h+=this._getHeightOfLine(this.ctx,c),c++,d=0):(_+=this._getWidthOfChar(this.ctx,e[g],c,d),d++),a=this._getLineLeftOffset(this._getLineWidth(this.ctx,c));return o==="cursor"&&(h+=(1-this._fontSizeFraction)*this._getHeightOfLine(this.ctx,c)/this.lineHeight-this.getCurrentCharFontSize(c,d)*(1-this._fontSizeFraction)),this.charSpacing!==0&&d===this._textLines[c].length&&(_-=this._getWidthOfCharSpacing()),s={top:h,left:_>0?_:0,lineLeft:a},this.cursorOffsetCache=s,this.cursorOffsetCache},renderCursor:function(e,o){var s=this.get2DCursorLocation(),a=s.lineIndex,c=s.charIndex,d=this.getCurrentCharFontSize(a,c),h=e.leftOffset,_=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/_;o.fillStyle=this.getCurrentCharColor(a,c),o.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,o.fillRect(e.left+h-g/2,e.top+e.topOffset,g,d)},renderSelection:function(e,o,s){s.fillStyle=this.selectionColor;for(var a=this.get2DCursorLocation(this.selectionStart),c=this.get2DCursorLocation(this.selectionEnd),d=a.lineIndex,h=c.lineIndex,_=d;_<=h;_++){var g=this._getLineLeftOffset(this._getLineWidth(s,_))||0,b=this._getHeightOfLine(this.ctx,_),j=0,$=0,rt=this._textLines[_];if(_===d){for(var lt=0,it=rt.length;lt<it;lt++)lt>=a.charIndex&&(_!==h||lt<c.charIndex)&&($+=this._getWidthOfChar(s,rt[lt],_,lt)),lt<a.charIndex&&(g+=this._getWidthOfChar(s,rt[lt],_,lt));lt===rt.length&&($-=this._getWidthOfCharSpacing())}else if(_>d&&_<h)$+=this._getLineWidth(s,_)||5;else if(_===h){for(var ht=0,et=c.charIndex;ht<et;ht++)$+=this._getWidthOfChar(s,rt[ht],_,ht);c.charIndex===rt.length&&($-=this._getWidthOfCharSpacing())}j=b,(this.lineHeight<1||_===h&&this.lineHeight>1)&&(b/=this.lineHeight),s.fillRect(o.left+g,o.top+o.topOffset,$>0?$:0,b),o.topOffset+=j}},_renderChars:function(e,o,s,a,c,d,h){if(this.isEmptyStyles())return this._renderCharsFast(e,o,s,a,c);h=h||0;var _,g,b=this._getHeightOfLine(o,d),j="";o.save(),c-=b/this.lineHeight*this._fontSizeFraction;for(var $=h,rt=s.length+h;$<=rt;$++)_=_||this.getCurrentCharStyle(d,$),g=this.getCurrentCharStyle(d,$+1),(this._hasStyleChanged(_,g)||$===rt)&&(this._renderChar(e,o,d,$-1,j,a,c,b),j="",_=g),j+=s[$-h];o.restore()},_renderCharsFast:function(e,o,s,a,c){e==="fillText"&&this.fill&&this.callSuper("_renderChars",e,o,s,a,c),e==="strokeText"&&(this.stroke&&this.strokeWidth>0||this.skipFillStrokeCheck)&&this.callSuper("_renderChars",e,o,s,a,c)},_renderChar:function(e,o,s,a,c,d,h,_){var g,b,j,$,rt,lt,it,ht,et,tt=this._getStyleDeclaration(s,a);if(tt?(b=this._getHeightOfChar(o,c,s,a),$=tt.stroke,j=tt.fill,lt=tt.textDecoration):b=this.fontSize,$=($||this.stroke)&&e==="strokeText",j=(j||this.fill)&&e==="fillText",tt&&o.save(),g=this._applyCharStylesGetWidth(o,c,s,a,tt||null),lt=lt||this.textDecoration,tt&&tt.textBackgroundColor&&this._removeShadow(o),this.charSpacing!==0){ht=this._getWidthOfCharSpacing(),it=c.split(""),g=0;for(var nt,st=0,ut=it.length;st<ut;st++)nt=it[st],j&&o.fillText(nt,d+g,h),$&&o.strokeText(nt,d+g,h),et=o.measureText(nt).width+ht,g+=et>0?et:0}else j&&o.fillText(c,d,h),$&&o.strokeText(c,d,h);(lt||lt!=="")&&(rt=this._fontSizeFraction*_/this.lineHeight,this._renderCharDecoration(o,lt,d,h,rt,g,b)),tt&&o.restore(),o.translate(g,0)},_hasStyleChanged:function(e,o){return e.fill!==o.fill||e.fontSize!==o.fontSize||e.textBackgroundColor!==o.textBackgroundColor||e.textDecoration!==o.textDecoration||e.fontFamily!==o.fontFamily||e.fontWeight!==o.fontWeight||e.fontStyle!==o.fontStyle||e.stroke!==o.stroke||e.strokeWidth!==o.strokeWidth},_renderCharDecoration:function(e,o,s,a,c,d,h){if(o){var _,g,b=h/15,j={underline:a+h/10,"line-through":a-h*(this._fontSizeFraction+this._fontSizeMult-1)+b,overline:a-(this._fontSizeMult-this._fontSizeFraction)*h},$=["underline","line-through","overline"];for(_=0;_<$.length;_++)g=$[_],o.indexOf(g)>-1&&e.fillRect(s,j[g],d,b)}},_renderTextLine:function(e,o,s,a,c,d){this.isEmptyStyles()||(c+=this.fontSize*(this._fontSizeFraction+.03)),this.callSuper("_renderTextLine",e,o,s,a,c,d)},_renderTextDecoration:function(e){if(this.isEmptyStyles())return this.callSuper("_renderTextDecoration",e)},_renderTextLinesBackground:function(e){this.callSuper("_renderTextLinesBackground",e);var o,s,a,c,d,h,_,g,b,j,$=0,rt=this._getLeftOffset(),lt=this._getTopOffset(),it="";e.save();for(var ht=0,et=this._textLines.length;ht<et;ht++)if(o=this._getHeightOfLine(e,ht),(c=this._textLines[ht])!==""&&this.styles&&this._getLineStyle(ht)){s=this._getLineWidth(e,ht),a=this._getLineLeftOffset(s),_=g=b=j=0;for(var tt=0,nt=c.length;tt<nt;tt++)h=this._getStyleDeclaration(ht,tt)||{},it!==h.textBackgroundColor&&(j&&b&&(e.fillStyle=it,e.fillRect(_,g,b,j)),_=g=b=j=0,it=h.textBackgroundColor||""),h.textBackgroundColor?(d=c[tt],it===h.textBackgroundColor&&(it=h.textBackgroundColor,_||(_=rt+a+this._getWidthOfCharsAt(e,ht,tt)),g=lt+$,b+=this._getWidthOfChar(e,d,ht,tt),j=o/this.lineHeight)):it="";j&&b&&(e.fillStyle=it,e.fillRect(_,g,b,j),_=g=b=j=0),$+=o}else $+=o;e.restore()},_getCacheProp:function(e,o){return e+o.fontSize+o.fontWeight+o.fontStyle},_getFontCache:function(e){return fabric.charWidthsCache[e]||(fabric.charWidthsCache[e]={}),fabric.charWidthsCache[e]},_applyCharStylesGetWidth:function(e,o,s,a,c){var d,h,_,g=c||this._getStyleDeclaration(s,a),b=i(g);if(this._applyFontStyles(b),_=this._getFontCache(b.fontFamily),h=this._getCacheProp(o,b),!g&&_[h]&&this.caching)return _[h];typeof b.shadow=="string"&&(b.shadow=new fabric.Shadow(b.shadow));var j=b.fill||this.fill;return e.fillStyle=j.toLive?j.toLive(e,this):j,b.stroke&&(e.strokeStyle=b.stroke&&b.stroke.toLive?b.stroke.toLive(e,this):b.stroke),e.lineWidth=b.strokeWidth||this.strokeWidth,e.font=this._getFontDeclaration.call(b),b.shadow&&(b.scaleX=this.scaleX,b.scaleY=this.scaleY,b.canvas=this.canvas,b.getObjectScaling=this.getObjectScaling,this._setShadow.call(b,e)),this.caching&&_[h]?_[h]:(d=e.measureText(o).width,this.caching&&(_[h]=d),d)},_applyFontStyles:function(e){e.fontFamily||(e.fontFamily=this.fontFamily),e.fontSize||(e.fontSize=this.fontSize),e.fontWeight||(e.fontWeight=this.fontWeight),e.fontStyle||(e.fontStyle=this.fontStyle)},_getStyleDeclaration:function(e,o,s){return s?this.styles[e]&&this.styles[e][o]?i(this.styles[e][o]):{}:this.styles[e]&&this.styles[e][o]?this.styles[e][o]:null},_setStyleDeclaration:function(e,o,s){this.styles[e][o]=s},_deleteStyleDeclaration:function(e,o){delete this.styles[e][o]},_getLineStyle:function(e){return this.styles[e]},_setLineStyle:function(e,o){this.styles[e]=o},_deleteLineStyle:function(e){delete this.styles[e]},_getWidthOfChar:function(e,o,s,a){if(!this._isMeasuring&&this.textAlign==="justify"&&this._reSpacesAndTabs.test(o))return this._getWidthOfSpace(e,s);e.save();var c=this._applyCharStylesGetWidth(e,o,s,a);return this.charSpacing!==0&&(c+=this._getWidthOfCharSpacing()),e.restore(),c>0?c:0},_getHeightOfChar:function(e,o,s){var a=this._getStyleDeclaration(o,s);return a&&a.fontSize?a.fontSize:this.fontSize},_getWidthOfCharsAt:function(e,o,s){var a,c,d=0;for(a=0;a<s;a++)c=this._textLines[o][a],d+=this._getWidthOfChar(e,c,o,a);return d},_measureLine:function(e,o){this._isMeasuring=!0;var s=this._getWidthOfCharsAt(e,o,this._textLines[o].length);return this.charSpacing!==0&&(s-=this._getWidthOfCharSpacing()),this._isMeasuring=!1,s>0?s:0},_getWidthOfSpace:function(e,o){if(this.__widthOfSpace[o])return this.__widthOfSpace[o];var s=this._textLines[o],a=this._getWidthOfWords(e,s,o,0),c=this.width-a,d=s.length-s.replace(this._reSpacesAndTabs,"").length,h=Math.max(c/d,e.measureText(" ").width);return this.__widthOfSpace[o]=h,h},_getWidthOfWords:function(e,o,s,a){for(var c=0,d=0;d<o.length;d++){var h=o[d];h.match(/\s/)||(c+=this._getWidthOfChar(e,h,s,d+a))}return c},_getHeightOfLine:function(e,o){if(this.__lineHeights[o])return this.__lineHeights[o];for(var s=this._textLines[o],a=this._getHeightOfChar(e,o,0),c=1,d=s.length;c<d;c++){var h=this._getHeightOfChar(e,o,c);h>a&&(a=h)}return this.__lineHeights[o]=a*this.lineHeight*this._fontSizeMult,this.__lineHeights[o]},_getTextHeight:function(e){for(var o,s=0,a=0,c=this._textLines.length;a<c;a++)o=this._getHeightOfLine(e,a),s+=a===c-1?o/this.lineHeight:o;return s},toObject:function(e){return fabric.util.object.extend(this.callSuper("toObject",e),{styles:i(this.styles,!0)})}}),fabric.IText.fromObject=function(e,o,s){return fabric.Object._fromObject("IText",e,o,s,"text")}}(),function(){var i=fabric.util.object.clone;fabric.util.object.extend(fabric.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1,this.callSuper("onDeselect")},initAddedHandler:function(){var e=this;this.on("added",function(){var o=e.canvas;o&&(o._hasITextHandlers||(o._hasITextHandlers=!0,e._initCanvasHandlers(o)),o._iTextInstances=o._iTextInstances||[],o._iTextInstances.push(e))})},initRemovedHandler:function(){var e=this;this.on("removed",function(){var o=e.canvas;o&&(o._iTextInstances=o._iTextInstances||[],fabric.util.removeFromArray(o._iTextInstances,e),o._iTextInstances.length===0&&(o._hasITextHandlers=!1,e._removeCanvasHandlers(o)))})},_initCanvasHandlers:function(e){e._mouseUpITextHandler=(function(){e._iTextInstances&&e._iTextInstances.forEach(function(o){o.__isMousedown=!1})}).bind(this),e.on("mouse:up",e._mouseUpITextHandler)},_removeCanvasHandlers:function(e){e.off("mouse:up",e._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(e,o,s,a){var c;return c={isAborted:!1,abort:function(){this.isAborted=!0}},e.animate("_currentCursorOpacity",o,{duration:s,onComplete:function(){c.isAborted||e[a]()},onChange:function(){e.canvas&&e.selectionStart===e.selectionEnd&&e.renderCursorOrSelection()},abort:function(){return c.isAborted}}),c},_onTickComplete:function(){var e=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){e._currentTickCompleteState=e._animateCursor(e,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(e){var o=this,s=e?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){o._tick()},s)},abortCursorAnimation:function(){var e=this._currentTickState||this._currentTickCompleteState;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,e&&this.canvas&&this.canvas.clearContext(this.canvas.contextTop||this.ctx)},selectAll:function(){this.selectionStart=0,this.selectionEnd=this.text.length,this._fireSelectionChanged(),this._updateTextarea()},getSelectedText:function(){return this.text.slice(this.selectionStart,this.selectionEnd)},findWordBoundaryLeft:function(e){var o=0,s=e-1;if(this._reSpace.test(this.text.charAt(s)))for(;this._reSpace.test(this.text.charAt(s));)o++,s--;for(;/\S/.test(this.text.charAt(s))&&s>-1;)o++,s--;return e-o},findWordBoundaryRight:function(e){var o=0,s=e;if(this._reSpace.test(this.text.charAt(s)))for(;this._reSpace.test(this.text.charAt(s));)o++,s++;for(;/\S/.test(this.text.charAt(s))&&s<this.text.length;)o++,s++;return e+o},findLineBoundaryLeft:function(e){for(var o=0,s=e-1;!/\n/.test(this.text.charAt(s))&&s>-1;)o++,s--;return e-o},findLineBoundaryRight:function(e){for(var o=0,s=e;!/\n/.test(this.text.charAt(s))&&s<this.text.length;)o++,s++;return e+o},getNumNewLinesInSelectedText:function(){for(var e=this.getSelectedText(),o=0,s=0,a=e.length;s<a;s++)e[s]===`
`&&o++;return o},searchWordBoundary:function(e,o){for(var s=this._reSpace.test(this.text.charAt(e))?e-1:e,a=this.text.charAt(s),c=/[ \n\.,;!\?\-]/;!c.test(a)&&s>0&&s<this.text.length;)s+=o,a=this.text.charAt(s);return c.test(a)&&a!==`
`&&(s+=o===1?0:1),s},selectWord:function(e){e=e||this.selectionStart;var o=this.searchWordBoundary(e,-1),s=this.searchWordBoundary(e,1);this.selectionStart=o,this.selectionEnd=s,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(e){e=e||this.selectionStart;var o=this.findLineBoundaryLeft(e),s=this.findLineBoundaryRight(e);this.selectionStart=o,this.selectionEnd=s,this._fireSelectionChanged(),this._updateTextarea()},enterEditing:function(e){if(!this.isEditing&&this.editable)return this.canvas&&this.exitEditingOnOthers(this.canvas),this.isEditing=!0,this.selected=!0,this.initHiddenTextarea(e),this.hiddenTextarea.focus(),this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.renderAll(),this):this},exitEditingOnOthers:function(e){e._iTextInstances&&e._iTextInstances.forEach(function(o){o.selected=!1,o.isEditing&&o.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(e){if(this.__isMousedown&&this.isEditing){var o=this.getSelectionStartFromPointer(e.e),s=this.selectionStart,a=this.selectionEnd;(o===this.__selectionStartOnMouseDown&&s!==a||s!==o&&a!==o)&&(o>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=o):(this.selectionStart=o,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===s&&this.selectionEnd===a||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},_updateTextarea:function(){if(this.hiddenTextarea&&!this.inCompositionMode&&(this.cursorOffsetCache={},this.hiddenTextarea.value=this.text,this.hiddenTextarea.selectionStart=this.selectionStart,this.hiddenTextarea.selectionEnd=this.selectionEnd,this.selectionStart===this.selectionEnd)){var e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top,this.hiddenTextarea.style.fontSize=e.fontSize}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var e=this.text.split(""),o=this._getCursorBoundaries(e,"cursor"),s=this.get2DCursorLocation(),a=s.lineIndex,c=s.charIndex,d=this.getCurrentCharFontSize(a,c),h=o.leftOffset,_=this.calcTransformMatrix(),g={x:o.left+h,y:o.top+o.topOffset+d},b=this.canvas.upperCanvasEl,j=b.width-d,$=b.height-d;return g=fabric.util.transformPoint(g,_),g=fabric.util.transformPoint(g,this.canvas.viewportTransform),g.x<0&&(g.x=0),g.x>j&&(g.x=j),g.y<0&&(g.y=0),g.y>$&&(g.y=$),g.x+=this.canvas._offset.left,g.y+=this.canvas._offset.top,{left:g.x+"px",top:g.y+"px",fontSize:d}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.overCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var e=this._textBeforeEdit!==this.text;return this.selected=!1,this.isEditing=!1,this.selectable=!0,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&(this.hiddenTextarea.blur&&this.hiddenTextarea.blur(),this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null),this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this.fire("editing:exited"),e&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var e in this.styles)this._textLines[e]||delete this.styles[e]},_removeCharsFromTo:function(e,o){for(;o!==e;)this._removeSingleCharAndStyle(e+1),o--;this.selectionStart=e,this.selectionEnd=e},_removeSingleCharAndStyle:function(e){var o=this.text[e-1]===`
`,s=o?e:e-1;this.removeStyleObject(o,s),this.text=this.text.slice(0,e-1)+this.text.slice(e),this._textLines=this._splitTextIntoLines()},insertChars:function(e,o){var s;if(this.selectionEnd-this.selectionStart>1&&this._removeCharsFromTo(this.selectionStart,this.selectionEnd),!o&&this.isEmptyStyles())return void this.insertChar(e,!1);for(var a=0,c=e.length;a<c;a++)o&&(s=fabric.util.object.clone(fabric.copiedTextStyle[a],!0)),this.insertChar(e[a],a<c-1,s)},insertChar:function(e,o,s){var a=this.text[this.selectionStart]===`
`;this.text=this.text.slice(0,this.selectionStart)+e+this.text.slice(this.selectionEnd),this._textLines=this._splitTextIntoLines(),this.insertStyleObjects(e,a,s),this.selectionStart+=e.length,this.selectionEnd=this.selectionStart,o||(this._updateTextarea(),this.setCoords(),this._fireSelectionChanged(),this.fire("changed"),this.restartCursorIfNeeded(),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.renderAll()))},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(e,o,s){this.shiftLineStyles(e,1);var a={},c={};if(this.styles[e]&&this.styles[e][o-1]&&(a=this.styles[e][o-1]),s&&a)c[0]=i(a),this.styles[e+1]=c;else{var d=!1;for(var h in this.styles[e]){var _=parseInt(h,10);_>=o&&(d=!0,c[_-o]=this.styles[e][h],delete this.styles[e][h])}d&&(this.styles[e+1]=c)}this._forceClearCache=!0},insertCharStyleObject:function(e,o,s){var a=this.styles[e],c=i(a);o!==0||s||(o=1);for(var d in c){var h=parseInt(d,10);h>=o&&(a[h+1]=c[h],c[h-1]||delete a[h])}var _=s||i(a[o-1]);_&&(this.styles[e][o]=_),this._forceClearCache=!0},insertStyleObjects:function(e,o,s){var a=this.get2DCursorLocation(),c=a.lineIndex,d=a.charIndex;this._getLineStyle(c)||this._setLineStyle(c,{}),e===`
`?this.insertNewlineStyleObject(c,d,o):this.insertCharStyleObject(c,d,s)},shiftLineStyles:function(e,o){var s=i(this.styles);for(var a in s){var c=parseInt(a,10);c<=e&&delete s[c]}for(var a in this.styles){var c=parseInt(a,10);c>e&&(this.styles[c+o]=s[c],s[c-o]||delete this.styles[c])}},removeStyleObject:function(e,o){var s=this.get2DCursorLocation(o),a=s.lineIndex,c=s.charIndex;this._removeStyleObject(e,s,a,c)},_getTextOnPreviousLine:function(e){return this._textLines[e-1]},_removeStyleObject:function(e,o,s,a){if(e){var c=this._getTextOnPreviousLine(o.lineIndex),d=c?c.length:0;this.styles[s-1]||(this.styles[s-1]={});for(a in this.styles[s])this.styles[s-1][parseInt(a,10)+d]=this.styles[s][a];this.shiftLineStyles(o.lineIndex,-1)}else{var h=this.styles[s];h&&delete h[a];var _=i(h);for(var g in _){var b=parseInt(g,10);b>=a&&b!==0&&(h[b-1]=_[b],delete h[b])}}},insertNewline:function(){this.insertChars(`
`)},setSelectionStartEndWithShift:function(e,o,s){s<=e?(o===e?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=e),this.selectionStart=s):s>e&&s<o?this._selectionDirection==="right"?this.selectionEnd=s:this.selectionStart=s:(o===e?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=o),this.selectionEnd=s)},setSelectionInBoundaries:function(){var e=this.text.length;this.selectionStart>e?this.selectionStart=e:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>e?this.selectionEnd=e:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),fabric.util.object.extend(fabric.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown.bind(this))},onMouseDown:function(i){this.__newClickTime=+new Date;var e=this.canvas.getPointer(i.e);this.isTripleClick(e,i.e)?(this.fire("tripleclick",i),this._stopEvent(i.e)):this.isDoubleClick(e)&&(this.fire("dblclick",i),this._stopEvent(i.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected},isDoubleClick:function(i){return this.__newClickTime-this.__lastClickTime<500&&this.__lastPointer.x===i.x&&this.__lastPointer.y===i.y&&this.__lastIsEditing},isTripleClick:function(i){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===i.x&&this.__lastPointer.y===i.y},_stopEvent:function(i){i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},initClicks:function(){this.on("dblclick",function(i){this.selectWord(this.getSelectionStartFromPointer(i.e))}),this.on("tripleclick",function(i){this.selectLine(this.getSelectionStartFromPointer(i.e))})},initMousedownHandler:function(){this.on("mousedown",function(i){if(this.editable&&(!i.e.button||i.e.button===1)){var e=this.canvas.getPointer(i.e);this.__mousedownX=e.x,this.__mousedownY=e.y,this.__isMousedown=!0,this.selected&&this.setCursorByClick(i.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())}})},_isObjectMoved:function(i){var e=this.canvas.getPointer(i);return this.__mousedownX!==e.x||this.__mousedownY!==e.y},initMouseupHandler:function(){this.on("mouseup",function(i){this.__isMousedown=!1,!this.editable||this._isObjectMoved(i.e)||i.e.button&&i.e.button!==1||(this.__lastSelected&&!this.__corner&&(this.enterEditing(i.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()),this.selected=!0)})},setCursorByClick:function(i){var e=this.getSelectionStartFromPointer(i),o=this.selectionStart,s=this.selectionEnd;i.shiftKey?this.setSelectionStartEndWithShift(o,s,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(i){for(var e,o=this.getLocalPointer(i),s=0,a=0,c=0,d=0,h=0,_=this._textLines.length;h<_;h++){e=this._textLines[h],c+=this._getHeightOfLine(this.ctx,h)*this.scaleY;var g=this._getLineWidth(this.ctx,h);a=this._getLineLeftOffset(g)*this.scaleX;for(var b=0,j=e.length;b<j;b++){if(s=a,a+=this._getWidthOfChar(this.ctx,e[b],h,this.flipX?j-b:b)*this.scaleX,!(c<=o.y||a<=o.x))return this._getNewSelectionStartFromOffset(o,s,a,d+h,j);d++}if(o.y<c)return this._getNewSelectionStartFromOffset(o,s,a,d+h-1,j)}return this.text.length},_getNewSelectionStartFromOffset:function(i,e,o,s,a){var c=i.x-e,d=o-i.x,h=d>c?0:1,_=s+h;return this.flipX&&(_=a-_),_>this.text.length&&(_=this.text.length),_}}),fabric.util.object.extend(fabric.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=fabric.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var i=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+i.top+"; left: "+i.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; line-height: 1px; paddingtop: "+i.fontSize+";",fabric.document.body.appendChild(this.hiddenTextarea),fabric.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),fabric.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),fabric.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),fabric.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),fabric.util.addListener(this.hiddenTextarea,"cut",this.cut.bind(this)),fabric.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),fabric.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),fabric.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),fabric.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(fabric.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{8:"removeChars",9:"exitEditing",27:"exitEditing",13:"insertNewline",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown",46:"forwardDelete"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(i){if(this.isEditing){if(i.keyCode in this.keysMap)this[this.keysMap[i.keyCode]](i);else{if(!(i.keyCode in this.ctrlKeysMapDown&&(i.ctrlKey||i.metaKey)))return;this[this.ctrlKeysMapDown[i.keyCode]](i)}i.stopImmediatePropagation(),i.preventDefault(),i.keyCode>=33&&i.keyCode<=40?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.renderAll()}},onKeyUp:function(i){if(!this.isEditing||this._copyDone)return void(this._copyDone=!1);i.keyCode in this.ctrlKeysMapUp&&(i.ctrlKey||i.metaKey)&&(this[this.ctrlKeysMapUp[i.keyCode]](i),i.stopImmediatePropagation(),i.preventDefault(),this.canvas&&this.canvas.renderAll())},onInput:function(i){if(this.isEditing&&!this.inCompositionMode){var e,o,s,a=this.selectionStart||0,c=this.selectionEnd||0,d=this.text.length,h=this.hiddenTextarea.value.length;h>d?(s=this._selectionDirection==="left"?c:a,e=h-d,o=this.hiddenTextarea.value.slice(s,s+e)):(e=h-d+c-a,o=this.hiddenTextarea.value.slice(a,a+e)),this.insertChars(o),i.stopPropagation()}},onCompositionStart:function(){this.inCompositionMode=!0,this.prevCompositionLength=0,this.compositionStart=this.selectionStart},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(i){var e=i.data;this.selectionStart=this.compositionStart,this.selectionEnd=this.selectionEnd===this.selectionStart?this.compositionStart+this.prevCompositionLength:this.selectionEnd,this.insertChars(e,!1),this.prevCompositionLength=e.length},forwardDelete:function(i){if(this.selectionStart===this.selectionEnd){if(this.selectionStart===this.text.length)return;this.moveCursorRight(i)}this.removeChars(i)},copy:function(i){if(this.selectionStart!==this.selectionEnd){var e=this.getSelectedText(),o=this._getClipboardData(i);o&&o.setData("text",e),fabric.copiedText=e,fabric.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd),i.stopImmediatePropagation(),i.preventDefault(),this._copyDone=!0}},paste:function(i){var e=null,o=this._getClipboardData(i),s=!0;o?(e=o.getData("text").replace(/\r/g,""),fabric.copiedTextStyle&&fabric.copiedText===e||(s=!1)):e=fabric.copiedText,e&&this.insertChars(e,s),i.stopImmediatePropagation(),i.preventDefault()},cut:function(i){this.selectionStart!==this.selectionEnd&&(this.copy(i),this.removeChars(i))},_getClipboardData:function(i){return i&&i.clipboardData||fabric.window.clipboardData},_getWidthBeforeCursor:function(i,e){for(var o,s=this._textLines[i].slice(0,e),a=this._getLineWidth(this.ctx,i),c=this._getLineLeftOffset(a),d=0,h=s.length;d<h;d++)o=s[d],c+=this._getWidthOfChar(this.ctx,o,i,d);return c},getDownCursorOffset:function(i,e){var o=this._getSelectionForOffset(i,e),s=this.get2DCursorLocation(o),a=s.lineIndex;if(a===this._textLines.length-1||i.metaKey||i.keyCode===34)return this.text.length-o;var c=s.charIndex,d=this._getWidthBeforeCursor(a,c),h=this._getIndexOnLine(a+1,d);return this._textLines[a].slice(c).length+h+2},_getSelectionForOffset:function(i,e){return i.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(i,e){var o=this._getSelectionForOffset(i,e),s=this.get2DCursorLocation(o),a=s.lineIndex;if(a===0||i.metaKey||i.keyCode===33)return-o;var c=s.charIndex,d=this._getWidthBeforeCursor(a,c),h=this._getIndexOnLine(a-1,d),_=this._textLines[a].slice(0,c);return-this._textLines[a-1].length+h-_.length},_getIndexOnLine:function(i,e){for(var o,s=this._getLineWidth(this.ctx,i),a=this._textLines[i],c=this._getLineLeftOffset(s),d=c,h=0,_=0,g=a.length;_<g;_++){var b=a[_],j=this._getWidthOfChar(this.ctx,b,i,_);if((d+=j)>e){o=!0;var $=d-j,rt=d,lt=Math.abs($-e);h=Math.abs(rt-e)<lt?_:_-1;break}}return o||(h=a.length-1),h},moveCursorDown:function(i){this.selectionStart>=this.text.length&&this.selectionEnd>=this.text.length||this._moveCursorUpOrDown("Down",i)},moveCursorUp:function(i){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",i)},_moveCursorUpOrDown:function(i,e){var o="get"+i+"CursorOffset",s=this[o](e,this._selectionDirection==="right");e.shiftKey?this.moveCursorWithShift(s):this.moveCursorWithoutShift(s),s!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(i){var e=this._selectionDirection==="left"?this.selectionStart+i:this.selectionEnd+i;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),i!==0},moveCursorWithoutShift:function(i){return i<0?(this.selectionStart+=i,this.selectionEnd=this.selectionStart):(this.selectionEnd+=i,this.selectionStart=this.selectionEnd),i!==0},moveCursorLeft:function(i){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",i)},_move:function(i,e,o){var s;if(i.altKey)s=this["findWordBoundary"+o](this[e]);else{if(!i.metaKey&&i.keyCode!==35&&i.keyCode!==36)return this[e]+=o==="Left"?-1:1,!0;s=this["findLineBoundary"+o](this[e])}if(typeof s!==void 0&&this[e]!==s)return this[e]=s,!0},_moveLeft:function(i,e){return this._move(i,e,"Left")},_moveRight:function(i,e){return this._move(i,e,"Right")},moveCursorLeftWithoutShift:function(i){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(e=this._moveLeft(i,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(i){return this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd?this._moveLeft(i,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection="left",this._moveLeft(i,"selectionStart")):void 0},moveCursorRight:function(i){this.selectionStart>=this.text.length&&this.selectionEnd>=this.text.length||this._moveCursorLeftOrRight("Right",i)},_moveCursorLeftOrRight:function(i,e){var o="moveCursor"+i+"With";this._currentCursorOpacity=1,e.shiftKey?o+="Shift":o+="outShift",this[o](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(i){return this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd?this._moveRight(i,"selectionStart"):this.selectionEnd!==this.text.length?(this._selectionDirection="right",this._moveRight(i,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(i){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(i,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(i){this.selectionStart===this.selectionEnd?this._removeCharsNearCursor(i):this._removeCharsFromTo(this.selectionStart,this.selectionEnd),this.set("dirty",!0),this.setSelectionEnd(this.selectionStart),this._removeExtraneousStyles(),this.canvas&&this.canvas.renderAll(),this.setCoords(),this.fire("changed"),this.canvas&&this.canvas.fire("text:changed",{target:this})},_removeCharsNearCursor:function(i){if(this.selectionStart!==0)if(i.metaKey){var e=this.findLineBoundaryLeft(this.selectionStart);this._removeCharsFromTo(e,this.selectionStart),this.setSelectionStart(e)}else if(i.altKey){var o=this.findWordBoundaryLeft(this.selectionStart);this._removeCharsFromTo(o,this.selectionStart),this.setSelectionStart(o)}else this._removeSingleCharAndStyle(this.selectionStart),this.setSelectionStart(this.selectionStart-1)}}),function(){var i=fabric.util.toFixed,e=fabric.Object.NUM_FRACTION_DIGITS;fabric.util.object.extend(fabric.IText.prototype,{_setSVGTextLineText:function(o,s,a,c,d,h){this._getLineStyle(o)?this._setSVGTextLineChars(o,s,a,c,h):fabric.Text.prototype._setSVGTextLineText.call(this,o,s,a,c,d)},_setSVGTextLineChars:function(o,s,a,c,d){for(var h=this._textLines[o],_=0,g=this._getLineLeftOffset(this._getLineWidth(this.ctx,o))-this.width/2,b=this._getSVGLineTopOffset(o),j=this._getHeightOfLine(this.ctx,o),$=0,rt=h.length;$<rt;$++){var lt=this._getStyleDeclaration(o,$)||{};s.push(this._createTextCharSpan(h[$],lt,g,b.lineTop+b.offset,_));var it=this._getWidthOfChar(this.ctx,h[$],o,$);lt.textBackgroundColor&&d.push(this._createTextCharBg(lt,g,b.lineTop,j,it,_)),_+=it}},_getSVGLineTopOffset:function(o){for(var s=0,a=0,c=0;c<o;c++)s+=this._getHeightOfLine(this.ctx,c);return a=this._getHeightOfLine(this.ctx,c),{lineTop:s,offset:(this._fontSizeMult-this._fontSizeFraction)*a/(this.lineHeight*this._fontSizeMult)}},_createTextCharBg:function(o,s,a,c,d,h){return['		<rect fill="',o.textBackgroundColor,'" x="',i(s+h,e),'" y="',i(a-this.height/2,e),'" width="',i(d,e),'" height="',i(c/this.lineHeight,e),`"></rect>
`].join("")},_createTextCharSpan:function(o,s,a,c,d){var h=this.getSvgStyles.call(fabric.util.object.extend({visible:!0,fill:this.fill,stroke:this.stroke,type:"text",getSvgFilter:fabric.Object.prototype.getSvgFilter},s));return['			<tspan x="',i(a+d,e),'" y="',i(c-this.height/2,e),'" ',s.fontFamily?'font-family="'+s.fontFamily.replace(/"/g,"'")+'" ':"",s.fontSize?'font-size="'+s.fontSize+'" ':"",s.fontStyle?'font-style="'+s.fontStyle+'" ':"",s.fontWeight?'font-weight="'+s.fontWeight+'" ':"",s.textDecoration?'text-decoration="'+s.textDecoration+'" ':"",'style="',h,'">',fabric.util.string.escapeXml(o),`</tspan>
`].join("")}})}(),function(i){var e=i.fabric||(i.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingY:!0,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:e.Text.prototype._dimensionAffectingProps.concat("width"),initialize:function(o,s){this.callSuper("initialize",o,s),this.setControlsVisibility(e.Textbox.getTextboxControlVisibility()),this.ctx=this.objectCaching?this._cacheContext:e.util.createCanvasElement().getContext("2d")},_initDimensions:function(o){this.__skipDimension||(o||(o=e.util.createCanvasElement().getContext("2d"),this._setTextStyles(o),this.clearContextTop()),this.dynamicMinWidth=0,this._textLines=this._splitTextIntoLines(o),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this._clearCache(),this.height=this._getTextHeight(o),this.setCoords())},_generateStyleMap:function(){for(var o=0,s=0,a=0,c={},d=0;d<this._textLines.length;d++)this.text[a]===`
`&&d>0?(s=0,a++,o++):this.text[a]===" "&&d>0&&(s++,a++),c[d]={line:o,offset:s},a+=this._textLines[d].length,s+=this._textLines[d].length;return c},_getStyleDeclaration:function(o,s,a){if(this._styleMap){var c=this._styleMap[o];if(!c)return a?{}:null;o=c.line,s=c.offset+s}return this.callSuper("_getStyleDeclaration",o,s,a)},_setStyleDeclaration:function(o,s,a){var c=this._styleMap[o];o=c.line,s=c.offset+s,this.styles[o][s]=a},_deleteStyleDeclaration:function(o,s){var a=this._styleMap[o];o=a.line,s=a.offset+s,delete this.styles[o][s]},_getLineStyle:function(o){var s=this._styleMap[o];return this.styles[s.line]},_setLineStyle:function(o,s){var a=this._styleMap[o];this.styles[a.line]=s},_deleteLineStyle:function(o){var s=this._styleMap[o];delete this.styles[s.line]},_wrapText:function(o,s){var a,c=s.split(this._reNewline),d=[];for(a=0;a<c.length;a++)d=d.concat(this._wrapLine(o,c[a],a));return d},_measureText:function(o,s,a,c){var d=0;c=c||0;for(var h=0,_=s.length;h<_;h++)d+=this._getWidthOfChar(o,s[h],a,h+c);return d},_wrapLine:function(o,s,a){for(var c=0,d=[],h="",_=s.split(" "),g="",b=0,j=0,$=0,rt=0,lt=!0,it=this._getWidthOfCharSpacing(),ht=0;ht<_.length;ht++)g=_[ht],j=this._measureText(o,g,a,b),b+=g.length,c+=$+j-it,c>=this.width&&!lt?(d.push(h),h="",c=j,lt=!0):c+=it,lt||(h+=" "),h+=g,$=this._measureText(o," ",a,b),b++,lt=!1,j>rt&&(rt=j);return ht&&d.push(h),rt>this.dynamicMinWidth&&(this.dynamicMinWidth=rt-it),d},_splitTextIntoLines:function(o){o=o||this.ctx;var s=this.textAlign;this._styleMap=null,o.save(),this._setTextStyles(o),this.textAlign="left";var a=this._wrapText(o,this.text);return this.textAlign=s,o.restore(),this._textLines=a,this._styleMap=this._generateStyleMap(),a},setOnGroup:function(o,s){o==="scaleX"&&(this.set("scaleX",Math.abs(1/s)),this.set("width",this.get("width")*s/(this.__oldScaleX===void 0?1:this.__oldScaleX)),this.__oldScaleX=s)},get2DCursorLocation:function(o){o===void 0&&(o=this.selectionStart);for(var s=this._textLines.length,a=0,c=0;c<s;c++){var d=this._textLines[c],h=d.length;if(o<=a+h)return{lineIndex:c,charIndex:o-a};a+=h,this.text[a]!==`
`&&this.text[a]!==" "||a++}return{lineIndex:s-1,charIndex:this._textLines[s-1].length}},_getCursorBoundariesOffsets:function(o,s){for(var a=0,c=0,d=this.get2DCursorLocation(),h=this._textLines[d.lineIndex].split(""),_=this._getLineLeftOffset(this._getLineWidth(this.ctx,d.lineIndex)),g=0;g<d.charIndex;g++)c+=this._getWidthOfChar(this.ctx,h[g],d.lineIndex,g);for(g=0;g<d.lineIndex;g++)a+=this._getHeightOfLine(this.ctx,g);return s==="cursor"&&(a+=(1-this._fontSizeFraction)*this._getHeightOfLine(this.ctx,d.lineIndex)/this.lineHeight-this.getCurrentCharFontSize(d.lineIndex,d.charIndex)*(1-this._fontSizeFraction)),{top:a,left:c,lineLeft:_}},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},toObject:function(o){return this.callSuper("toObject",["minWidth"].concat(o))}}),e.Textbox.fromObject=function(o,s,a){return e.Object._fromObject("Textbox",o,s,a,"text")},e.Textbox.getTextboxControlVisibility=function(){return{tl:!1,tr:!1,br:!1,bl:!1,ml:!0,mt:!1,mr:!0,mb:!1,mtr:!0}}}(exports),function(){var i=fabric.Canvas.prototype._setObjectScale;fabric.Canvas.prototype._setObjectScale=function(e,o,s,a,c,d,h){var _=o.target;if(!(_ instanceof fabric.Textbox))return i.call(fabric.Canvas.prototype,e,o,s,a,c,d,h);var g=_.width*(e.x/o.scaleX/(_.width+_.strokeWidth));return g>=_.getMinWidth()?(_.set("width",g),!0):void 0},fabric.Group.prototype._refreshControlsVisibility=function(){if(fabric.Textbox!==void 0){for(var e=this._objects.length;e--;)if(this._objects[e]instanceof fabric.Textbox)return void this.setControlsVisibility(fabric.Textbox.getTextboxControlVisibility())}},fabric.util.object.extend(fabric.Textbox.prototype,{_removeExtraneousStyles:function(){for(var e in this._styleMap)this._textLines[e]||delete this.styles[this._styleMap[e].line]},insertCharStyleObject:function(e,o,s){var a=this._styleMap[e];e=a.line,o=a.offset+o,fabric.IText.prototype.insertCharStyleObject.apply(this,[e,o,s])},insertNewlineStyleObject:function(e,o,s){var a=this._styleMap[e];e=a.line,o=a.offset+o,fabric.IText.prototype.insertNewlineStyleObject.apply(this,[e,o,s])},shiftLineStyles:function(e,o){e=this._styleMap[e].line,fabric.IText.prototype.shiftLineStyles.call(this,e,o)},_getTextOnPreviousLine:function(e){for(var o=this._textLines[e-1];this._styleMap[e-2]&&this._styleMap[e-2].line===this._styleMap[e-1].line;)o=this._textLines[e-2]+o,e--;return o},removeStyleObject:function(e,o){var s=this.get2DCursorLocation(o),a=this._styleMap[s.lineIndex],c=a.line,d=a.offset+s.charIndex;this._removeStyleObject(e,s,c,d)}})}(),function(){var i=fabric.IText.prototype._getNewSelectionStartFromOffset;fabric.IText.prototype._getNewSelectionStartFromOffset=function(e,o,s,a,c){a=i.call(this,e,o,s,a,c);for(var d=0,h=0,_=0;_<this._textLines.length&&!((d+=this._textLines[_].length)+h>=a);_++)this.text[d+h]!==`
`&&this.text[d+h]!==" "||h++;return a-_+h}}(),function(){function request(i,e,o){var s=URL.parse(i);s.port||(s.port=s.protocol.indexOf("https:")===0?443:80);var a=s.protocol.indexOf("https:")===0?HTTPS:HTTP,c=a.request({hostname:s.hostname,port:s.port,path:s.path,method:"GET"},function(d){var h="";e&&d.setEncoding(e),d.on("end",function(){o(h)}),d.on("data",function(_){d.statusCode===200&&(h+=_)})});c.on("error",function(d){d.errno===process.ECONNREFUSED?fabric.log("ECONNREFUSED: connection refused to "+s.hostname+":"+s.port):fabric.log(d.message),o(null)}),c.end()}function requestFs(i,e){__webpack_require__(163).readFile(i,function(o,s){if(o)throw fabric.log(o),o;e(s)})}if(typeof document>"u"||typeof window>"u"){var DOMParser=__webpack_require__(144).DOMParser,URL=__webpack_require__(49),HTTP=__webpack_require__(65),HTTPS=__webpack_require__(162),Canvas=__webpack_require__(48),Image=__webpack_require__(48).Image;fabric.util.loadImage=function(i,e,o){function s(c){c?(a.src=new Buffer(c,"binary"),a._src=i,e&&e.call(o,a)):(a=null,e&&e.call(o,null,!0))}var a=new Image;i&&(i instanceof Buffer||i.indexOf("data")===0)?(a.src=a._src=i,e&&e.call(o,a)):i&&i.indexOf("http")!==0?requestFs(i,s):i?request(i,"binary",s):e&&e.call(o,i)},fabric.loadSVGFromURL=function(i,e,o){i=i.replace(/^\n\s*/,"").replace(/\?.*$/,"").trim(),i.indexOf("http")!==0?requestFs(i,function(s){fabric.loadSVGFromString(s.toString(),e,o)}):request(i,"",function(s){fabric.loadSVGFromString(s,e,o)})},fabric.loadSVGFromString=function(i,e,o){var s=new DOMParser().parseFromString(i);fabric.parseSVGDocument(s.documentElement,function(a,c){e&&e(a,c)},o)},fabric.util.getScript=function(url,callback){request(url,"",function(body){eval(body),callback&&callback()})},fabric.createCanvasForNode=function(i,e,o,s){s=s||o;var a=fabric.document.createElement("canvas"),c=new Canvas(i||600,e||600,s),d=new Canvas(i||600,e||600,s);a.style={},a.width=c.width,a.height=c.height,o=o||{},o.nodeCanvas=c,o.nodeCacheCanvas=d;var h=fabric.Canvas||fabric.StaticCanvas,_=new h(a,o);return _.nodeCanvas=c,_.nodeCacheCanvas=d,_.contextContainer=c.getContext("2d"),_.contextCache=d.getContext("2d"),_.Font=Canvas.Font,_};var originaInitStatic=fabric.StaticCanvas.prototype._initStatic;fabric.StaticCanvas.prototype._initStatic=function(i,e){i=i||fabric.document.createElement("canvas"),this.nodeCanvas=new Canvas(i.width,i.height),this.nodeCacheCanvas=new Canvas(i.width,i.height),originaInitStatic.call(this,i,e),this.contextContainer=this.nodeCanvas.getContext("2d"),this.contextCache=this.nodeCacheCanvas.getContext("2d"),this.Font=Canvas.Font},fabric.StaticCanvas.prototype.createPNGStream=function(){return this.nodeCanvas.createPNGStream()},fabric.StaticCanvas.prototype.createJPEGStream=function(i){return this.nodeCanvas.createJPEGStream(i)},fabric.StaticCanvas.prototype._initRetinaScaling=function(){if(this._isRetinaScaling())return this.lowerCanvasEl.setAttribute("width",this.width*fabric.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*fabric.devicePixelRatio),this.nodeCanvas.width=this.width*fabric.devicePixelRatio,this.nodeCanvas.height=this.height*fabric.devicePixelRatio,this.contextContainer.scale(fabric.devicePixelRatio,fabric.devicePixelRatio),this},fabric.Canvas&&(fabric.Canvas.prototype._initRetinaScaling=fabric.StaticCanvas.prototype._initRetinaScaling);var origSetBackstoreDimension=fabric.StaticCanvas.prototype._setBackstoreDimension;fabric.StaticCanvas.prototype._setBackstoreDimension=function(i,e){return origSetBackstoreDimension.call(this,i,e),this.nodeCanvas[i]=e,this},fabric.Canvas&&(fabric.Canvas.prototype._setBackstoreDimension=fabric.StaticCanvas.prototype._setBackstoreDimension)}}()}).call(exports,__webpack_require__(20).Buffer,__webpack_require__(13))},function(i,e,o){(function(s){function a(nt){return Array.isArray?Array.isArray(nt):tt(nt)==="[object Array]"}function c(nt){return typeof nt=="boolean"}function d(nt){return nt===null}function h(nt){return nt==null}function _(nt){return typeof nt=="number"}function g(nt){return typeof nt=="string"}function b(nt){return typeof nt=="symbol"}function j(nt){return nt===void 0}function $(nt){return tt(nt)==="[object RegExp]"}function rt(nt){return typeof nt=="object"&&nt!==null}function lt(nt){return tt(nt)==="[object Date]"}function it(nt){return tt(nt)==="[object Error]"||nt instanceof Error}function ht(nt){return typeof nt=="function"}function et(nt){return nt===null||typeof nt=="boolean"||typeof nt=="number"||typeof nt=="string"||typeof nt=="symbol"||nt===void 0}function tt(nt){return Object.prototype.toString.call(nt)}e.isArray=a,e.isBoolean=c,e.isNull=d,e.isNullOrUndefined=h,e.isNumber=_,e.isString=g,e.isSymbol=b,e.isUndefined=j,e.isRegExp=$,e.isObject=rt,e.isDate=lt,e.isError=it,e.isFunction=ht,e.isPrimitive=et,e.isBuffer=s.isBuffer}).call(e,o(20).Buffer)},function(i,e){i.exports=function(o,s){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:s}}},function(i,e,o){var s=o(56),a=o(41);i.exports=Object.keys||function(c){return s(c,a)}},function(i,e){var o=0,s=Math.random();i.exports=function(a){return"Symbol(".concat(a===void 0?"":a,")_",(++o+s).toString(36))}},function(i,e){e.f={}.propertyIsEnumerable},function(i,e,o){(function(s){function a(c,d,h,_){if(typeof c!="function")throw new TypeError('"callback" argument must be a function');var g,b,j=arguments.length;switch(j){case 0:case 1:return s.nextTick(c);case 2:return s.nextTick(function(){c.call(null,d)});case 3:return s.nextTick(function(){c.call(null,d,h)});case 4:return s.nextTick(function(){c.call(null,d,h,_)});default:for(g=new Array(j-1),b=0;b<g.length;)g[b++]=arguments[b];return s.nextTick(function(){c.apply(null,g)})}}!s.version||s.version.indexOf("v0.")===0||s.version.indexOf("v1.")===0&&s.version.indexOf("v1.8.")!==0?i.exports=a:i.exports=s.nextTick}).call(e,o(13))},function(i,e,o){function s(h,_){for(var g in h)_[g]=h[g]}function a(h,_,g){return d(h,_,g)}var c=o(20),d=c.Buffer;d.from&&d.alloc&&d.allocUnsafe&&d.allocUnsafeSlow?i.exports=c:(s(c,e),e.Buffer=a),s(d,a),a.from=function(h,_,g){if(typeof h=="number")throw new TypeError("Argument must not be a number");return d(h,_,g)},a.alloc=function(h,_,g){if(typeof h!="number")throw new TypeError("Argument must be a number");var b=d(h);return _!==void 0?typeof g=="string"?b.fill(_,g):b.fill(_):b.fill(0),b},a.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return d(h)},a.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(h)}},function(i,e,o){o(81);for(var s=o(4),a=o(16),c=o(22),d=o(2)("toStringTag"),h="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),_=0;_<h.length;_++){var g=h[_],b=s[g],j=b&&b.prototype;j&&!j[d]&&a(j,d,g),c[g]=c.Array}},function(i,e){var o={}.toString;i.exports=function(s){return o.call(s).slice(8,-1)}},function(i,e){i.exports=function(o){if(o==null)throw TypeError("Can't call method on  "+o);return o}},function(i,e){i.exports=!0},function(i,e,o){var s=o(23);i.exports=function(a,c){if(!s(a))return a;var d,h;if(c&&typeof(d=a.toString)=="function"&&!s(h=d.call(a))||typeof(d=a.valueOf)=="function"&&!s(h=d.call(a))||!c&&typeof(d=a.toString)=="function"&&!s(h=d.call(a)))return h;throw TypeError("Can't convert object to primitive value")}},function(i,e,o){var s=o(17),a=o(86),c=o(41),d=o(39)("IE_PROTO"),h=function(){},_=function(){var g,b=o(54)("iframe"),j=c.length;for(b.style.display="none",o(90).appendChild(b),b.src="javascript:",g=b.contentWindow.document,g.open(),g.write("<script>document.F=Object<\/script>"),g.close(),_=g.F;j--;)delete _.prototype[c[j]];return _()};i.exports=Object.create||function(g,b){var j;return g!==null?(h.prototype=s(g),j=new h,h.prototype=null,j[d]=g):j=_(),b===void 0?j:a(j,b)}},function(i,e){var o=Math.ceil,s=Math.floor;i.exports=function(a){return isNaN(a=+a)?0:(a>0?s:o)(a)}},function(i,e,o){var s=o(40)("keys"),a=o(28);i.exports=function(c){return s[c]||(s[c]=a(c))}},function(i,e,o){var s=o(4),a=s["__core-js_shared__"]||(s["__core-js_shared__"]={});i.exports=function(c){return a[c]||(a[c]={})}},function(i,e){i.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(i,e,o){var s=o(7).f,a=o(9),c=o(2)("toStringTag");i.exports=function(d,h,_){d&&!a(d=_?d:d.prototype,c)&&s(d,c,{configurable:!0,value:h})}},function(i,e,o){var s=o(34);i.exports=function(a){return Object(s(a))}},function(i,e,o){var s=o(91)(!0);o(51)(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,c=this._t,d=this._i;return d>=c.length?{value:void 0,done:!0}:(a=s(c,d),this._i+=a.length,{value:a,done:!1})})},function(i,e){e.f=Object.getOwnPropertySymbols},function(i,e,o){e.f=o(2)},function(i,e,o){var s=o(4),a=o(0),c=o(35),d=o(46),h=o(7).f;i.exports=function(_){var g=a.Symbol||(a.Symbol=c?{}:s.Symbol||{});_.charAt(0)=="_"||_ in g||h(g,_,{value:d.f(_)})}},function(i,e){},function(i,e,o){function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function a(xt,Rt,kt){if(xt&&g.isObject(xt)&&xt instanceof s)return xt;var Wt=new s;return Wt.parse(xt,Rt,kt),Wt}function c(xt){return g.isString(xt)&&(xt=a(xt)),xt instanceof s?xt.format():s.prototype.format.call(xt)}function d(xt,Rt){return a(xt,!1,!0).resolve(Rt)}function h(xt,Rt){return xt?a(xt,!1,!0).resolveObject(Rt):Rt}var _=o(145),g=o(147);e.parse=a,e.resolve=d,e.resolveObject=h,e.format=c,e.Url=s;var b=/^([a-z0-9.+-]+:)/i,j=/:[0-9]*$/,$=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,rt=["<",">",'"',"`"," ","\r",`
`,"	"],lt=["{","}","|","\\","^","`"].concat(rt),it=["'"].concat(lt),ht=["%","/","?",";","#"].concat(it),et=["/","?","#"],tt=/^[+a-z0-9A-Z_-]{0,63}$/,nt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,st={javascript:!0,"javascript:":!0},ut={javascript:!0,"javascript:":!0},St={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},jt=o(148);s.prototype.parse=function(xt,Rt,kt){if(!g.isString(xt))throw new TypeError("Parameter 'url' must be a string, not "+typeof xt);var Wt=xt.indexOf("?"),Ct=Wt!==-1&&Wt<xt.indexOf("#")?"?":"#",pt=xt.split(Ct),gt=/\\/g;pt[0]=pt[0].replace(gt,"/"),xt=pt.join(Ct);var bt=xt;if(bt=bt.trim(),!kt&&xt.split("#").length===1){var Dt=$.exec(bt);if(Dt)return this.path=bt,this.href=bt,this.pathname=Dt[1],Dt[2]?(this.search=Dt[2],this.query=Rt?jt.parse(this.search.substr(1)):this.search.substr(1)):Rt&&(this.search="",this.query={}),this}var At=b.exec(bt);if(At){At=At[0];var Ot=At.toLowerCase();this.protocol=Ot,bt=bt.substr(At.length)}if(kt||At||bt.match(/^\/\/[^@\/]+@[^@\/]+/)){var Pt=bt.substr(0,2)==="//";!Pt||At&&ut[At]||(bt=bt.substr(2),this.slashes=!0)}if(!ut[At]&&(Pt||At&&!St[At])){for(var dt=-1,Mt=0;Mt<et.length;Mt++){var Nt=bt.indexOf(et[Mt]);Nt!==-1&&(dt===-1||Nt<dt)&&(dt=Nt)}var ft,yt;yt=dt===-1?bt.lastIndexOf("@"):bt.lastIndexOf("@",dt),yt!==-1&&(ft=bt.slice(0,yt),bt=bt.slice(yt+1),this.auth=decodeURIComponent(ft)),dt=-1;for(var Mt=0;Mt<ht.length;Mt++){var Nt=bt.indexOf(ht[Mt]);Nt!==-1&&(dt===-1||Nt<dt)&&(dt=Nt)}dt===-1&&(dt=bt.length),this.host=bt.slice(0,dt),bt=bt.slice(dt),this.parseHost(),this.hostname=this.hostname||"";var wt=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!wt)for(var _t=this.hostname.split(/\./),Mt=0,Et=_t.length;Mt<Et;Mt++){var It=_t[Mt];if(It&&!It.match(tt)){for(var zt="",Xt=0,Ut=It.length;Xt<Ut;Xt++)It.charCodeAt(Xt)>127?zt+="x":zt+=It[Xt];if(!zt.match(tt)){var vt=_t.slice(0,Mt),mt=_t.slice(Mt+1),Ft=It.match(nt);Ft&&(vt.push(Ft[1]),mt.unshift(Ft[2])),mt.length&&(bt="/"+mt.join(".")+bt),this.hostname=vt.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),wt||(this.hostname=_.toASCII(this.hostname));var Yt=this.port?":"+this.port:"",$t=this.hostname||"";this.host=$t+Yt,this.href+=this.host,wt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),bt[0]!=="/"&&(bt="/"+bt))}if(!st[Ot])for(var Mt=0,Et=it.length;Mt<Et;Mt++){var Vt=it[Mt];if(bt.indexOf(Vt)!==-1){var Ht=encodeURIComponent(Vt);Ht===Vt&&(Ht=escape(Vt)),bt=bt.split(Vt).join(Ht)}}var Zt=bt.indexOf("#");Zt!==-1&&(this.hash=bt.substr(Zt),bt=bt.slice(0,Zt));var ot=bt.indexOf("?");if(ot!==-1?(this.search=bt.substr(ot),this.query=bt.substr(ot+1),Rt&&(this.query=jt.parse(this.query)),bt=bt.slice(0,ot)):Rt&&(this.search="",this.query={}),bt&&(this.pathname=bt),St[Ot]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Yt=this.pathname||"",at=this.search||"";this.path=Yt+at}return this.href=this.format(),this},s.prototype.format=function(){var xt=this.auth||"";xt&&(xt=encodeURIComponent(xt),xt=xt.replace(/%3A/i,":"),xt+="@");var Rt=this.protocol||"",kt=this.pathname||"",Wt=this.hash||"",Ct=!1,pt="";this.host?Ct=xt+this.host:this.hostname&&(Ct=xt+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Ct+=":"+this.port)),this.query&&g.isObject(this.query)&&Object.keys(this.query).length&&(pt=jt.stringify(this.query));var gt=this.search||pt&&"?"+pt||"";return Rt&&Rt.substr(-1)!==":"&&(Rt+=":"),this.slashes||(!Rt||St[Rt])&&Ct!==!1?(Ct="//"+(Ct||""),kt&&kt.charAt(0)!=="/"&&(kt="/"+kt)):Ct||(Ct=""),Wt&&Wt.charAt(0)!=="#"&&(Wt="#"+Wt),gt&&gt.charAt(0)!=="?"&&(gt="?"+gt),kt=kt.replace(/[?#]/g,function(bt){return encodeURIComponent(bt)}),gt=gt.replace("#","%23"),Rt+Ct+kt+gt+Wt},s.prototype.resolve=function(xt){return this.resolveObject(a(xt,!1,!0)).format()},s.prototype.resolveObject=function(xt){if(g.isString(xt)){var Rt=new s;Rt.parse(xt,!1,!0),xt=Rt}for(var kt=new s,Wt=Object.keys(this),Ct=0;Ct<Wt.length;Ct++){var pt=Wt[Ct];kt[pt]=this[pt]}if(kt.hash=xt.hash,xt.href==="")return kt.href=kt.format(),kt;if(xt.slashes&&!xt.protocol){for(var gt=Object.keys(xt),bt=0;bt<gt.length;bt++){var Dt=gt[bt];Dt!=="protocol"&&(kt[Dt]=xt[Dt])}return St[kt.protocol]&&kt.hostname&&!kt.pathname&&(kt.path=kt.pathname="/"),kt.href=kt.format(),kt}if(xt.protocol&&xt.protocol!==kt.protocol){if(!St[xt.protocol]){for(var At=Object.keys(xt),Ot=0;Ot<At.length;Ot++){var Pt=At[Ot];kt[Pt]=xt[Pt]}return kt.href=kt.format(),kt}if(kt.protocol=xt.protocol,xt.host||ut[xt.protocol])kt.pathname=xt.pathname;else{for(var Et=(xt.pathname||"").split("/");Et.length&&!(xt.host=Et.shift()););xt.host||(xt.host=""),xt.hostname||(xt.hostname=""),Et[0]!==""&&Et.unshift(""),Et.length<2&&Et.unshift(""),kt.pathname=Et.join("/")}if(kt.search=xt.search,kt.query=xt.query,kt.host=xt.host||"",kt.auth=xt.auth,kt.hostname=xt.hostname||xt.host,kt.port=xt.port,kt.pathname||kt.search){var dt=kt.pathname||"",Mt=kt.search||"";kt.path=dt+Mt}return kt.slashes=kt.slashes||xt.slashes,kt.href=kt.format(),kt}var Nt=kt.pathname&&kt.pathname.charAt(0)==="/",ft=xt.host||xt.pathname&&xt.pathname.charAt(0)==="/",yt=ft||Nt||kt.host&&xt.pathname,wt=yt,_t=kt.pathname&&kt.pathname.split("/")||[],Et=xt.pathname&&xt.pathname.split("/")||[],It=kt.protocol&&!St[kt.protocol];if(It&&(kt.hostname="",kt.port=null,kt.host&&(_t[0]===""?_t[0]=kt.host:_t.unshift(kt.host)),kt.host="",xt.protocol&&(xt.hostname=null,xt.port=null,xt.host&&(Et[0]===""?Et[0]=xt.host:Et.unshift(xt.host)),xt.host=null),yt=yt&&(Et[0]===""||_t[0]==="")),ft)kt.host=xt.host||xt.host===""?xt.host:kt.host,kt.hostname=xt.hostname||xt.hostname===""?xt.hostname:kt.hostname,kt.search=xt.search,kt.query=xt.query,_t=Et;else if(Et.length)_t||(_t=[]),_t.pop(),_t=_t.concat(Et),kt.search=xt.search,kt.query=xt.query;else if(!g.isNullOrUndefined(xt.search)){if(It){kt.hostname=kt.host=_t.shift();var zt=!!(kt.host&&kt.host.indexOf("@")>0)&&kt.host.split("@");zt&&(kt.auth=zt.shift(),kt.host=kt.hostname=zt.shift())}return kt.search=xt.search,kt.query=xt.query,g.isNull(kt.pathname)&&g.isNull(kt.search)||(kt.path=(kt.pathname?kt.pathname:"")+(kt.search?kt.search:"")),kt.href=kt.format(),kt}if(!_t.length)return kt.pathname=null,kt.search?kt.path="/"+kt.search:kt.path=null,kt.href=kt.format(),kt;for(var Xt=_t.slice(-1)[0],Ut=(kt.host||xt.host||_t.length>1)&&(Xt==="."||Xt==="..")||Xt==="",vt=0,mt=_t.length;mt>=0;mt--)Xt=_t[mt],Xt==="."?_t.splice(mt,1):Xt===".."?(_t.splice(mt,1),vt++):vt&&(_t.splice(mt,1),vt--);if(!yt&&!wt)for(;vt--;vt)_t.unshift("..");!yt||_t[0]===""||_t[0]&&_t[0].charAt(0)==="/"||_t.unshift(""),Ut&&_t.join("/").substr(-1)!=="/"&&_t.push("");var Ft=_t[0]===""||_t[0]&&_t[0].charAt(0)==="/";if(It){kt.hostname=kt.host=Ft?"":_t.length?_t.shift():"";var zt=!!(kt.host&&kt.host.indexOf("@")>0)&&kt.host.split("@");zt&&(kt.auth=zt.shift(),kt.host=kt.hostname=zt.shift())}return yt=yt||kt.host&&_t.length,yt&&!Ft&&_t.unshift(""),_t.length?kt.pathname=_t.join("/"):(kt.pathname=null,kt.path=null),g.isNull(kt.pathname)&&g.isNull(kt.search)||(kt.path=(kt.pathname?kt.pathname:"")+(kt.search?kt.search:"")),kt.auth=xt.auth||kt.auth,kt.slashes=kt.slashes||xt.slashes,kt.href=kt.format(),kt},s.prototype.parseHost=function(){var xt=this.host,Rt=j.exec(xt);Rt&&(Rt=Rt[0],Rt!==":"&&(this.port=Rt.substr(1)),xt=xt.substr(0,xt.length-Rt.length)),xt&&(this.hostname=xt)}},function(i,e,o){var s=o(33);i.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return s(a)=="String"?a.split(""):Object(a)}},function(i,e,o){var s=o(35),a=o(6),c=o(55),d=o(16),h=o(9),_=o(22),g=o(85),b=o(42),j=o(57),$=o(2)("iterator"),rt=!([].keys&&"next"in[].keys()),lt=function(){return this};i.exports=function(it,ht,et,tt,nt,st,ut){g(et,ht,tt);var St,jt,xt,Rt=function(Ot){if(!rt&&Ot in pt)return pt[Ot];switch(Ot){case"keys":case"values":return function(){return new et(this,Ot)}}return function(){return new et(this,Ot)}},kt=ht+" Iterator",Wt=nt=="values",Ct=!1,pt=it.prototype,gt=pt[$]||pt["@@iterator"]||nt&&pt[nt],bt=gt||Rt(nt),Dt=nt?Wt?Rt("entries"):bt:void 0,At=ht=="Array"&&pt.entries||gt;if(At&&(xt=j(At.call(new it)))!==Object.prototype&&xt.next&&(b(xt,kt,!0),s||h(xt,$)||d(xt,$,lt)),Wt&&gt&&gt.name!=="values"&&(Ct=!0,bt=function(){return gt.call(this)}),s&&!ut||!rt&&!Ct&&pt[$]||d(pt,$,bt),_[ht]=bt,_[kt]=lt,nt)if(St={values:Wt?bt:Rt("values"),keys:st?bt:Rt("keys"),entries:Dt},ut)for(jt in St)jt in pt||c(pt,jt,St[jt]);else a(a.P+a.F*(rt||Ct),ht,St);return St}},function(i,e,o){var s=o(84);i.exports=function(a,c,d){if(s(a),c===void 0)return a;switch(d){case 1:return function(h){return a.call(c,h)};case 2:return function(h,_){return a.call(c,h,_)};case 3:return function(h,_,g){return a.call(c,h,_,g)}}return function(){return a.apply(c,arguments)}}},function(i,e,o){i.exports=!o(8)&&!o(18)(function(){return Object.defineProperty(o(54)("div"),"a",{get:function(){return 7}}).a!=7})},function(i,e,o){var s=o(23),a=o(4).document,c=s(a)&&s(a.createElement);i.exports=function(d){return c?a.createElement(d):{}}},function(i,e,o){i.exports=o(16)},function(i,e,o){var s=o(9),a=o(15),c=o(87)(!1),d=o(39)("IE_PROTO");i.exports=function(h,_){var g,b=a(h),j=0,$=[];for(g in b)g!=d&&s(b,g)&&$.push(g);for(;_.length>j;)s(b,g=_[j++])&&(~c($,g)||$.push(g));return $}},function(i,e,o){var s=o(9),a=o(43),c=o(39)("IE_PROTO"),d=Object.prototype;i.exports=Object.getPrototypeOf||function(h){return h=a(h),s(h,c)?h[c]:typeof h.constructor=="function"&&h instanceof h.constructor?h.constructor.prototype:h instanceof Object?d:null}},function(i,e,o){var s=o(33),a=o(2)("toStringTag"),c=s(function(){return arguments}())=="Arguments",d=function(h,_){try{return h[_]}catch{}};i.exports=function(h){var _,g,b;return h===void 0?"Undefined":h===null?"Null":typeof(g=d(_=Object(h),a))=="string"?g:c?s(_):(b=s(_))=="Object"&&typeof _.callee=="function"?"Arguments":b}},function(i,e,o){function s(g){return g&&g.__esModule?g:{default:g}}e.__esModule=!0;var a=o(107),c=s(a),d=o(109),h=s(d),_=typeof h.default=="function"&&typeof c.default=="symbol"?function(g){return typeof g}:function(g){return g&&typeof h.default=="function"&&g.constructor===h.default&&g!==h.default.prototype?"symbol":typeof g};e.default=typeof h.default=="function"&&_(c.default)==="symbol"?function(g){return g===void 0?"undefined":_(g)}:function(g){return g&&typeof h.default=="function"&&g.constructor===h.default&&g!==h.default.prototype?"symbol":g===void 0?"undefined":_(g)}},function(i,e,o){var s=o(56),a=o(41).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(c){return s(c,a)}},function(i,e,o){var s=o(29),a=o(26),c=o(15),d=o(36),h=o(9),_=o(53),g=Object.getOwnPropertyDescriptor;e.f=o(8)?g:function(b,j){if(b=c(b),j=d(j,!0),_)try{return g(b,j)}catch{}if(h(b,j))return a(!s.f.call(b,j),b[j])}},function(i,e,o){function s(c){return function(){return c}}var a=function(){};a.thatReturns=s,a.thatReturnsFalse=s(!1),a.thatReturnsTrue=s(!0),a.thatReturnsNull=s(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(c){return c},i.exports=a},function(i,e,o){o.d(e,"a",function(){return s}),o.d(e,"b",function(){return a});var s=function(c,d){var h=d.x-c.x,_=d.y-c.y;return Math.sqrt(h*h+_*_)},a=function(){var c="",d=void 0;for(d=0;d<32;d+=1)switch(d){case 8:case 20:c+="-",c+=(16*Math.random()|0).toString(16);break;case 12:c+="-",c+="4";break;case 16:c+="-",c+=(4*Math.random()|8).toString(16);break;default:c+=(16*Math.random()|0).toString(16)}return c}},function(i,e){var o={}.toString;i.exports=Array.isArray||function(s){return o.call(s)=="[object Array]"}},function(i,e,o){(function(s){var a=o(151),c=o(160),d=o(161),h=o(49),_=e;_.request=function(g,b){g=typeof g=="string"?h.parse(g):c(g);var j=s.location.protocol.search(/^https?:$/)===-1?"http:":"",$=g.protocol||j,rt=g.hostname||g.host,lt=g.port,it=g.path||"/";rt&&rt.indexOf(":")!==-1&&(rt="["+rt+"]"),g.url=(rt?$+"//"+rt:"")+(lt?":"+lt:"")+it,g.method=(g.method||"GET").toUpperCase(),g.headers=g.headers||{};var ht=new a(g);return b&&ht.on("response",b),ht},_.get=function(g,b){var j=_.request(g,b);return j.end(),j},_.Agent=function(){},_.Agent.defaultMaxSockets=4,_.STATUS_CODES=d,_.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(e,o(1))},function(i,e,o){(function(s){function a(){if(h!==void 0)return h;if(s.XMLHttpRequest){h=new s.XMLHttpRequest;try{h.open("GET",s.XDomainRequest?"/":"https://example.com")}catch{h=null}}else h=null;return h}function c(b){var j=a();if(!j)return!1;try{return j.responseType=b,j.responseType===b}catch{}return!1}function d(b){return typeof b=="function"}e.fetch=d(s.fetch)&&d(s.ReadableStream),e.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),e.blobConstructor=!0}catch{}var h,_=s.ArrayBuffer!==void 0,g=_&&d(s.ArrayBuffer.prototype.slice);e.arraybuffer=e.fetch||_&&c("arraybuffer"),e.msstream=!e.fetch&&g&&c("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&_&&c("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||!!a()&&d(a().overrideMimeType),e.vbArray=d(s.VBArray),h=null}).call(e,o(1))},function(i,e,o){e=i.exports=o(68),e.Stream=e,e.Readable=e,e.Writable=o(72),e.Duplex=o(21),e.Transform=o(74),e.PassThrough=o(158)},function(i,e,o){(function(s,a){function c(vt){return Nt.from(vt)}function d(vt){return Nt.isBuffer(vt)||vt instanceof ft}function h(vt,mt,Ft){if(typeof vt.prependListener=="function")return vt.prependListener(mt,Ft);vt._events&&vt._events[mt]?Pt(vt._events[mt])?vt._events[mt].unshift(Ft):vt._events[mt]=[Ft,vt._events[mt]]:vt.on(mt,Ft)}function _(vt,mt){Ot=Ot||o(21),vt=vt||{},this.objectMode=!!vt.objectMode,mt instanceof Ot&&(this.objectMode=this.objectMode||!!vt.readableObjectMode);var Ft=vt.highWaterMark,Yt=this.objectMode?16:16384;this.highWaterMark=Ft||Ft===0?Ft:Yt,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new It,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=vt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,vt.encoding&&(Et||(Et=o(73).StringDecoder),this.decoder=new Et(vt.encoding),this.encoding=vt.encoding)}function g(vt){if(Ot=Ot||o(21),!(this instanceof g))return new g(vt);this._readableState=new _(vt,this),this.readable=!0,vt&&(typeof vt.read=="function"&&(this._read=vt.read),typeof vt.destroy=="function"&&(this._destroy=vt.destroy)),Mt.call(this)}function b(vt,mt,Ft,Yt,$t){var Vt=vt._readableState;if(mt===null)Vt.reading=!1,ht(vt,Vt);else{var Ht;$t||(Ht=$(Vt,mt)),Ht?vt.emit("error",Ht):Vt.objectMode||mt&&mt.length>0?(typeof mt=="string"||Vt.objectMode||Object.getPrototypeOf(mt)===Nt.prototype||(mt=c(mt)),Yt?Vt.endEmitted?vt.emit("error",new Error("stream.unshift() after end event")):j(vt,Vt,mt,!0):Vt.ended?vt.emit("error",new Error("stream.push() after EOF")):(Vt.reading=!1,Vt.decoder&&!Ft?(mt=Vt.decoder.write(mt),Vt.objectMode||mt.length!==0?j(vt,Vt,mt,!1):nt(vt,Vt)):j(vt,Vt,mt,!1))):Yt||(Vt.reading=!1)}return rt(Vt)}function j(vt,mt,Ft,Yt){mt.flowing&&mt.length===0&&!mt.sync?(vt.emit("data",Ft),vt.read(0)):(mt.length+=mt.objectMode?1:Ft.length,Yt?mt.buffer.unshift(Ft):mt.buffer.push(Ft),mt.needReadable&&et(vt)),nt(vt,mt)}function $(vt,mt){var Ft;return d(mt)||typeof mt=="string"||mt===void 0||vt.objectMode||(Ft=new TypeError("Invalid non-string/buffer chunk")),Ft}function rt(vt){return!vt.ended&&(vt.needReadable||vt.length<vt.highWaterMark||vt.length===0)}function lt(vt){return vt>=Ut?vt=Ut:(vt--,vt|=vt>>>1,vt|=vt>>>2,vt|=vt>>>4,vt|=vt>>>8,vt|=vt>>>16,vt++),vt}function it(vt,mt){return vt<=0||mt.length===0&&mt.ended?0:mt.objectMode?1:vt!==vt?mt.flowing&&mt.length?mt.buffer.head.data.length:mt.length:(vt>mt.highWaterMark&&(mt.highWaterMark=lt(vt)),vt<=mt.length?vt:mt.ended?mt.length:(mt.needReadable=!0,0))}function ht(vt,mt){if(!mt.ended){if(mt.decoder){var Ft=mt.decoder.end();Ft&&Ft.length&&(mt.buffer.push(Ft),mt.length+=mt.objectMode?1:Ft.length)}mt.ended=!0,et(vt)}}function et(vt){var mt=vt._readableState;mt.needReadable=!1,mt.emittedReadable||(_t("emitReadable",mt.flowing),mt.emittedReadable=!0,mt.sync?At(tt,vt):tt(vt))}function tt(vt){_t("emit readable"),vt.emit("readable"),Rt(vt)}function nt(vt,mt){mt.readingMore||(mt.readingMore=!0,At(st,vt,mt))}function st(vt,mt){for(var Ft=mt.length;!mt.reading&&!mt.flowing&&!mt.ended&&mt.length<mt.highWaterMark&&(_t("maybeReadMore read 0"),vt.read(0),Ft!==mt.length);)Ft=mt.length;mt.readingMore=!1}function ut(vt){return function(){var mt=vt._readableState;_t("pipeOnDrain",mt.awaitDrain),mt.awaitDrain&&mt.awaitDrain--,mt.awaitDrain===0&&dt(vt,"data")&&(mt.flowing=!0,Rt(vt))}}function St(vt){_t("readable nexttick read 0"),vt.read(0)}function jt(vt,mt){mt.resumeScheduled||(mt.resumeScheduled=!0,At(xt,vt,mt))}function xt(vt,mt){mt.reading||(_t("resume read 0"),vt.read(0)),mt.resumeScheduled=!1,mt.awaitDrain=0,vt.emit("resume"),Rt(vt),mt.flowing&&!mt.reading&&vt.read(0)}function Rt(vt){var mt=vt._readableState;for(_t("flow",mt.flowing);mt.flowing&&vt.read()!==null;);}function kt(vt,mt){if(mt.length===0)return null;var Ft;return mt.objectMode?Ft=mt.buffer.shift():!vt||vt>=mt.length?(Ft=mt.decoder?mt.buffer.join(""):mt.buffer.length===1?mt.buffer.head.data:mt.buffer.concat(mt.length),mt.buffer.clear()):Ft=Wt(vt,mt.buffer,mt.decoder),Ft}function Wt(vt,mt,Ft){var Yt;return vt<mt.head.data.length?(Yt=mt.head.data.slice(0,vt),mt.head.data=mt.head.data.slice(vt)):Yt=vt===mt.head.data.length?mt.shift():Ft?Ct(vt,mt):pt(vt,mt),Yt}function Ct(vt,mt){var Ft=mt.head,Yt=1,$t=Ft.data;for(vt-=$t.length;Ft=Ft.next;){var Vt=Ft.data,Ht=vt>Vt.length?Vt.length:vt;if(Ht===Vt.length?$t+=Vt:$t+=Vt.slice(0,vt),(vt-=Ht)===0){Ht===Vt.length?(++Yt,Ft.next?mt.head=Ft.next:mt.head=mt.tail=null):(mt.head=Ft,Ft.data=Vt.slice(Ht));break}++Yt}return mt.length-=Yt,$t}function pt(vt,mt){var Ft=Nt.allocUnsafe(vt),Yt=mt.head,$t=1;for(Yt.data.copy(Ft),vt-=Yt.data.length;Yt=Yt.next;){var Vt=Yt.data,Ht=vt>Vt.length?Vt.length:vt;if(Vt.copy(Ft,Ft.length-vt,0,Ht),(vt-=Ht)===0){Ht===Vt.length?(++$t,Yt.next?mt.head=Yt.next:mt.head=mt.tail=null):(mt.head=Yt,Yt.data=Vt.slice(Ht));break}++$t}return mt.length-=$t,Ft}function gt(vt){var mt=vt._readableState;if(mt.length>0)throw new Error('"endReadable()" called on non-empty stream');mt.endEmitted||(mt.ended=!0,At(bt,mt,vt))}function bt(vt,mt){vt.endEmitted||vt.length!==0||(vt.endEmitted=!0,mt.readable=!1,mt.emit("end"))}function Dt(vt,mt){for(var Ft=0,Yt=vt.length;Ft<Yt;Ft++)if(vt[Ft]===mt)return Ft;return-1}var At=o(30);i.exports=g;var Ot,Pt=o(64);g.ReadableState=_;var dt=(o(69).EventEmitter,function(vt,mt){return vt.listeners(mt).length}),Mt=o(70),Nt=o(31).Buffer,ft=s.Uint8Array||function(){},yt=o(25);yt.inherits=o(14);var wt=o(153),_t=void 0;_t=wt&&wt.debuglog?wt.debuglog("stream"):function(){};var Et,It=o(154),zt=o(71);yt.inherits(g,Mt);var Xt=["error","close","destroy","pause","resume"];Object.defineProperty(g.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(vt){this._readableState&&(this._readableState.destroyed=vt)}}),g.prototype.destroy=zt.destroy,g.prototype._undestroy=zt.undestroy,g.prototype._destroy=function(vt,mt){this.push(null),mt(vt)},g.prototype.push=function(vt,mt){var Ft,Yt=this._readableState;return Yt.objectMode?Ft=!0:typeof vt=="string"&&(mt=mt||Yt.defaultEncoding,mt!==Yt.encoding&&(vt=Nt.from(vt,mt),mt=""),Ft=!0),b(this,vt,mt,!1,Ft)},g.prototype.unshift=function(vt){return b(this,vt,null,!0,!1)},g.prototype.isPaused=function(){return this._readableState.flowing===!1},g.prototype.setEncoding=function(vt){return Et||(Et=o(73).StringDecoder),this._readableState.decoder=new Et(vt),this._readableState.encoding=vt,this};var Ut=8388608;g.prototype.read=function(vt){_t("read",vt),vt=parseInt(vt,10);var mt=this._readableState,Ft=vt;if(vt!==0&&(mt.emittedReadable=!1),vt===0&&mt.needReadable&&(mt.length>=mt.highWaterMark||mt.ended))return _t("read: emitReadable",mt.length,mt.ended),mt.length===0&&mt.ended?gt(this):et(this),null;if((vt=it(vt,mt))===0&&mt.ended)return mt.length===0&&gt(this),null;var Yt=mt.needReadable;_t("need readable",Yt),(mt.length===0||mt.length-vt<mt.highWaterMark)&&(Yt=!0,_t("length less than watermark",Yt)),mt.ended||mt.reading?(Yt=!1,_t("reading or ended",Yt)):Yt&&(_t("do read"),mt.reading=!0,mt.sync=!0,mt.length===0&&(mt.needReadable=!0),this._read(mt.highWaterMark),mt.sync=!1,mt.reading||(vt=it(Ft,mt)));var $t;return $t=vt>0?kt(vt,mt):null,$t===null?(mt.needReadable=!0,vt=0):mt.length-=vt,mt.length===0&&(mt.ended||(mt.needReadable=!0),Ft!==vt&&mt.ended&&gt(this)),$t!==null&&this.emit("data",$t),$t},g.prototype._read=function(vt){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(vt,mt){function Ft(Kt,Jt){_t("onunpipe"),Kt===ct&&Jt&&Jt.hasUnpiped===!1&&(Jt.hasUnpiped=!0,$t())}function Yt(){_t("onend"),vt.end()}function $t(){_t("cleanup"),vt.removeListener("close",Zt),vt.removeListener("finish",ot),vt.removeListener("drain",Gt),vt.removeListener("error",Ht),vt.removeListener("unpipe",Ft),ct.removeListener("end",Yt),ct.removeListener("end",at),ct.removeListener("data",Vt),qt=!0,!Tt.awaitDrain||vt._writableState&&!vt._writableState.needDrain||Gt()}function Vt(Kt){_t("ondata"),Qt=!1,vt.write(Kt)!==!1||Qt||((Tt.pipesCount===1&&Tt.pipes===vt||Tt.pipesCount>1&&Dt(Tt.pipes,vt)!==-1)&&!qt&&(_t("false write response, pause",ct._readableState.awaitDrain),ct._readableState.awaitDrain++,Qt=!0),ct.pause())}function Ht(Kt){_t("onerror",Kt),at(),vt.removeListener("error",Ht),dt(vt,"error")===0&&vt.emit("error",Kt)}function Zt(){vt.removeListener("finish",ot),at()}function ot(){_t("onfinish"),vt.removeListener("close",Zt),at()}function at(){_t("unpipe"),ct.unpipe(vt)}var ct=this,Tt=this._readableState;switch(Tt.pipesCount){case 0:Tt.pipes=vt;break;case 1:Tt.pipes=[Tt.pipes,vt];break;default:Tt.pipes.push(vt)}Tt.pipesCount+=1,_t("pipe count=%d opts=%j",Tt.pipesCount,mt);var Lt=(!mt||mt.end!==!1)&&vt!==a.stdout&&vt!==a.stderr,Bt=Lt?Yt:at;Tt.endEmitted?At(Bt):ct.once("end",Bt),vt.on("unpipe",Ft);var Gt=ut(ct);vt.on("drain",Gt);var qt=!1,Qt=!1;return ct.on("data",Vt),h(vt,"error",Ht),vt.once("close",Zt),vt.once("finish",ot),vt.emit("pipe",ct),Tt.flowing||(_t("pipe resume"),ct.resume()),vt},g.prototype.unpipe=function(vt){var mt=this._readableState,Ft={hasUnpiped:!1};if(mt.pipesCount===0)return this;if(mt.pipesCount===1)return vt&&vt!==mt.pipes?this:(vt||(vt=mt.pipes),mt.pipes=null,mt.pipesCount=0,mt.flowing=!1,vt&&vt.emit("unpipe",this,Ft),this);if(!vt){var Yt=mt.pipes,$t=mt.pipesCount;mt.pipes=null,mt.pipesCount=0,mt.flowing=!1;for(var Vt=0;Vt<$t;Vt++)Yt[Vt].emit("unpipe",this,Ft);return this}var Ht=Dt(mt.pipes,vt);return Ht===-1?this:(mt.pipes.splice(Ht,1),mt.pipesCount-=1,mt.pipesCount===1&&(mt.pipes=mt.pipes[0]),vt.emit("unpipe",this,Ft),this)},g.prototype.on=function(vt,mt){var Ft=Mt.prototype.on.call(this,vt,mt);if(vt==="data")this._readableState.flowing!==!1&&this.resume();else if(vt==="readable"){var Yt=this._readableState;Yt.endEmitted||Yt.readableListening||(Yt.readableListening=Yt.needReadable=!0,Yt.emittedReadable=!1,Yt.reading?Yt.length&&et(this):At(St,this))}return Ft},g.prototype.addListener=g.prototype.on,g.prototype.resume=function(){var vt=this._readableState;return vt.flowing||(_t("resume"),vt.flowing=!0,jt(this,vt)),this},g.prototype.pause=function(){return _t("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_t("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(vt){var mt=this._readableState,Ft=!1,Yt=this;vt.on("end",function(){if(_t("wrapped end"),mt.decoder&&!mt.ended){var Ht=mt.decoder.end();Ht&&Ht.length&&Yt.push(Ht)}Yt.push(null)}),vt.on("data",function(Ht){_t("wrapped data"),mt.decoder&&(Ht=mt.decoder.write(Ht)),(!mt.objectMode||Ht!=null)&&(mt.objectMode||Ht&&Ht.length)&&(Yt.push(Ht)||(Ft=!0,vt.pause()))});for(var $t in vt)this[$t]===void 0&&typeof vt[$t]=="function"&&(this[$t]=function(Ht){return function(){return vt[Ht].apply(vt,arguments)}}($t));for(var Vt=0;Vt<Xt.length;Vt++)vt.on(Xt[Vt],Yt.emit.bind(Yt,Xt[Vt]));return Yt._read=function(Ht){_t("wrapped _read",Ht),Ft&&(Ft=!1,vt.resume())},Yt},g._fromList=kt}).call(e,o(1),o(13))},function(i,e){function o(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(h){return typeof h=="function"}function a(h){return typeof h=="number"}function c(h){return typeof h=="object"&&h!==null}function d(h){return h===void 0}i.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0,o.defaultMaxListeners=10,o.prototype.setMaxListeners=function(h){if(!a(h)||h<0||isNaN(h))throw TypeError("n must be a positive number");return this._maxListeners=h,this},o.prototype.emit=function(h){var _,g,b,j,$,rt;if(this._events||(this._events={}),h==="error"&&(!this._events.error||c(this._events.error)&&!this._events.error.length)){if((_=arguments[1])instanceof Error)throw _;var lt=new Error('Uncaught, unspecified "error" event. ('+_+")");throw lt.context=_,lt}if(g=this._events[h],d(g))return!1;if(s(g))switch(arguments.length){case 1:g.call(this);break;case 2:g.call(this,arguments[1]);break;case 3:g.call(this,arguments[1],arguments[2]);break;default:j=Array.prototype.slice.call(arguments,1),g.apply(this,j)}else if(c(g))for(j=Array.prototype.slice.call(arguments,1),rt=g.slice(),b=rt.length,$=0;$<b;$++)rt[$].apply(this,j);return!0},o.prototype.addListener=function(h,_){var g;if(!s(_))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",h,s(_.listener)?_.listener:_),this._events[h]?c(this._events[h])?this._events[h].push(_):this._events[h]=[this._events[h],_]:this._events[h]=_,c(this._events[h])&&!this._events[h].warned&&(g=d(this._maxListeners)?o.defaultMaxListeners:this._maxListeners)&&g>0&&this._events[h].length>g&&(this._events[h].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[h].length),typeof console.trace=="function"&&console.trace()),this},o.prototype.on=o.prototype.addListener,o.prototype.once=function(h,_){function g(){this.removeListener(h,g),b||(b=!0,_.apply(this,arguments))}if(!s(_))throw TypeError("listener must be a function");var b=!1;return g.listener=_,this.on(h,g),this},o.prototype.removeListener=function(h,_){var g,b,j,$;if(!s(_))throw TypeError("listener must be a function");if(!this._events||!this._events[h])return this;if(g=this._events[h],j=g.length,b=-1,g===_||s(g.listener)&&g.listener===_)delete this._events[h],this._events.removeListener&&this.emit("removeListener",h,_);else if(c(g)){for($=j;$-- >0;)if(g[$]===_||g[$].listener&&g[$].listener===_){b=$;break}if(b<0)return this;g.length===1?(g.length=0,delete this._events[h]):g.splice(b,1),this._events.removeListener&&this.emit("removeListener",h,_)}return this},o.prototype.removeAllListeners=function(h){var _,g;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[h]&&delete this._events[h],this;if(arguments.length===0){for(_ in this._events)_!=="removeListener"&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events={},this}if(g=this._events[h],s(g))this.removeListener(h,g);else if(g)for(;g.length;)this.removeListener(h,g[g.length-1]);return delete this._events[h],this},o.prototype.listeners=function(h){return this._events&&this._events[h]?s(this._events[h])?[this._events[h]]:this._events[h].slice():[]},o.prototype.listenerCount=function(h){if(this._events){var _=this._events[h];if(s(_))return 1;if(_)return _.length}return 0},o.listenerCount=function(h,_){return h.listenerCount(_)}},function(i,e,o){i.exports=o(69).EventEmitter},function(i,e,o){function s(h,_){var g=this,b=this._readableState&&this._readableState.destroyed,j=this._writableState&&this._writableState.destroyed;if(b||j)return void(_?_(h):!h||this._writableState&&this._writableState.errorEmitted||d(c,this,h));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function($){!_&&$?(d(c,g,$),g._writableState&&(g._writableState.errorEmitted=!0)):_&&_($)})}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(h,_){h.emit("error",_)}var d=o(30);i.exports={destroy:s,undestroy:a}},function(i,e,o){(function(s,a,c){function d(ft){var yt=this;this.next=null,this.entry=null,this.finish=function(){Ct(yt,ft)}}function h(ft){return Pt.from(ft)}function _(ft){return Pt.isBuffer(ft)||ft instanceof dt}function g(){}function b(ft,yt){gt=gt||o(21),ft=ft||{},this.objectMode=!!ft.objectMode,yt instanceof gt&&(this.objectMode=this.objectMode||!!ft.writableObjectMode);var wt=ft.highWaterMark,_t=this.objectMode?16:16384;this.highWaterMark=wt||wt===0?wt:_t,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Et=ft.decodeStrings===!1;this.decodeStrings=!Et,this.defaultEncoding=ft.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(It){nt(yt,It)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function j(ft){if(gt=gt||o(21),!(Nt.call(j,this)||this instanceof gt))return new j(ft);this._writableState=new b(ft,this),this.writable=!0,ft&&(typeof ft.write=="function"&&(this._write=ft.write),typeof ft.writev=="function"&&(this._writev=ft.writev),typeof ft.destroy=="function"&&(this._destroy=ft.destroy),typeof ft.final=="function"&&(this._final=ft.final)),Ot.call(this)}function $(ft,yt){var wt=new Error("write after end");ft.emit("error",wt),pt(yt,wt)}function rt(ft,yt,wt,_t){var Et=!0,It=!1;return wt===null?It=new TypeError("May not write null values to stream"):typeof wt=="string"||wt===void 0||yt.objectMode||(It=new TypeError("Invalid non-string/buffer chunk")),It&&(ft.emit("error",It),pt(_t,It),Et=!1),Et}function lt(ft,yt,wt){return ft.objectMode||ft.decodeStrings===!1||typeof yt!="string"||(yt=Pt.from(yt,wt)),yt}function it(ft,yt,wt,_t,Et,It){if(!wt){var zt=lt(yt,_t,Et);_t!==zt&&(wt=!0,Et="buffer",_t=zt)}var Xt=yt.objectMode?1:_t.length;yt.length+=Xt;var Ut=yt.length<yt.highWaterMark;if(Ut||(yt.needDrain=!0),yt.writing||yt.corked){var vt=yt.lastBufferedRequest;yt.lastBufferedRequest={chunk:_t,encoding:Et,isBuf:wt,callback:It,next:null},vt?vt.next=yt.lastBufferedRequest:yt.bufferedRequest=yt.lastBufferedRequest,yt.bufferedRequestCount+=1}else ht(ft,yt,!1,Xt,_t,Et,It);return Ut}function ht(ft,yt,wt,_t,Et,It,zt){yt.writelen=_t,yt.writecb=zt,yt.writing=!0,yt.sync=!0,wt?ft._writev(Et,yt.onwrite):ft._write(Et,It,yt.onwrite),yt.sync=!1}function et(ft,yt,wt,_t,Et){--yt.pendingcb,wt?(pt(Et,_t),pt(kt,ft,yt),ft._writableState.errorEmitted=!0,ft.emit("error",_t)):(Et(_t),ft._writableState.errorEmitted=!0,ft.emit("error",_t),kt(ft,yt))}function tt(ft){ft.writing=!1,ft.writecb=null,ft.length-=ft.writelen,ft.writelen=0}function nt(ft,yt){var wt=ft._writableState,_t=wt.sync,Et=wt.writecb;if(tt(wt),yt)et(ft,wt,_t,yt,Et);else{var It=jt(wt);It||wt.corked||wt.bufferProcessing||!wt.bufferedRequest||St(ft,wt),_t?bt(st,ft,wt,It,Et):st(ft,wt,It,Et)}}function st(ft,yt,wt,_t){wt||ut(ft,yt),yt.pendingcb--,_t(),kt(ft,yt)}function ut(ft,yt){yt.length===0&&yt.needDrain&&(yt.needDrain=!1,ft.emit("drain"))}function St(ft,yt){yt.bufferProcessing=!0;var wt=yt.bufferedRequest;if(ft._writev&&wt&&wt.next){var _t=yt.bufferedRequestCount,Et=new Array(_t),It=yt.corkedRequestsFree;It.entry=wt;for(var zt=0,Xt=!0;wt;)Et[zt]=wt,wt.isBuf||(Xt=!1),wt=wt.next,zt+=1;Et.allBuffers=Xt,ht(ft,yt,!0,yt.length,Et,"",It.finish),yt.pendingcb++,yt.lastBufferedRequest=null,It.next?(yt.corkedRequestsFree=It.next,It.next=null):yt.corkedRequestsFree=new d(yt)}else{for(;wt;){var Ut=wt.chunk,vt=wt.encoding,mt=wt.callback;if(ht(ft,yt,!1,yt.objectMode?1:Ut.length,Ut,vt,mt),wt=wt.next,yt.writing)break}wt===null&&(yt.lastBufferedRequest=null)}yt.bufferedRequestCount=0,yt.bufferedRequest=wt,yt.bufferProcessing=!1}function jt(ft){return ft.ending&&ft.length===0&&ft.bufferedRequest===null&&!ft.finished&&!ft.writing}function xt(ft,yt){ft._final(function(wt){yt.pendingcb--,wt&&ft.emit("error",wt),yt.prefinished=!0,ft.emit("prefinish"),kt(ft,yt)})}function Rt(ft,yt){yt.prefinished||yt.finalCalled||(typeof ft._final=="function"?(yt.pendingcb++,yt.finalCalled=!0,pt(xt,ft,yt)):(yt.prefinished=!0,ft.emit("prefinish")))}function kt(ft,yt){var wt=jt(yt);return wt&&(Rt(ft,yt),yt.pendingcb===0&&(yt.finished=!0,ft.emit("finish"))),wt}function Wt(ft,yt,wt){yt.ending=!0,kt(ft,yt),wt&&(yt.finished?pt(wt):ft.once("finish",wt)),yt.ended=!0,ft.writable=!1}function Ct(ft,yt,wt){var _t=ft.entry;for(ft.entry=null;_t;){var Et=_t.callback;yt.pendingcb--,Et(wt),_t=_t.next}yt.corkedRequestsFree?yt.corkedRequestsFree.next=ft:yt.corkedRequestsFree=ft}var pt=o(30);i.exports=j;var gt,bt=!s.browser&&["v0.10","v0.9."].indexOf(s.version.slice(0,5))>-1?a:pt;j.WritableState=b;var Dt=o(25);Dt.inherits=o(14);var At={deprecate:o(157)},Ot=o(70),Pt=o(31).Buffer,dt=c.Uint8Array||function(){},Mt=o(71);Dt.inherits(j,Ot),b.prototype.getBuffer=function(){for(var ft=this.bufferedRequest,yt=[];ft;)yt.push(ft),ft=ft.next;return yt},function(){try{Object.defineProperty(b.prototype,"buffer",{get:At.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Nt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Nt=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(ft){return!!Nt.call(this,ft)||ft&&ft._writableState instanceof b}})):Nt=function(ft){return ft instanceof this},j.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},j.prototype.write=function(ft,yt,wt){var _t=this._writableState,Et=!1,It=_(ft)&&!_t.objectMode;return It&&!Pt.isBuffer(ft)&&(ft=h(ft)),typeof yt=="function"&&(wt=yt,yt=null),It?yt="buffer":yt||(yt=_t.defaultEncoding),typeof wt!="function"&&(wt=g),_t.ended?$(this,wt):(It||rt(this,_t,ft,wt))&&(_t.pendingcb++,Et=it(this,_t,It,ft,yt,wt)),Et},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var ft=this._writableState;ft.corked&&(ft.corked--,ft.writing||ft.corked||ft.finished||ft.bufferProcessing||!ft.bufferedRequest||St(this,ft))},j.prototype.setDefaultEncoding=function(ft){if(typeof ft=="string"&&(ft=ft.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ft+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+ft);return this._writableState.defaultEncoding=ft,this},j.prototype._write=function(ft,yt,wt){wt(new Error("_write() is not implemented"))},j.prototype._writev=null,j.prototype.end=function(ft,yt,wt){var _t=this._writableState;typeof ft=="function"?(wt=ft,ft=null,yt=null):typeof yt=="function"&&(wt=yt,yt=null),ft!=null&&this.write(ft,yt),_t.corked&&(_t.corked=1,this.uncork()),_t.ending||_t.finished||Wt(this,_t,wt)},Object.defineProperty(j.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(ft){this._writableState&&(this._writableState.destroyed=ft)}}),j.prototype.destroy=Mt.destroy,j.prototype._undestroy=Mt.undestroy,j.prototype._destroy=function(ft,yt){this.end(),yt(ft)}}).call(e,o(13),o(155).setImmediate,o(1))},function(i,e,o){function s(st){if(!st)return"utf8";for(var ut;;)switch(st){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return st;default:if(ut)return;st=(""+st).toLowerCase(),ut=!0}}function a(st){var ut=s(st);if(typeof ut!="string"&&(tt.isEncoding===nt||!nt(st)))throw new Error("Unknown encoding: "+st);return ut||st}function c(st){this.encoding=a(st);var ut;switch(this.encoding){case"utf16le":this.text=$,this.end=rt,ut=4;break;case"utf8":this.fillLast=g,ut=4;break;case"base64":this.text=lt,this.end=it,ut=3;break;default:return this.write=ht,void(this.end=et)}this.lastNeed=0,this.lastTotal=0,this.lastChar=tt.allocUnsafe(ut)}function d(st){return st<=127?0:st>>5==6?2:st>>4==14?3:st>>3==30?4:-1}function h(st,ut,St){var jt=ut.length-1;if(jt<St)return 0;var xt=d(ut[jt]);return xt>=0?(xt>0&&(st.lastNeed=xt-1),xt):--jt<St?0:(xt=d(ut[jt]))>=0?(xt>0&&(st.lastNeed=xt-2),xt):--jt<St?0:(xt=d(ut[jt]),xt>=0?(xt>0&&(xt===2?xt=0:st.lastNeed=xt-3),xt):0)}function _(st,ut,St){if((192&ut[0])!=128)return st.lastNeed=0,"".repeat(St);if(st.lastNeed>1&&ut.length>1){if((192&ut[1])!=128)return st.lastNeed=1,"".repeat(St+1);if(st.lastNeed>2&&ut.length>2&&(192&ut[2])!=128)return st.lastNeed=2,"".repeat(St+2)}}function g(st){var ut=this.lastTotal-this.lastNeed,St=_(this,st,ut);return St!==void 0?St:this.lastNeed<=st.length?(st.copy(this.lastChar,ut,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(st.copy(this.lastChar,ut,0,st.length),void(this.lastNeed-=st.length))}function b(st,ut){var St=h(this,st,ut);if(!this.lastNeed)return st.toString("utf8",ut);this.lastTotal=St;var jt=st.length-(St-this.lastNeed);return st.copy(this.lastChar,0,jt),st.toString("utf8",ut,jt)}function j(st){var ut=st&&st.length?this.write(st):"";return this.lastNeed?ut+"".repeat(this.lastTotal-this.lastNeed):ut}function $(st,ut){if((st.length-ut)%2==0){var St=st.toString("utf16le",ut);if(St){var jt=St.charCodeAt(St.length-1);if(jt>=55296&&jt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=st[st.length-2],this.lastChar[1]=st[st.length-1],St.slice(0,-1)}return St}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=st[st.length-1],st.toString("utf16le",ut,st.length-1)}function rt(st){var ut=st&&st.length?this.write(st):"";if(this.lastNeed){var St=this.lastTotal-this.lastNeed;return ut+this.lastChar.toString("utf16le",0,St)}return ut}function lt(st,ut){var St=(st.length-ut)%3;return St===0?st.toString("base64",ut):(this.lastNeed=3-St,this.lastTotal=3,St===1?this.lastChar[0]=st[st.length-1]:(this.lastChar[0]=st[st.length-2],this.lastChar[1]=st[st.length-1]),st.toString("base64",ut,st.length-St))}function it(st){var ut=st&&st.length?this.write(st):"";return this.lastNeed?ut+this.lastChar.toString("base64",0,3-this.lastNeed):ut}function ht(st){return st.toString(this.encoding)}function et(st){return st&&st.length?this.write(st):""}var tt=o(31).Buffer,nt=tt.isEncoding||function(st){switch((st=""+st)&&st.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};e.StringDecoder=c,c.prototype.write=function(st){if(st.length===0)return"";var ut,St;if(this.lastNeed){if((ut=this.fillLast(st))===void 0)return"";St=this.lastNeed,this.lastNeed=0}else St=0;return St<st.length?ut?ut+this.text(st,St):this.text(st,St):ut||""},c.prototype.end=j,c.prototype.text=b,c.prototype.fillLast=function(st){if(this.lastNeed<=st.length)return st.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);st.copy(this.lastChar,this.lastTotal-this.lastNeed,0,st.length),this.lastNeed-=st.length}},function(i,e,o){function s(g){this.afterTransform=function(b,j){return a(g,b,j)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function a(g,b,j){var $=g._transformState;$.transforming=!1;var rt=$.writecb;if(!rt)return g.emit("error",new Error("write callback called multiple times"));$.writechunk=null,$.writecb=null,j!=null&&g.push(j),rt(b);var lt=g._readableState;lt.reading=!1,(lt.needReadable||lt.length<lt.highWaterMark)&&g._read(lt.highWaterMark)}function c(g){if(!(this instanceof c))return new c(g);h.call(this,g),this._transformState=new s(this);var b=this;this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(j,$){d(b,j,$)}):d(b)})}function d(g,b,j){if(b)return g.emit("error",b);j!=null&&g.push(j);var $=g._writableState,rt=g._transformState;if($.length)throw new Error("Calling transform done when ws.length != 0");if(rt.transforming)throw new Error("Calling transform done when still transforming");return g.push(null)}i.exports=c;var h=o(21),_=o(25);_.inherits=o(14),_.inherits(c,h),c.prototype.push=function(g,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,g,b)},c.prototype._transform=function(g,b,j){throw new Error("_transform() is not implemented")},c.prototype._write=function(g,b,j){var $=this._transformState;if($.writecb=j,$.writechunk=g,$.writeencoding=b,!$.transforming){var rt=this._readableState;($.needTransform||rt.needReadable||rt.length<rt.highWaterMark)&&this._read(rt.highWaterMark)}},c.prototype._read=function(g){var b=this._transformState;b.writechunk!==null&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},c.prototype._destroy=function(g,b){var j=this;h.prototype._destroy.call(this,g,function($){b($),j.emit("close")})}},function(i,e,o){e.a={Circle:"circle",Line:"line",Pencil:"pencil",Rectangle:"rectangle",Select:"select",Pan:"pan"}},function(i,e,o){Object.defineProperty(e,"__esModule",{value:!0});var s=o(77),a=o(75);o.d(e,"SketchField",function(){return s.a}),o.d(e,"Tools",function(){return a.a}),e.default={SketchField:s.a,Tools:a.a}},function(i,e,o){var s=o(78),a=o.n(s),c=o(97),d=o.n(c),h=o(99),_=o.n(h),g=o(10),b=o.n(g),j=o(3),$=o.n(j),rt=o(11),lt=o.n(rt),it=o(12),ht=o.n(it),et=o(126),tt=o.n(et),nt=o(130),st=o.n(nt),ut=o(134),St=o(63),jt=o(138),xt=o(139),Rt=o(140),kt=o(164),Wt=o(165),Ct=o(166),pt=o(75),gt=o(24).fabric,bt=function(Dt){function At(){var Ot,Pt,dt,Mt;$()(this,At);for(var Nt=arguments.length,ft=Array(Nt),yt=0;yt<Nt;yt++)ft[yt]=arguments[yt];return Pt=dt=lt()(this,(Ot=At.__proto__||b()(At)).call.apply(Ot,[this].concat(ft))),dt.state={parentWidth:550,action:!0},dt._initTools=function(wt){dt._tools={},dt._tools[pt.a.Select]=new jt.a(wt),dt._tools[pt.a.Pencil]=new xt.a(wt),dt._tools[pt.a.Line]=new Rt.a(wt),dt._tools[pt.a.Rectangle]=new kt.a(wt),dt._tools[pt.a.Circle]=new Wt.a(wt),dt._tools[pt.a.Pan]=new Ct.a(wt)},dt.enableTouchScroll=function(){var wt=dt._fc;wt.allowTouchScrolling||(wt.allowTouchScrolling=!0)},dt.disableTouchScroll=function(){var wt=dt._fc;wt.allowTouchScrolling&&(wt.allowTouchScrolling=!1)},dt.addImg=function(wt){var _t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Et=dt._fc;gt.Image.fromURL(wt,function(It){var zt={left:Math.random()*(Et.getWidth()-.5*It.width),top:Math.random()*(Et.getHeight()-.5*It.height),scale:.5};_()(zt,_t),It.scale(zt.scale),It.set({left:zt.left,top:zt.top}),Et.add(It)})},dt._onObjectAdded=function(wt){if(!dt.state.action)return void dt.setState({action:!0});var _t=wt.target;_t.version=1;var Et=_t.toJSON();_t.originalState=Et;var It=d()(Et);dt._history.keep([_t,It,It])},dt._onObjectMoving=function(wt){},dt._onObjectScaling=function(wt){},dt._onObjectRotating=function(wt){},dt._onObjectRemoved=function(wt){wt.target.version=0},dt._onMouseDown=function(wt){dt._selectedTool.doMouseDown(wt)},dt._onMouseMove=function(wt){dt._selectedTool.doMouseMove(wt)},dt._onMouseOut=function(wt){if(dt._selectedTool.doMouseOut(wt),dt.props.onChange){var _t=dt.props.onChange;setTimeout(function(){_t(wt.e)},10)}},dt._resize=function(wt){wt&&wt.preventDefault();var _t=dt.props,Et=_t.widthCorrection,It=_t.heightCorrection,zt=dt._fc,Xt=dt._container,Ut=Xt.offsetWidth,vt=Xt.clientHeight,mt=zt.getWidth(),Ft=zt.getHeight(),Yt=((Ut-Et)/mt).toFixed(2),$t=((vt-It)/Ft).toFixed(2);if(zt.setWidth(Ut-Et),zt.setHeight(vt-It),zt.backgroundImage){var Vt=zt.backgroundImage;Vt.width=Vt.width*Yt,Vt.height=Vt.height*$t}var Ht=zt.getObjects();for(var Zt in Ht){var ot=Ht[Zt],at=ot.scaleX,ct=ot.scaleY,Tt=ot.left,Lt=ot.top,Bt=at*Yt,Gt=ct*$t,qt=Tt*Yt,Qt=Lt*$t;ot.scaleX=Bt,ot.scaleY=Gt,ot.left=qt,ot.top=Qt,ot.setCoords()}dt.setState({parentWidth:Ut}),zt.renderAll(),zt.calcOffset()},dt._backgroundColor=function(wt){if(wt){var _t=dt._fc;_t.setBackgroundColor(wt,function(){return _t.renderAll()})}},dt.zoom=function(wt){var _t=dt._fc,Et=_t.getObjects();for(var It in Et)Et[It].scaleX=Et[It].scaleX*wt,Et[It].scaleY=Et[It].scaleY*wt,Et[It].left=Et[It].left*wt,Et[It].top=Et[It].top*wt,Et[It].setCoords();_t.renderAll(),_t.calcOffset()},dt.undo=function(){var wt=dt._history,_t=wt.getCurrent(),Et=a()(_t,3),It=Et[0],zt=Et[1];Et[2],wt.undo(),It.version===1?It.remove():(It.setOptions(JSON.parse(zt)),It.setCoords(),It.version-=1,dt._fc.renderAll()),dt.props.onChange&&dt.props.onChange()},dt.redo=function(){var wt=dt._history;if(wt.canRedo()){var _t=dt._fc,Et=wt.redo(),It=a()(Et,3),zt=It[0],Xt=(It[1],It[2]);zt.version===0?dt.setState({action:!1},function(){_t.add(zt),zt.version=1}):(zt.version+=1,zt.setOptions(JSON.parse(Xt))),zt.setCoords(),_t.renderAll(),dt.props.onChange&&dt.props.onChange()}},dt.canUndo=function(){return dt._history.canUndo()},dt.canRedo=function(){return dt._history.canRedo()},dt.toDataURL=function(wt){return dt._fc.toDataURL(wt)},dt.toJSON=function(wt){return dt._fc.toJSON(wt)},dt.fromJSON=function(wt){if(wt){var _t=dt._fc;setTimeout(function(){_t.loadFromJSON(wt,function(){_t.renderAll(),dt.props.onChange&&dt.props.onChange()})},100)}},dt.clear=function(wt){var _t=dt.toJSON(wt);return dt._fc.clear(),dt._history.clear(),_t},dt.setBackgroundFromDataUrl=function(wt){var _t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Et=dt._fc;_t.stretched&&(delete _t.stretched,_()(_t,{width:Et.width,height:Et.height})),_t.stretchedX&&(delete _t.stretchedX,_()(_t,{width:Et.width})),_t.stretchedY&&(delete _t.stretchedY,_()(_t,{height:Et.height}));var It=new Image;It.onload=function(){return Et.setBackgroundImage(new gt.Image(It),function(){return Et.renderAll()},_t)},It.src=wt},dt.componentDidMount=function(){var wt=dt.props,_t=wt.tool,Et=wt.value,It=wt.defaultValue,zt=wt.undoSteps,Xt=dt._fc=new gt.Canvas(dt._canvas);dt._initTools(Xt);var Ut=dt._tools[_t];Ut.configureCanvas(dt.props),dt._selectedTool=Ut,window.addEventListener("resize",dt._resize,!1),dt._history=new ut.a(zt),Xt.on("object:added",dt._onObjectAdded),Xt.on("object:modified",dt._onObjectModified),Xt.on("object:removed",dt._onObjectRemoved),Xt.on("mouse:down",dt._onMouseDown),Xt.on("mouse:move",dt._onMouseMove),Xt.on("mouse:up",dt._onMouseUp),Xt.on("mouse:out",dt._onMouseOut),Xt.on("object:moving",dt._onObjectMoving),Xt.on("object:scaling",dt._onObjectScaling),Xt.on("object:rotating",dt._onObjectRotating),dt.disableTouchScroll(),dt._resize(),(Et||It)&&dt.fromJSON(Et||It)},dt.componentWillUnmount=function(){return window.removeEventListener("resize",dt._resize)},dt.componentDidUpdate=function(wt,_t){dt.state.parentWidth===_t.parentWidth&&dt.props.width===wt.width&&dt.props.height===wt.height||dt._resize()},dt.componentWillReceiveProps=function(wt){dt.props.tool!==wt.tool&&(dt._selectedTool=dt._tools[wt.tool]||dt._tools[pt.a.Pencil]),dt._fc.defaultCursor="default",dt._selectedTool.configureCanvas(wt),dt.props.backgroundColor!==wt.backgroundColor&&dt._backgroundColor(wt.backgroundColor),(dt.props.value!==wt.value||wt.value&&wt.forceValue)&&dt.fromJSON(wt.value)},dt._onObjectModified=function(wt){var _t=wt.target;_t.version+=1;var Et=d()(_t.originalState),It=_t.toJSON();_t.originalState=It;var zt=d()(It);dt._history.keep([_t,Et,zt])},dt._onMouseUp=function(wt){if(dt._selectedTool.doMouseUp(wt),dt.props.tool!==pt.a.Pencil){var _t=dt._fc,Et=_t.getObjects(),It=Et[Et.length-1];It&&It.version===1&&(It.originalState=It.toJSON())}if(dt.props.onChange){var zt=dt.props.onChange;setTimeout(function(){zt(wt.e)},10)}},dt.render=function(){var wt=dt.props,_t=wt.className,Et=wt.style,It=wt.width,zt=wt.height,Xt=_()({},Et||{},It?{width:It}:{},zt?{height:zt}:{height:512});return tt.a.createElement("div",{className:_t,ref:function(Ut){return dt._container=Ut},style:Xt},tt.a.createElement("canvas",{id:Object(St.b)(),ref:function(Ut){return dt._canvas=Ut}},"Sorry, Canvas HTML5 element is not supported by your browser :("))},Mt=Pt,lt()(dt,Mt)}return ht()(At,Dt),At}(et.PureComponent);bt.propTypes={lineColor:st.a.string,lineWidth:st.a.number,fillColor:st.a.string,backgroundColor:st.a.string,opacity:st.a.number,undoSteps:st.a.number,tool:st.a.string,imageFormat:st.a.string,value:st.a.object,forceValue:st.a.bool,widthCorrection:st.a.number,heightCorrection:st.a.number},bt.defaultProps={lineColor:"black",lineWidth:10,fillColor:"transparent",backgroundColor:"transparent",opacity:1,undoSteps:25,tool:pt.a.Pencil,widthCorrection:2,heightCorrection:0,forceValue:!1},e.a=bt},function(i,e,o){function s(_){return _&&_.__esModule?_:{default:_}}e.__esModule=!0;var a=o(79),c=s(a),d=o(93),h=s(d);e.default=function(){function _(g,b){var j=[],$=!0,rt=!1,lt=void 0;try{for(var it,ht=(0,h.default)(g);!($=(it=ht.next()).done)&&(j.push(it.value),!b||j.length!==b);$=!0);}catch(et){rt=!0,lt=et}finally{try{!$&&ht.return&&ht.return()}finally{if(rt)throw lt}}return j}return function(g,b){if(Array.isArray(g))return g;if((0,c.default)(Object(g)))return _(g,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(i,e,o){i.exports={default:o(80),__esModule:!0}},function(i,e,o){o(32),o(44),i.exports=o(92)},function(i,e,o){var s=o(82),a=o(83),c=o(22),d=o(15);i.exports=o(51)(Array,"Array",function(h,_){this._t=d(h),this._i=0,this._k=_},function(){var h=this._t,_=this._k,g=this._i++;return!h||g>=h.length?(this._t=void 0,a(1)):_=="keys"?a(0,g):_=="values"?a(0,h[g]):a(0,[g,h[g]])},"values"),c.Arguments=c.Array,s("keys"),s("values"),s("entries")},function(i,e){i.exports=function(){}},function(i,e){i.exports=function(o,s){return{value:s,done:!!o}}},function(i,e){i.exports=function(o){if(typeof o!="function")throw TypeError(o+" is not a function!");return o}},function(i,e,o){var s=o(37),a=o(26),c=o(42),d={};o(16)(d,o(2)("iterator"),function(){return this}),i.exports=function(h,_,g){h.prototype=s(d,{next:a(1,g)}),c(h,_+" Iterator")}},function(i,e,o){var s=o(7),a=o(17),c=o(27);i.exports=o(8)?Object.defineProperties:function(d,h){a(d);for(var _,g=c(h),b=g.length,j=0;b>j;)s.f(d,_=g[j++],h[_]);return d}},function(i,e,o){var s=o(15),a=o(88),c=o(89);i.exports=function(d){return function(h,_,g){var b,j=s(h),$=a(j.length),rt=c(g,$);if(d&&_!=_){for(;$>rt;)if((b=j[rt++])!=b)return!0}else for(;$>rt;rt++)if((d||rt in j)&&j[rt]===_)return d||rt||0;return!d&&-1}}},function(i,e,o){var s=o(38),a=Math.min;i.exports=function(c){return c>0?a(s(c),9007199254740991):0}},function(i,e,o){var s=o(38),a=Math.max,c=Math.min;i.exports=function(d,h){return d=s(d),d<0?a(d+h,0):c(d,h)}},function(i,e,o){var s=o(4).document;i.exports=s&&s.documentElement},function(i,e,o){var s=o(38),a=o(34);i.exports=function(c){return function(d,h){var _,g,b=String(a(d)),j=s(h),$=b.length;return j<0||j>=$?c?"":void 0:(_=b.charCodeAt(j),_<55296||_>56319||j+1===$||(g=b.charCodeAt(j+1))<56320||g>57343?c?b.charAt(j):_:c?b.slice(j,j+2):g-56320+(_-55296<<10)+65536)}}},function(i,e,o){var s=o(58),a=o(2)("iterator"),c=o(22);i.exports=o(0).isIterable=function(d){var h=Object(d);return h[a]!==void 0||"@@iterator"in h||c.hasOwnProperty(s(h))}},function(i,e,o){i.exports={default:o(94),__esModule:!0}},function(i,e,o){o(32),o(44),i.exports=o(95)},function(i,e,o){var s=o(17),a=o(96);i.exports=o(0).getIterator=function(c){var d=a(c);if(typeof d!="function")throw TypeError(c+" is not iterable!");return s(d.call(c))}},function(i,e,o){var s=o(58),a=o(2)("iterator"),c=o(22);i.exports=o(0).getIteratorMethod=function(d){if(d!=null)return d[a]||d["@@iterator"]||c[s(d)]}},function(i,e,o){i.exports={default:o(98),__esModule:!0}},function(i,e,o){var s=o(0),a=s.JSON||(s.JSON={stringify:JSON.stringify});i.exports=function(c){return a.stringify.apply(a,arguments)}},function(i,e,o){e.__esModule=!0;var s=o(100),a=function(c){return c&&c.__esModule?c:{default:c}}(s);e.default=a.default||function(c){for(var d=1;d<arguments.length;d++){var h=arguments[d];for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(c[_]=h[_])}return c}},function(i,e,o){i.exports={default:o(101),__esModule:!0}},function(i,e,o){o(102),i.exports=o(0).Object.assign},function(i,e,o){var s=o(6);s(s.S+s.F,"Object",{assign:o(103)})},function(i,e,o){var s=o(27),a=o(45),c=o(29),d=o(43),h=o(50),_=Object.assign;i.exports=!_||o(18)(function(){var g={},b={},j=Symbol(),$="abcdefghijklmnopqrst";return g[j]=7,$.split("").forEach(function(rt){b[rt]=rt}),_({},g)[j]!=7||Object.keys(_({},b)).join("")!=$})?function(g,b){for(var j=d(g),$=arguments.length,rt=1,lt=a.f,it=c.f;$>rt;)for(var ht,et=h(arguments[rt++]),tt=lt?s(et).concat(lt(et)):s(et),nt=tt.length,st=0;nt>st;)it.call(et,ht=tt[st++])&&(j[ht]=et[ht]);return j}:_},function(i,e,o){o(105),i.exports=o(0).Object.getPrototypeOf},function(i,e,o){var s=o(43),a=o(57);o(106)("getPrototypeOf",function(){return function(c){return a(s(c))}})},function(i,e,o){var s=o(6),a=o(0),c=o(18);i.exports=function(d,h){var _=(a.Object||{})[d]||Object[d],g={};g[d]=h(_),s(s.S+s.F*c(function(){_(1)}),"Object",g)}},function(i,e,o){i.exports={default:o(108),__esModule:!0}},function(i,e,o){o(44),o(32),i.exports=o(46).f("iterator")},function(i,e,o){i.exports={default:o(110),__esModule:!0}},function(i,e,o){o(111),o(116),o(117),o(118),i.exports=o(0).Symbol},function(i,e,o){var s=o(4),a=o(9),c=o(8),d=o(6),h=o(55),_=o(112).KEY,g=o(18),b=o(40),j=o(42),$=o(28),rt=o(2),lt=o(46),it=o(47),ht=o(113),et=o(114),tt=o(17),nt=o(15),st=o(36),ut=o(26),St=o(37),jt=o(115),xt=o(61),Rt=o(7),kt=o(27),Wt=xt.f,Ct=Rt.f,pt=jt.f,gt=s.Symbol,bt=s.JSON,Dt=bt&&bt.stringify,At=rt("_hidden"),Ot=rt("toPrimitive"),Pt={}.propertyIsEnumerable,dt=b("symbol-registry"),Mt=b("symbols"),Nt=b("op-symbols"),ft=Object.prototype,yt=typeof gt=="function",wt=s.QObject,_t=!wt||!wt.prototype||!wt.prototype.findChild,Et=c&&g(function(){return St(Ct({},"a",{get:function(){return Ct(this,"a",{value:7}).a}})).a!=7})?function(at,ct,Tt){var Lt=Wt(ft,ct);Lt&&delete ft[ct],Ct(at,ct,Tt),Lt&&at!==ft&&Ct(ft,ct,Lt)}:Ct,It=function(at){var ct=Mt[at]=St(gt.prototype);return ct._k=at,ct},zt=yt&&typeof gt.iterator=="symbol"?function(at){return typeof at=="symbol"}:function(at){return at instanceof gt},Xt=function(at,ct,Tt){return at===ft&&Xt(Nt,ct,Tt),tt(at),ct=st(ct,!0),tt(Tt),a(Mt,ct)?(Tt.enumerable?(a(at,At)&&at[At][ct]&&(at[At][ct]=!1),Tt=St(Tt,{enumerable:ut(0,!1)})):(a(at,At)||Ct(at,At,ut(1,{})),at[At][ct]=!0),Et(at,ct,Tt)):Ct(at,ct,Tt)},Ut=function(at,ct){tt(at);for(var Tt,Lt=ht(ct=nt(ct)),Bt=0,Gt=Lt.length;Gt>Bt;)Xt(at,Tt=Lt[Bt++],ct[Tt]);return at},vt=function(at,ct){return ct===void 0?St(at):Ut(St(at),ct)},mt=function(at){var ct=Pt.call(this,at=st(at,!0));return!(this===ft&&a(Mt,at)&&!a(Nt,at))&&(!(ct||!a(this,at)||!a(Mt,at)||a(this,At)&&this[At][at])||ct)},Ft=function(at,ct){if(at=nt(at),ct=st(ct,!0),at!==ft||!a(Mt,ct)||a(Nt,ct)){var Tt=Wt(at,ct);return!Tt||!a(Mt,ct)||a(at,At)&&at[At][ct]||(Tt.enumerable=!0),Tt}},Yt=function(at){for(var ct,Tt=pt(nt(at)),Lt=[],Bt=0;Tt.length>Bt;)a(Mt,ct=Tt[Bt++])||ct==At||ct==_||Lt.push(ct);return Lt},$t=function(at){for(var ct,Tt=at===ft,Lt=pt(Tt?Nt:nt(at)),Bt=[],Gt=0;Lt.length>Gt;)!a(Mt,ct=Lt[Gt++])||Tt&&!a(ft,ct)||Bt.push(Mt[ct]);return Bt};yt||(gt=function(){if(this instanceof gt)throw TypeError("Symbol is not a constructor!");var at=$(arguments.length>0?arguments[0]:void 0),ct=function(Tt){this===ft&&ct.call(Nt,Tt),a(this,At)&&a(this[At],at)&&(this[At][at]=!1),Et(this,at,ut(1,Tt))};return c&&_t&&Et(ft,at,{configurable:!0,set:ct}),It(at)},h(gt.prototype,"toString",function(){return this._k}),xt.f=Ft,Rt.f=Xt,o(60).f=jt.f=Yt,o(29).f=mt,o(45).f=$t,c&&!o(35)&&h(ft,"propertyIsEnumerable",mt,!0),lt.f=function(at){return It(rt(at))}),d(d.G+d.W+d.F*!yt,{Symbol:gt});for(var Vt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Ht=0;Vt.length>Ht;)rt(Vt[Ht++]);for(var Zt=kt(rt.store),ot=0;Zt.length>ot;)it(Zt[ot++]);d(d.S+d.F*!yt,"Symbol",{for:function(at){return a(dt,at+="")?dt[at]:dt[at]=gt(at)},keyFor:function(at){if(!zt(at))throw TypeError(at+" is not a symbol!");for(var ct in dt)if(dt[ct]===at)return ct},useSetter:function(){_t=!0},useSimple:function(){_t=!1}}),d(d.S+d.F*!yt,"Object",{create:vt,defineProperty:Xt,defineProperties:Ut,getOwnPropertyDescriptor:Ft,getOwnPropertyNames:Yt,getOwnPropertySymbols:$t}),bt&&d(d.S+d.F*(!yt||g(function(){var at=gt();return Dt([at])!="[null]"||Dt({a:at})!="{}"||Dt(Object(at))!="{}"})),"JSON",{stringify:function(at){if(at!==void 0&&!zt(at)){for(var ct,Tt,Lt=[at],Bt=1;arguments.length>Bt;)Lt.push(arguments[Bt++]);return ct=Lt[1],typeof ct=="function"&&(Tt=ct),!Tt&&et(ct)||(ct=function(Gt,qt){if(Tt&&(qt=Tt.call(this,Gt,qt)),!zt(qt))return qt}),Lt[1]=ct,Dt.apply(bt,Lt)}}}),gt.prototype[Ot]||o(16)(gt.prototype,Ot,gt.prototype.valueOf),j(gt,"Symbol"),j(Math,"Math",!0),j(s.JSON,"JSON",!0)},function(i,e,o){var s=o(28)("meta"),a=o(23),c=o(9),d=o(7).f,h=0,_=Object.isExtensible||function(){return!0},g=!o(18)(function(){return _(Object.preventExtensions({}))}),b=function(it){d(it,s,{value:{i:"O"+ ++h,w:{}}})},j=function(it,ht){if(!a(it))return typeof it=="symbol"?it:(typeof it=="string"?"S":"P")+it;if(!c(it,s)){if(!_(it))return"F";if(!ht)return"E";b(it)}return it[s].i},$=function(it,ht){if(!c(it,s)){if(!_(it))return!0;if(!ht)return!1;b(it)}return it[s].w},rt=function(it){return g&&lt.NEED&&_(it)&&!c(it,s)&&b(it),it},lt=i.exports={KEY:s,NEED:!1,fastKey:j,getWeak:$,onFreeze:rt}},function(i,e,o){var s=o(27),a=o(45),c=o(29);i.exports=function(d){var h=s(d),_=a.f;if(_)for(var g,b=_(d),j=c.f,$=0;b.length>$;)j.call(d,g=b[$++])&&h.push(g);return h}},function(i,e,o){var s=o(33);i.exports=Array.isArray||function(a){return s(a)=="Array"}},function(i,e,o){var s=o(15),a=o(60).f,c={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(_){try{return a(_)}catch{return d.slice()}};i.exports.f=function(_){return d&&c.call(_)=="[object Window]"?h(_):a(s(_))}},function(i,e){},function(i,e,o){o(47)("asyncIterator")},function(i,e,o){o(47)("observable")},function(i,e,o){i.exports={default:o(120),__esModule:!0}},function(i,e,o){o(121),i.exports=o(0).Object.setPrototypeOf},function(i,e,o){var s=o(6);s(s.S,"Object",{setPrototypeOf:o(122).set})},function(i,e,o){var s=o(23),a=o(17),c=function(d,h){if(a(d),!s(h)&&h!==null)throw TypeError(h+": can't set as prototype!")};i.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(d,h,_){try{_=o(52)(Function.call,o(61).f(Object.prototype,"__proto__").set,2),_(d,[]),h=!(d instanceof Array)}catch{h=!0}return function(g,b){return c(g,b),h?g.__proto__=b:_(g,b),g}}({},!1):void 0),check:c}},function(i,e,o){i.exports={default:o(124),__esModule:!0}},function(i,e,o){o(125);var s=o(0).Object;i.exports=function(a,c){return s.create(a,c)}},function(i,e,o){var s=o(6);s(s.S,"Object",{create:o(37)})},function(i,e,o){i.exports=o(127)},function(i,e,o){function s(ft){for(var yt=arguments.length-1,wt="Minified React error #"+ft+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+ft,_t=0;_t<yt;_t++)wt+="&args[]="+encodeURIComponent(arguments[_t+1]);throw yt=Error(wt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),yt.name="Invariant Violation",yt.framesToPop=1,yt}function a(ft,yt,wt){this.props=ft,this.context=yt,this.refs=nt,this.updater=wt||Ct}function c(ft,yt,wt){this.props=ft,this.context=yt,this.refs=nt,this.updater=wt||Ct}function d(){}function h(ft,yt,wt){this.props=ft,this.context=yt,this.refs=nt,this.updater=wt||Ct}function _(ft,yt,wt){var _t,Et={},It=null,zt=null;if(yt!=null)for(_t in yt.ref!==void 0&&(zt=yt.ref),yt.key!==void 0&&(It=""+yt.key),yt)Dt.call(yt,_t)&&!At.hasOwnProperty(_t)&&(Et[_t]=yt[_t]);var Xt=arguments.length-2;if(Xt===1)Et.children=wt;else if(1<Xt){for(var Ut=Array(Xt),vt=0;vt<Xt;vt++)Ut[vt]=arguments[vt+2];Et.children=Ut}if(ft&&ft.defaultProps)for(_t in Xt=ft.defaultProps)Et[_t]===void 0&&(Et[_t]=Xt[_t]);return{$$typeof:St,type:ft,key:It,ref:zt,props:Et,_owner:bt.current}}function g(ft){return typeof ft=="object"&&ft!==null&&ft.$$typeof===St}function b(ft){var yt={"=":"=0",":":"=2"};return"$"+(""+ft).replace(/[=:]/g,function(wt){return yt[wt]})}function j(ft,yt,wt,_t){if(Pt.length){var Et=Pt.pop();return Et.result=ft,Et.keyPrefix=yt,Et.func=wt,Et.context=_t,Et.count=0,Et}return{result:ft,keyPrefix:yt,func:wt,context:_t,count:0}}function $(ft){ft.result=null,ft.keyPrefix=null,ft.func=null,ft.context=null,ft.count=0,10>Pt.length&&Pt.push(ft)}function rt(ft,yt,wt,_t){var Et=typeof ft;Et!=="undefined"&&Et!=="boolean"||(ft=null);var It=!1;if(ft===null)It=!0;else switch(Et){case"string":case"number":It=!0;break;case"object":switch(ft.$$typeof){case St:case jt:case xt:case Rt:It=!0}}if(It)return wt(_t,ft,yt===""?"."+lt(ft,0):yt),1;if(It=0,yt=yt===""?".":yt+":",Array.isArray(ft))for(var zt=0;zt<ft.length;zt++){Et=ft[zt];var Xt=yt+lt(Et,zt);It+=rt(Et,Xt,wt,_t)}else if(ft==null?Xt=null:(Xt=Wt&&ft[Wt]||ft["@@iterator"],Xt=typeof Xt=="function"?Xt:null),typeof Xt=="function")for(ft=Xt.call(ft),zt=0;!(Et=ft.next()).done;)Et=Et.value,Xt=yt+lt(Et,zt++),It+=rt(Et,Xt,wt,_t);else Et==="object"&&(wt=""+ft,s("31",wt==="[object Object]"?"object with keys {"+Object.keys(ft).join(", ")+"}":wt,""));return It}function lt(ft,yt){return typeof ft=="object"&&ft!==null&&ft.key!=null?b(ft.key):yt.toString(36)}function it(ft,yt){ft.func.call(ft.context,yt,ft.count++)}function ht(ft,yt,wt){var _t=ft.result,Et=ft.keyPrefix;ft=ft.func.call(ft.context,yt,ft.count++),Array.isArray(ft)?et(ft,_t,wt,st.thatReturnsArgument):ft!=null&&(g(ft)&&(yt=Et+(!ft.key||yt&&yt.key===ft.key?"":(""+ft.key).replace(Ot,"$&/")+"/")+wt,ft={$$typeof:St,type:ft.type,key:yt,ref:ft.ref,props:ft.props,_owner:ft._owner}),_t.push(ft))}function et(ft,yt,wt,_t,Et){var It="";wt!=null&&(It=(""+wt).replace(Ot,"$&/")+"/"),yt=j(yt,It,_t,Et),ft==null||rt(ft,"",ht,yt),$(yt)}/** @license React v16.2.0
* react.production.min.js
*
* Copyright (c) 2013-present, Facebook, Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var tt=o(128),nt=o(129),st=o(62),ut=typeof Symbol=="function"&&Symbol.for,St=ut?Symbol.for("react.element"):60103,jt=ut?Symbol.for("react.call"):60104,xt=ut?Symbol.for("react.return"):60105,Rt=ut?Symbol.for("react.portal"):60106,kt=ut?Symbol.for("react.fragment"):60107,Wt=typeof Symbol=="function"&&Symbol.iterator,Ct={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};a.prototype.isReactComponent={},a.prototype.setState=function(ft,yt){typeof ft!="object"&&typeof ft!="function"&&ft!=null&&s("85"),this.updater.enqueueSetState(this,ft,yt,"setState")},a.prototype.forceUpdate=function(ft){this.updater.enqueueForceUpdate(this,ft,"forceUpdate")},d.prototype=a.prototype;var pt=c.prototype=new d;pt.constructor=c,tt(pt,a.prototype),pt.isPureReactComponent=!0;var gt=h.prototype=new d;gt.constructor=h,tt(gt,a.prototype),gt.unstable_isAsyncReactComponent=!0,gt.render=function(){return this.props.children};var bt={current:null},Dt=Object.prototype.hasOwnProperty,At={key:!0,ref:!0,__self:!0,__source:!0},Ot=/\/+/g,Pt=[],dt={Children:{map:function(ft,yt,wt){if(ft==null)return ft;var _t=[];return et(ft,_t,null,yt,wt),_t},forEach:function(ft,yt,wt){if(ft==null)return ft;yt=j(null,null,yt,wt),ft==null||rt(ft,"",it,yt),$(yt)},count:function(ft){return ft==null?0:rt(ft,"",st.thatReturnsNull,null)},toArray:function(ft){var yt=[];return et(ft,yt,null,st.thatReturnsArgument),yt},only:function(ft){return g(ft)||s("143"),ft}},Component:a,PureComponent:c,unstable_AsyncComponent:h,Fragment:kt,createElement:_,cloneElement:function(ft,yt,wt){var _t=tt({},ft.props),Et=ft.key,It=ft.ref,zt=ft._owner;if(yt!=null){if(yt.ref!==void 0&&(It=yt.ref,zt=bt.current),yt.key!==void 0&&(Et=""+yt.key),ft.type&&ft.type.defaultProps)var Xt=ft.type.defaultProps;for(Ut in yt)Dt.call(yt,Ut)&&!At.hasOwnProperty(Ut)&&(_t[Ut]=yt[Ut]===void 0&&Xt!==void 0?Xt[Ut]:yt[Ut])}var Ut=arguments.length-2;if(Ut===1)_t.children=wt;else if(1<Ut){Xt=Array(Ut);for(var vt=0;vt<Ut;vt++)Xt[vt]=arguments[vt+2];_t.children=Xt}return{$$typeof:St,type:ft.type,key:Et,ref:It,props:_t,_owner:zt}},createFactory:function(ft){var yt=_.bind(null,ft);return yt.type=ft,yt},isValidElement:g,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:bt,assign:tt}},Mt=Object.freeze({default:dt}),Nt=Mt&&dt||Mt;i.exports=Nt.default?Nt.default:Nt},function(i,e,o){function s(h){if(h==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(h)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var a=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;i.exports=function(){try{if(!Object.assign)return!1;var h=new String("abc");if(h[5]="de",Object.getOwnPropertyNames(h)[0]==="5")return!1;for(var _={},g=0;g<10;g++)_["_"+String.fromCharCode(g)]=g;if(Object.getOwnPropertyNames(_).map(function(j){return _[j]}).join("")!=="0123456789")return!1;var b={};return"abcdefghijklmnopqrst".split("").forEach(function(j){b[j]=j}),Object.keys(Object.assign({},b)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(h,_){for(var g,b,j=s(h),$=1;$<arguments.length;$++){g=Object(arguments[$]);for(var rt in g)c.call(g,rt)&&(j[rt]=g[rt]);if(a){b=a(g);for(var lt=0;lt<b.length;lt++)d.call(g,b[lt])&&(j[b[lt]]=g[b[lt]])}}return j}},function(i,e,o){var s={};i.exports=s},function(i,e,o){i.exports=o(131)()},function(i,e,o){var s=o(62),a=o(132),c=o(133);i.exports=function(){function d(g,b,j,$,rt,lt){lt!==c&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function h(){return d}d.isRequired=d;var _={array:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:h,element:d,instanceOf:h,node:d,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h};return _.checkPropTypes=s,_.PropTypes=_,_}},function(i,e,o){function s(a,c,d,h,_,g,b,j){if(!a){var $;if(c===void 0)$=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var rt=[d,h,_,g,b,j],lt=0;$=new Error(c.replace(/%s/g,function(){return rt[lt++]})),$.name="Invariant Violation"}throw $.framesToPop=1,$}}i.exports=s},function(i,e,o){i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(i,e,o){var s=o(3),a=o.n(s),c=o(5),d=o.n(c),h=function(){function _(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,b=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a()(this,_),this.undoLimit=g,this.undoList=[],this.redoList=[],this.current=null,this.debug=b}return d()(_,[{key:"getUndoLimit",value:function(){return this.undoLimit}},{key:"getCurrent",value:function(){return this.current}},{key:"keep",value:function(g){try{this.redoList=[],this.current&&this.undoList.push(this.current),this.undoList.length>this.undoLimit&&this.undoList.shift(),this.current=g}finally{this.print()}}},{key:"undo",value:function(){try{return this.current&&(this.redoList.push(this.current),this.redoList.length>this.undoLimit&&this.redoList.shift(),this.undoList.length===0&&(this.current=null)),this.undoList.length>0?(this.current=this.undoList.pop(),this.current):null}finally{this.print()}}},{key:"redo",value:function(){try{return this.redoList.length>0?(this.current&&this.undoList.push(this.current),this.current=this.redoList.pop(),this.current):null}finally{this.print()}}},{key:"canRedo",value:function(){return this.redoList.length>0}},{key:"canUndo",value:function(){return this.undoList.length>0||this.current!=null}},{key:"clear",value:function(){this.undoList=[],this.redoList=[],this.current=null,this.print()}},{key:"print",value:function(){this.debug&&console.log(this.undoList," -> "+this.current+" <- ",this.redoList.slice(0).reverse())}}]),_}();e.a=h},function(i,e,o){i.exports={default:o(136),__esModule:!0}},function(i,e,o){o(137);var s=o(0).Object;i.exports=function(a,c,d){return s.defineProperty(a,c,d)}},function(i,e,o){var s=o(6);s(s.S+s.F*!o(8),"Object",{defineProperty:o(7).f})},function(i,e,o){var s=o(10),a=o.n(s),c=o(3),d=o.n(c),h=o(5),_=o.n(h),g=o(11),b=o.n(g),j=o(12),$=o.n(j),rt=o(19),lt=function(it){function ht(){return d()(this,ht),b()(this,(ht.__proto__||a()(ht)).apply(this,arguments))}return $()(ht,it),_()(ht,[{key:"configureCanvas",value:function(et){var tt=this._canvas;tt.isDrawingMode=!1,tt.selection=!0,tt.forEachObject(function(nt){nt.selectable=nt.evented=!0})}}]),ht}(rt.a);e.a=lt},function(i,e,o){var s=o(10),a=o.n(s),c=o(3),d=o.n(c),h=o(5),_=o.n(h),g=o(11),b=o.n(g),j=o(12),$=o.n(j),rt=o(19),lt=function(it){function ht(){return d()(this,ht),b()(this,(ht.__proto__||a()(ht)).apply(this,arguments))}return $()(ht,it),_()(ht,[{key:"configureCanvas",value:function(et){this._canvas.isDrawingMode=!0,this._canvas.freeDrawingBrush.width=et.lineWidth,this._canvas.freeDrawingBrush.color=et.lineColor}}]),ht}(rt.a);e.a=lt},function(i,e,o){var s=o(10),a=o.n(s),c=o(3),d=o.n(c),h=o(5),_=o.n(h),g=o(11),b=o.n(g),j=o(12),$=o.n(j),rt=o(19),lt=o(24).fabric,it=function(ht){function et(){return d()(this,et),b()(this,(et.__proto__||a()(et)).apply(this,arguments))}return $()(et,ht),_()(et,[{key:"configureCanvas",value:function(tt){var nt=this._canvas;nt.isDrawingMode=nt.selection=!1,nt.forEachObject(function(st){return st.selectable=st.evented=!1}),this._width=tt.lineWidth,this._color=tt.lineColor}},{key:"doMouseDown",value:function(tt){this.isDown=!0;var nt=this._canvas,st=nt.getPointer(tt.e),ut=[st.x,st.y,st.x,st.y];this.line=new lt.Line(ut,{strokeWidth:this._width,fill:this._color,stroke:this._color,originX:"center",originY:"center",selectable:!1,evented:!1}),nt.add(this.line)}},{key:"doMouseMove",value:function(tt){if(this.isDown){var nt=this._canvas,st=nt.getPointer(tt.e);this.line.set({x2:st.x,y2:st.y}),this.line.setCoords(),nt.renderAll()}}},{key:"doMouseUp",value:function(tt){this.isDown=!1}},{key:"doMouseOut",value:function(tt){this.isDown=!1}}]),et}(rt.a);e.a=it},function(i,e,o){function s(it){var ht=it.length;if(ht%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return it[ht-2]==="="?2:it[ht-1]==="="?1:0}function a(it){return 3*it.length/4-s(it)}function c(it){var ht,et,tt,nt,st,ut=it.length;nt=s(it),st=new j(3*ut/4-nt),et=nt>0?ut-4:ut;var St=0;for(ht=0;ht<et;ht+=4)tt=b[it.charCodeAt(ht)]<<18|b[it.charCodeAt(ht+1)]<<12|b[it.charCodeAt(ht+2)]<<6|b[it.charCodeAt(ht+3)],st[St++]=tt>>16&255,st[St++]=tt>>8&255,st[St++]=255&tt;return nt===2?(tt=b[it.charCodeAt(ht)]<<2|b[it.charCodeAt(ht+1)]>>4,st[St++]=255&tt):nt===1&&(tt=b[it.charCodeAt(ht)]<<10|b[it.charCodeAt(ht+1)]<<4|b[it.charCodeAt(ht+2)]>>2,st[St++]=tt>>8&255,st[St++]=255&tt),st}function d(it){return g[it>>18&63]+g[it>>12&63]+g[it>>6&63]+g[63&it]}function h(it,ht,et){for(var tt,nt=[],st=ht;st<et;st+=3)tt=(it[st]<<16)+(it[st+1]<<8)+it[st+2],nt.push(d(tt));return nt.join("")}function _(it){for(var ht,et=it.length,tt=et%3,nt="",st=[],ut=0,St=et-tt;ut<St;ut+=16383)st.push(h(it,ut,ut+16383>St?St:ut+16383));return tt===1?(ht=it[et-1],nt+=g[ht>>2],nt+=g[ht<<4&63],nt+="=="):tt===2&&(ht=(it[et-2]<<8)+it[et-1],nt+=g[ht>>10],nt+=g[ht>>4&63],nt+=g[ht<<2&63],nt+="="),st.push(nt),st.join("")}e.byteLength=a,e.toByteArray=c,e.fromByteArray=_;for(var g=[],b=[],j=typeof Uint8Array<"u"?Uint8Array:Array,$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rt=0,lt=$.length;rt<lt;++rt)g[rt]=$[rt],b[$.charCodeAt(rt)]=rt;b[45]=62,b[95]=63},function(i,e){e.read=function(o,s,a,c,d){var h,_,g=8*d-c-1,b=(1<<g)-1,j=b>>1,$=-7,rt=a?d-1:0,lt=a?-1:1,it=o[s+rt];for(rt+=lt,h=it&(1<<-$)-1,it>>=-$,$+=g;$>0;h=256*h+o[s+rt],rt+=lt,$-=8);for(_=h&(1<<-$)-1,h>>=-$,$+=c;$>0;_=256*_+o[s+rt],rt+=lt,$-=8);if(h===0)h=1-j;else{if(h===b)return _?NaN:1/0*(it?-1:1);_+=Math.pow(2,c),h-=j}return(it?-1:1)*_*Math.pow(2,h-c)},e.write=function(o,s,a,c,d,h){var _,g,b,j=8*h-d-1,$=(1<<j)-1,rt=$>>1,lt=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,it=c?0:h-1,ht=c?1:-1,et=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(g=isNaN(s)?1:0,_=$):(_=Math.floor(Math.log(s)/Math.LN2),s*(b=Math.pow(2,-_))<1&&(_--,b*=2),s+=_+rt>=1?lt/b:lt*Math.pow(2,1-rt),s*b>=2&&(_++,b/=2),_+rt>=$?(g=0,_=$):_+rt>=1?(g=(s*b-1)*Math.pow(2,d),_+=rt):(g=s*Math.pow(2,rt-1)*Math.pow(2,d),_=0));d>=8;o[a+it]=255&g,it+=ht,g/=256,d-=8);for(_=_<<d|g,j+=d;j>0;o[a+it]=255&_,it+=ht,_/=256,j-=8);o[a+it-ht]|=128*et}},function(i,e){},function(i,e){},function(i,e,o){(function(s,a){var c;(function(d){function h(dt){throw new RangeError(Dt[dt])}function _(dt,Mt){for(var Nt=dt.length,ft=[];Nt--;)ft[Nt]=Mt(dt[Nt]);return ft}function g(dt,Mt){var Nt=dt.split("@"),ft="";return Nt.length>1&&(ft=Nt[0]+"@",dt=Nt[1]),dt=dt.replace(bt,"."),ft+_(dt.split("."),Mt).join(".")}function b(dt){for(var Mt,Nt,ft=[],yt=0,wt=dt.length;yt<wt;)Mt=dt.charCodeAt(yt++),Mt>=55296&&Mt<=56319&&yt<wt?(Nt=dt.charCodeAt(yt++),(64512&Nt)==56320?ft.push(((1023&Mt)<<10)+(1023&Nt)+65536):(ft.push(Mt),yt--)):ft.push(Mt);return ft}function j(dt){return _(dt,function(Mt){var Nt="";return Mt>65535&&(Mt-=65536,Nt+=Pt(Mt>>>10&1023|55296),Mt=56320|1023&Mt),Nt+=Pt(Mt)}).join("")}function $(dt){return dt-48<10?dt-22:dt-65<26?dt-65:dt-97<26?dt-97:ut}function rt(dt,Mt){return dt+22+75*(dt<26)-((Mt!=0)<<5)}function lt(dt,Mt,Nt){var ft=0;for(dt=Nt?Ot(dt/Rt):dt>>1,dt+=Ot(dt/Mt);dt>At*jt>>1;ft+=ut)dt=Ot(dt/At);return Ot(ft+(At+1)*dt/(dt+xt))}function it(dt){var Mt,Nt,ft,yt,wt,_t,Et,It,zt,Xt,Ut=[],vt=dt.length,mt=0,Ft=Wt,Yt=kt;for(Nt=dt.lastIndexOf(Ct),Nt<0&&(Nt=0),ft=0;ft<Nt;++ft)dt.charCodeAt(ft)>=128&&h("not-basic"),Ut.push(dt.charCodeAt(ft));for(yt=Nt>0?Nt+1:0;yt<vt;){for(wt=mt,_t=1,Et=ut;yt>=vt&&h("invalid-input"),It=$(dt.charCodeAt(yt++)),(It>=ut||It>Ot((st-mt)/_t))&&h("overflow"),mt+=It*_t,zt=Et<=Yt?St:Et>=Yt+jt?jt:Et-Yt,!(It<zt);Et+=ut)Xt=ut-zt,_t>Ot(st/Xt)&&h("overflow"),_t*=Xt;Mt=Ut.length+1,Yt=lt(mt-wt,Mt,wt==0),Ot(mt/Mt)>st-Ft&&h("overflow"),Ft+=Ot(mt/Mt),mt%=Mt,Ut.splice(mt++,0,Ft)}return j(Ut)}function ht(dt){var Mt,Nt,ft,yt,wt,_t,Et,It,zt,Xt,Ut,vt,mt,Ft,Yt,$t=[];for(dt=b(dt),vt=dt.length,Mt=Wt,Nt=0,wt=kt,_t=0;_t<vt;++_t)(Ut=dt[_t])<128&&$t.push(Pt(Ut));for(ft=yt=$t.length,yt&&$t.push(Ct);ft<vt;){for(Et=st,_t=0;_t<vt;++_t)(Ut=dt[_t])>=Mt&&Ut<Et&&(Et=Ut);for(mt=ft+1,Et-Mt>Ot((st-Nt)/mt)&&h("overflow"),Nt+=(Et-Mt)*mt,Mt=Et,_t=0;_t<vt;++_t)if(Ut=dt[_t],Ut<Mt&&++Nt>st&&h("overflow"),Ut==Mt){for(It=Nt,zt=ut;Xt=zt<=wt?St:zt>=wt+jt?jt:zt-wt,!(It<Xt);zt+=ut)Yt=It-Xt,Ft=ut-Xt,$t.push(Pt(rt(Xt+Yt%Ft,0))),It=Ot(Yt/Ft);$t.push(Pt(rt(It,0))),wt=lt(Nt,mt,ft==yt),Nt=0,++ft}++Nt,++Mt}return $t.join("")}function et(dt){return g(dt,function(Mt){return pt.test(Mt)?it(Mt.slice(4).toLowerCase()):Mt})}function tt(dt){return g(dt,function(Mt){return gt.test(Mt)?"xn--"+ht(Mt):Mt})}typeof e=="object"&&e&&e.nodeType,typeof s=="object"&&s&&s.nodeType;var nt,st=2147483647,ut=36,St=1,jt=26,xt=38,Rt=700,kt=72,Wt=128,Ct="-",pt=/^xn--/,gt=/[^\x20-\x7E]/,bt=/[\x2E\u3002\uFF0E\uFF61]/g,Dt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},At=ut-St,Ot=Math.floor,Pt=String.fromCharCode;nt={version:"1.4.1",ucs2:{decode:b,encode:j},decode:it,encode:ht,toASCII:tt,toUnicode:et},(c=(function(){return nt}).call(e,o,e,s))!==void 0&&(s.exports=c)})()}).call(e,o(146)(i),o(1))},function(i,e){i.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(i,e,o){i.exports={isString:function(s){return typeof s=="string"},isObject:function(s){return typeof s=="object"&&s!==null},isNull:function(s){return s===null},isNullOrUndefined:function(s){return s==null}}},function(i,e,o){e.decode=e.parse=o(149),e.encode=e.stringify=o(150)},function(i,e,o){function s(c,d){return Object.prototype.hasOwnProperty.call(c,d)}i.exports=function(c,d,h,_){d=d||"&",h=h||"=";var g={};if(typeof c!="string"||c.length===0)return g;var b=/\+/g;c=c.split(d);var j=1e3;_&&typeof _.maxKeys=="number"&&(j=_.maxKeys);var $=c.length;j>0&&$>j&&($=j);for(var rt=0;rt<$;++rt){var lt,it,ht,et,tt=c[rt].replace(b,"%20"),nt=tt.indexOf(h);nt>=0?(lt=tt.substr(0,nt),it=tt.substr(nt+1)):(lt=tt,it=""),ht=decodeURIComponent(lt),et=decodeURIComponent(it),s(g,ht)?a(g[ht])?g[ht].push(et):g[ht]=[g[ht],et]:g[ht]=et}return g};var a=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"}},function(i,e,o){function s(h,_){if(h.map)return h.map(_);for(var g=[],b=0;b<h.length;b++)g.push(_(h[b],b));return g}var a=function(h){switch(typeof h){case"string":return h;case"boolean":return h?"true":"false";case"number":return isFinite(h)?h:"";default:return""}};i.exports=function(h,_,g,b){return _=_||"&",g=g||"=",h===null&&(h=void 0),typeof h=="object"?s(d(h),function(j){var $=encodeURIComponent(a(j))+g;return c(h[j])?s(h[j],function(rt){return $+encodeURIComponent(a(rt))}).join(_):$+encodeURIComponent(a(h[j]))}).join(_):b?encodeURIComponent(a(b))+g+encodeURIComponent(a(h)):""};var c=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"},d=Object.keys||function(h){var _=[];for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&_.push(g);return _}},function(i,e,o){(function(s,a,c){function d(et,tt){return _.fetch&&tt?"fetch":_.mozchunkedarraybuffer?"moz-chunked-arraybuffer":_.msstream?"ms-stream":_.arraybuffer&&et?"arraybuffer":_.vbArray&&et?"text:vbarray":"text"}function h(et){try{var tt=et.status;return tt!==null&&tt!==0}catch{return!1}}var _=o(66),g=o(14),b=o(152),j=o(67),$=o(159),rt=b.IncomingMessage,lt=b.readyStates,it=i.exports=function(et){var tt=this;j.Writable.call(tt),tt._opts=et,tt._body=[],tt._headers={},et.auth&&tt.setHeader("Authorization","Basic "+new s(et.auth).toString("base64")),Object.keys(et.headers).forEach(function(ut){tt.setHeader(ut,et.headers[ut])});var nt,st=!0;if(et.mode==="disable-fetch"||"timeout"in et)st=!1,nt=!0;else if(et.mode==="prefer-streaming")nt=!1;else if(et.mode==="allow-wrong-content-type")nt=!_.overrideMimeType;else{if(et.mode&&et.mode!=="default"&&et.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");nt=!0}tt._mode=d(nt,st),tt.on("finish",function(){tt._onFinish()})};g(it,j.Writable),it.prototype.setHeader=function(et,tt){var nt=this,st=et.toLowerCase();ht.indexOf(st)===-1&&(nt._headers[st]={name:et,value:tt})},it.prototype.getHeader=function(et){var tt=this._headers[et.toLowerCase()];return tt?tt.value:null},it.prototype.removeHeader=function(et){delete this._headers[et.toLowerCase()]},it.prototype._onFinish=function(){var et=this;if(!et._destroyed){var tt=et._opts,nt=et._headers,st=null;tt.method!=="GET"&&tt.method!=="HEAD"&&(st=_.blobConstructor?new a.Blob(et._body.map(function(jt){return $(jt)}),{type:(nt["content-type"]||{}).value||""}):s.concat(et._body).toString());var ut=[];if(Object.keys(nt).forEach(function(jt){var xt=nt[jt].name,Rt=nt[jt].value;Array.isArray(Rt)?Rt.forEach(function(kt){ut.push([xt,kt])}):ut.push([xt,Rt])}),et._mode==="fetch")a.fetch(et._opts.url,{method:et._opts.method,headers:ut,body:st||void 0,mode:"cors",credentials:tt.withCredentials?"include":"same-origin"}).then(function(jt){et._fetchResponse=jt,et._connect()},function(jt){et.emit("error",jt)});else{var St=et._xhr=new a.XMLHttpRequest;try{St.open(et._opts.method,et._opts.url,!0)}catch(jt){return void c.nextTick(function(){et.emit("error",jt)})}"responseType"in St&&(St.responseType=et._mode.split(":")[0]),"withCredentials"in St&&(St.withCredentials=!!tt.withCredentials),et._mode==="text"&&"overrideMimeType"in St&&St.overrideMimeType("text/plain; charset=x-user-defined"),"timeout"in tt&&(St.timeout=tt.timeout,St.ontimeout=function(){et.emit("timeout")}),ut.forEach(function(jt){St.setRequestHeader(jt[0],jt[1])}),et._response=null,St.onreadystatechange=function(){switch(St.readyState){case lt.LOADING:case lt.DONE:et._onXHRProgress()}},et._mode==="moz-chunked-arraybuffer"&&(St.onprogress=function(){et._onXHRProgress()}),St.onerror=function(){et._destroyed||et.emit("error",new Error("XHR error"))};try{St.send(st)}catch(jt){return void c.nextTick(function(){et.emit("error",jt)})}}}},it.prototype._onXHRProgress=function(){var et=this;h(et._xhr)&&!et._destroyed&&(et._response||et._connect(),et._response._onXHRProgress())},it.prototype._connect=function(){var et=this;et._destroyed||(et._response=new rt(et._xhr,et._fetchResponse,et._mode),et._response.on("error",function(tt){et.emit("error",tt)}),et.emit("response",et._response))},it.prototype._write=function(et,tt,nt){this._body.push(et),nt()},it.prototype.abort=it.prototype.destroy=function(){var et=this;et._destroyed=!0,et._response&&(et._response._destroyed=!0),et._xhr&&et._xhr.abort()},it.prototype.end=function(et,tt,nt){var st=this;typeof et=="function"&&(nt=et,et=void 0),j.Writable.prototype.end.call(st,et,tt,nt)},it.prototype.flushHeaders=function(){},it.prototype.setTimeout=function(){},it.prototype.setNoDelay=function(){},it.prototype.setSocketKeepAlive=function(){};var ht=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(e,o(20).Buffer,o(1),o(13))},function(i,e,o){(function(s,a,c){var d=o(66),h=o(14),_=o(67),g=e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},b=e.IncomingMessage=function(j,$,rt){function lt(){ht.read().then(function(nt){if(!it._destroyed){if(nt.done)return void it.push(null);it.push(new a(nt.value)),lt()}}).catch(function(nt){it.emit("error",nt)})}var it=this;if(_.Readable.call(it),it._mode=rt,it.headers={},it.rawHeaders=[],it.trailers={},it.rawTrailers=[],it.on("end",function(){s.nextTick(function(){it.emit("close")})}),rt==="fetch"){it._fetchResponse=$,it.url=$.url,it.statusCode=$.status,it.statusMessage=$.statusText,$.headers.forEach(function(nt,st){it.headers[st.toLowerCase()]=nt,it.rawHeaders.push(st,nt)});var ht=$.body.getReader();lt()}else if(it._xhr=j,it._pos=0,it.url=j.responseURL,it.statusCode=j.status,it.statusMessage=j.statusText,j.getAllResponseHeaders().split(/\r?\n/).forEach(function(nt){var st=nt.match(/^([^:]+):\s*(.*)/);if(st){var ut=st[1].toLowerCase();ut==="set-cookie"?(it.headers[ut]===void 0&&(it.headers[ut]=[]),it.headers[ut].push(st[2])):it.headers[ut]!==void 0?it.headers[ut]+=", "+st[2]:it.headers[ut]=st[2],it.rawHeaders.push(st[1],st[2])}}),it._charset="x-user-defined",!d.overrideMimeType){var et=it.rawHeaders["mime-type"];if(et){var tt=et.match(/;\s*charset=([^;])(;|$)/);tt&&(it._charset=tt[1].toLowerCase())}it._charset||(it._charset="utf-8")}};h(b,_.Readable),b.prototype._read=function(){},b.prototype._onXHRProgress=function(){var j=this,$=j._xhr,rt=null;switch(j._mode){case"text:vbarray":if($.readyState!==g.DONE)break;try{rt=new c.VBArray($.responseBody).toArray()}catch{}if(rt!==null){j.push(new a(rt));break}case"text":try{rt=$.responseText}catch{j._mode="text:vbarray";break}if(rt.length>j._pos){var lt=rt.substr(j._pos);if(j._charset==="x-user-defined"){for(var it=new a(lt.length),ht=0;ht<lt.length;ht++)it[ht]=255&lt.charCodeAt(ht);j.push(it)}else j.push(lt,j._charset);j._pos=rt.length}break;case"arraybuffer":if($.readyState!==g.DONE||!$.response)break;rt=$.response,j.push(new a(new Uint8Array(rt)));break;case"moz-chunked-arraybuffer":if(rt=$.response,$.readyState!==g.LOADING||!rt)break;j.push(new a(new Uint8Array(rt)));break;case"ms-stream":if(rt=$.response,$.readyState!==g.LOADING)break;var et=new c.MSStreamReader;et.onprogress=function(){et.result.byteLength>j._pos&&(j.push(new a(new Uint8Array(et.result.slice(j._pos)))),j._pos=et.result.byteLength)},et.onload=function(){j.push(null)},et.readAsArrayBuffer(rt)}j._xhr.readyState===g.DONE&&j._mode!=="ms-stream"&&j.push(null)}}).call(e,o(13),o(20).Buffer,o(1))},function(i,e){},function(i,e,o){function s(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function a(d,h,_){d.copy(h,_)}var c=o(31).Buffer;i.exports=function(){function d(){s(this,d),this.head=null,this.tail=null,this.length=0}return d.prototype.push=function(h){var _={data:h,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length},d.prototype.unshift=function(h){var _={data:h,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length},d.prototype.shift=function(){if(this.length!==0){var h=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,h}},d.prototype.clear=function(){this.head=this.tail=null,this.length=0},d.prototype.join=function(h){if(this.length===0)return"";for(var _=this.head,g=""+_.data;_=_.next;)g+=h+_.data;return g},d.prototype.concat=function(h){if(this.length===0)return c.alloc(0);if(this.length===1)return this.head.data;for(var _=c.allocUnsafe(h>>>0),g=this.head,b=0;g;)a(g.data,_,b),b+=g.data.length,g=g.next;return _},d}()},function(i,e,o){function s(c,d){this._id=c,this._clearFn=d}var a=Function.prototype.apply;e.setTimeout=function(){return new s(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new s(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(c){c&&c.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(c,d){clearTimeout(c._idleTimeoutId),c._idleTimeout=d},e.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},e._unrefActive=e.active=function(c){clearTimeout(c._idleTimeoutId);var d=c._idleTimeout;d>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},d))},o(156),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(i,e,o){(function(s,a){(function(c,d){function h(et){typeof et!="function"&&(et=new Function(""+et));for(var tt=new Array(arguments.length-1),nt=0;nt<tt.length;nt++)tt[nt]=arguments[nt+1];var st={callback:et,args:tt};return rt[$]=st,j($),$++}function _(et){delete rt[et]}function g(et){var tt=et.callback,nt=et.args;switch(nt.length){case 0:tt();break;case 1:tt(nt[0]);break;case 2:tt(nt[0],nt[1]);break;case 3:tt(nt[0],nt[1],nt[2]);break;default:tt.apply(d,nt)}}function b(et){if(lt)setTimeout(b,0,et);else{var tt=rt[et];if(tt){lt=!0;try{g(tt)}finally{_(et),lt=!1}}}}if(!c.setImmediate){var j,$=1,rt={},lt=!1,it=c.document,ht=Object.getPrototypeOf&&Object.getPrototypeOf(c);ht=ht&&ht.setTimeout?ht:c,{}.toString.call(c.process)==="[object process]"?function(){j=function(et){a.nextTick(function(){b(et)})}}():function(){if(c.postMessage&&!c.importScripts){var et=!0,tt=c.onmessage;return c.onmessage=function(){et=!1},c.postMessage("","*"),c.onmessage=tt,et}}()?function(){var et="setImmediate$"+Math.random()+"$",tt=function(nt){nt.source===c&&typeof nt.data=="string"&&nt.data.indexOf(et)===0&&b(+nt.data.slice(et.length))};c.addEventListener?c.addEventListener("message",tt,!1):c.attachEvent("onmessage",tt),j=function(nt){c.postMessage(et+nt,"*")}}():c.MessageChannel?function(){var et=new MessageChannel;et.port1.onmessage=function(tt){b(tt.data)},j=function(tt){et.port2.postMessage(tt)}}():it&&"onreadystatechange"in it.createElement("script")?function(){var et=it.documentElement;j=function(tt){var nt=it.createElement("script");nt.onreadystatechange=function(){b(tt),nt.onreadystatechange=null,et.removeChild(nt),nt=null},et.appendChild(nt)}}():function(){j=function(et){setTimeout(b,0,et)}}(),ht.setImmediate=h,ht.clearImmediate=_}})(typeof self>"u"?s===void 0?this:s:self)}).call(e,o(1),o(13))},function(i,e,o){(function(s){function a(d,h){function _(){if(!g){if(c("throwDeprecation"))throw new Error(h);c("traceDeprecation")?console.trace(h):console.warn(h),g=!0}return d.apply(this,arguments)}if(c("noDeprecation"))return d;var g=!1;return _}function c(d){try{if(!s.localStorage)return!1}catch{return!1}var h=s.localStorage[d];return h!=null&&String(h).toLowerCase()==="true"}i.exports=a}).call(e,o(1))},function(i,e,o){function s(d){if(!(this instanceof s))return new s(d);a.call(this,d)}i.exports=s;var a=o(74),c=o(25);c.inherits=o(14),c.inherits(s,a),s.prototype._transform=function(d,h,_){_(null,d)}},function(i,e,o){var s=o(20).Buffer;i.exports=function(a){if(a instanceof Uint8Array){if(a.byteOffset===0&&a.byteLength===a.buffer.byteLength)return a.buffer;if(typeof a.buffer.slice=="function")return a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)}if(s.isBuffer(a)){for(var c=new Uint8Array(a.length),d=a.length,h=0;h<d;h++)c[h]=a[h];return c.buffer}throw new Error("Argument must be a Buffer")}},function(i,e){function o(){for(var a={},c=0;c<arguments.length;c++){var d=arguments[c];for(var h in d)s.call(d,h)&&(a[h]=d[h])}return a}i.exports=o;var s=Object.prototype.hasOwnProperty},function(i,e){i.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(i,e,o){function s(_){if(typeof _=="string"&&(_=c.parse(_)),_.protocol||(_.protocol="https:"),_.protocol!=="https:")throw new Error('Protocol "'+_.protocol+'" not supported. Expected "https:"');return _}var a=o(65),c=o(49),d=i.exports;for(var h in a)a.hasOwnProperty(h)&&(d[h]=a[h]);d.request=function(_,g){return _=s(_),a.request.call(this,_,g)},d.get=function(_,g){return _=s(_),a.get.call(this,_,g)}},function(i,e){},function(i,e,o){var s=o(10),a=o.n(s),c=o(3),d=o.n(c),h=o(5),_=o.n(h),g=o(11),b=o.n(g),j=o(12),$=o.n(j),rt=o(19),lt=o(24).fabric,it=function(ht){function et(){return d()(this,et),b()(this,(et.__proto__||a()(et)).apply(this,arguments))}return $()(et,ht),_()(et,[{key:"configureCanvas",value:function(tt){var nt=this._canvas;nt.isDrawingMode=nt.selection=!1,nt.forEachObject(function(st){return st.selectable=st.evented=!1}),this._width=tt.lineWidth,this._color=tt.lineColor,this._fill=tt.fillColor}},{key:"doMouseDown",value:function(tt){var nt=this._canvas;this.isDown=!0;var st=nt.getPointer(tt.e);this.startX=st.x,this.startY=st.y,this.rect=new lt.Rect({left:this.startX,top:this.startY,originX:"left",originY:"top",width:st.x-this.startX,height:st.y-this.startY,stroke:this._color,strokeWidth:this._width,fill:this._fill,transparentCorners:!1,selectable:!1,evented:!1,angle:0}),nt.add(this.rect)}},{key:"doMouseMove",value:function(tt){if(this.isDown){var nt=this._canvas,st=nt.getPointer(tt.e);this.startX>st.x&&this.rect.set({left:Math.abs(st.x)}),this.startY>st.y&&this.rect.set({top:Math.abs(st.y)}),this.rect.set({width:Math.abs(this.startX-st.x)}),this.rect.set({height:Math.abs(this.startY-st.y)}),this.rect.setCoords(),nt.renderAll()}}},{key:"doMouseUp",value:function(tt){this.isDown=!1}}]),et}(rt.a);e.a=it},function(i,e,o){var s=o(10),a=o.n(s),c=o(3),d=o.n(c),h=o(5),_=o.n(h),g=o(11),b=o.n(g),j=o(12),$=o.n(j),rt=o(19),lt=o(63),it=o(24).fabric,ht=function(et){function tt(){return d()(this,tt),b()(this,(tt.__proto__||a()(tt)).apply(this,arguments))}return $()(tt,et),_()(tt,[{key:"configureCanvas",value:function(nt){var st=this._canvas;st.isDrawingMode=st.selection=!1,st.forEachObject(function(ut){return ut.selectable=ut.evented=!1}),this._width=nt.lineWidth,this._color=nt.lineColor,this._fill=nt.fillColor}},{key:"doMouseDown",value:function(nt){var st=this._canvas;this.isDown=!0;var ut=st.getPointer(nt.e),St=[ut.x,ut.y];this.startX=St[0],this.startY=St[1],this.circle=new it.Circle({left:this.startX,top:this.startY,originX:"left",originY:"center",strokeWidth:this._width,stroke:this._color,fill:this._fill,selectable:!1,evented:!1,radius:1}),st.add(this.circle)}},{key:"doMouseMove",value:function(nt){if(this.isDown){var st=this._canvas,ut=st.getPointer(nt.e);this.circle.set({radius:Object(lt.a)({x:this.startX,y:this.startY},{x:ut.x,y:ut.y})/2,angle:180*Math.atan2(ut.y-this.startY,ut.x-this.startX)/Math.PI}),this.circle.setCoords(),st.renderAll()}}},{key:"doMouseUp",value:function(nt){this.isDown=!1}}]),tt}(rt.a);e.a=ht},function(i,e,o){var s=o(10),a=o.n(s),c=o(3),d=o.n(c),h=o(5),_=o.n(h),g=o(11),b=o.n(g),j=o(12),$=o.n(j),rt=o(19),lt=(o(24).fabric,function(it){function ht(){return d()(this,ht),b()(this,(ht.__proto__||a()(ht)).apply(this,arguments))}return $()(ht,it),_()(ht,[{key:"configureCanvas",value:function(et){var tt=this._canvas;tt.isDrawingMode=tt.selection=!1,tt.forEachObject(function(nt){return nt.selectable=nt.evented=!1}),tt.defaultCursor="move"}},{key:"doMouseDown",value:function(et){var tt=this._canvas;this.isDown=!0;var nt=tt.getPointer(et.e);this.startX=nt.x,this.startY=nt.y}},{key:"doMouseMove",value:function(et){if(this.isDown){var tt=this._canvas,nt=tt.getPointer(et.e);tt.relativePan({x:nt.x-this.startX,y:nt.y-this.startY}),tt.renderAll()}}},{key:"doMouseUp",value:function(et){this.isDown=!1}}]),ht}(rt.a));e.a=lt}])})})(lib);var libExports=lib.exports;const Layout=()=>{const i=reactExports.useRef(null),[e,o]=reactExports.useState(""),[s,a]=reactExports.useState(""),c=async()=>{const h=i.current.toDataURL(),g=await(await fetch("https://realmonte.pythonanywhere.com/process",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:h})})).text();a(g),o(void 0)},d=()=>{i.current.clear(),a("")};return jsxRuntimeExports.jsx("div",{className:"App",children:jsxRuntimeExports.jsxs("header",{className:"App-header",children:[jsxRuntimeExports.jsx("p",{children:"Draw a digit here:"}),jsxRuntimeExports.jsxs("div",{className:"holder",children:[jsxRuntimeExports.jsx("div",{className:"blob-1 child1"}),jsxRuntimeExports.jsx("div",{className:"sketchWrapper child2",children:jsxRuntimeExports.jsx(libExports.SketchField,{ref:i,width:"100%",height:"100%",lineColor:"#111",lineWidth:10})})]}),jsxRuntimeExports.jsxs("p",{children:["Predicted value is: ",s||" "]}),jsxRuntimeExports.jsxs("div",{className:"controls",children:[jsxRuntimeExports.jsx("button",{onClick:d,children:"Clear"}),jsxRuntimeExports.jsx("button",{onClick:c,children:"Guess the number"})]}),e&&jsxRuntimeExports.jsx("p",{className:"message",children:"Something went wrong"})]})})};client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(Layout,{}));
